2025-07-08 13:18:55,672 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:18:55,721 - app.main - ERROR - ❌ 서비스 초기화 실패: (asyncmy.errors.OperationalError) (1045, "Access denied for user 'chatbot_user'@'localhost' (using password: YES)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-08 13:24:33,462 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:24:33,480 - app.main - ERROR - ❌ 서비스 초기화 실패: (asyncmy.errors.OperationalError) (1045, "Access denied for user 'chatbot_user'@'localhost' (using password: YES)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-08 13:25:32,246 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:25:32,267 - app.main - WARNING - ⚠️ MySQL 데이터베이스 연결 실패: (asyncmy.errors.OperationalError) (1045, "Access denied for user 'chatbot_user'@'localhost' (using password: YES)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-08 13:25:32,267 - app.main - WARNING - 데이터베이스 없이 서버를 시작합니다. 일부 기능이 제한될 수 있습니다.
2025-07-08 13:25:32,278 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:25:32,278 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:25:32,278 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:25:32,278 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:25:32,278 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:26:17,250 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:26:18,250 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:26:18,260 - app.main - ERROR - ❌ 서비스 초기화 실패: (asyncmy.errors.OperationalError) (1045, "Access denied for user 'chatbot_user'@'localhost' (using password: YES)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-08 13:26:51,632 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:26:51,649 - app.main - ERROR - ❌ 서비스 초기화 실패: (asyncmy.errors.OperationalError) (1045, "Access denied for user 'chatbot_user'@'localhost' (using password: YES)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-08 13:35:24,050 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:35:24,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:35:24,053 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:35:24,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:35:24,054 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:35:24,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:35:24,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:35:24,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 13:36:50,662 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:36:50,662 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:36:50,663 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:36:50,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:36:50,663 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:36:50,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:36:50,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:36:50,664 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-07-08 13:36:50,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ()
2025-07-08 13:36:50,664 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:36:50,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:36:50,669 - sqlalchemy.engine.Engine - INFO - SHOW TABLES
2025-07-08 13:36:50,670 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ()
2025-07-08 13:36:50,672 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:37:08,649 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:37:08,667 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:37:08,667 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,668 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:37:08,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,668 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:37:08,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:37:08,669 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:37:08,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,673 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:37:08,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,674 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:37:08,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,675 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:37:08,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,678 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:37:08,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,679 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:37:08,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,681 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:37:08,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,682 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:37:08,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,684 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:37:08,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,686 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:37:08,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,688 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:37:08,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,690 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:37:08,690 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,691 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:37:08,691 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,692 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:37:08,692 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:37:08,693 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:37:08,694 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:37:08,705 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:37:08,706 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:37:08,706 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:37:08,706 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:37:08,706 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:37:21,934 - app.main - INFO - 🔄 GET / - 클라이언트: 127.0.0.1
2025-07-08 13:37:21,936 - app.main - INFO - ✅ GET / - 200 - 0.002s
2025-07-08 13:37:22,015 - app.main - INFO - 🔄 GET /favicon.ico - 클라이언트: 127.0.0.1
2025-07-08 13:37:22,016 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://0.0.0.0:8000/favicon.ico
2025-07-08 13:37:22,016 - app.main - INFO - ✅ GET /favicon.ico - 404 - 0.001s
2025-07-08 13:37:37,469 - app.main - INFO - 🔄 GET /docs - 클라이언트: 127.0.0.1
2025-07-08 13:37:37,469 - app.main - INFO - ✅ GET /docs - 200 - 0.001s
2025-07-08 13:37:37,608 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 13:37:37,673 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.065s
2025-07-08 13:44:07,228 - app.main - INFO - 🔄 GET / - 클라이언트: 127.0.0.1
2025-07-08 13:44:07,229 - app.main - INFO - ✅ GET / - 200 - 0.002s
2025-07-08 13:44:15,153 - app.main - INFO - 🔄 GET /health - 클라이언트: 127.0.0.1
2025-07-08 13:44:15,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:44:15,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 13:44:15,169 - app.main - ERROR - 데이터베이스 헬스 체크 실패: Not an executable object: 'SELECT 1'
2025-07-08 13:44:15,169 - app.main - INFO - ✅ GET /health - 200 - 0.016s
2025-07-08 13:44:20,438 - app.main - INFO - 🔄 GET /info - 클라이언트: 127.0.0.1
2025-07-08 13:44:20,439 - app.main - INFO - ✅ GET /info - 200 - 0.001s
2025-07-08 13:44:51,710 - app.main - INFO - 🔄 POST /api/v1/users/register - 클라이언트: 127.0.0.1
2025-07-08 13:44:51,711 - app.main - ERROR - HTTP 예외: 405 - Method Not Allowed - URL: http://localhost:8000/api/v1/users/register
2025-07-08 13:44:51,711 - app.main - INFO - ✅ POST /api/v1/users/register - 405 - 0.001s
2025-07-08 13:44:58,355 - app.main - INFO - 🔄 GET /docs - 클라이언트: 127.0.0.1
2025-07-08 13:44:58,356 - app.main - INFO - ✅ GET /docs - 200 - 0.001s
2025-07-08 13:45:05,740 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 13:45:05,745 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.005s
2025-07-08 13:45:38,708 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 13:45:38,711 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.003s
2025-07-08 13:45:46,267 - app.main - INFO - 🔄 POST /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 13:45:46,274 - app.main - ERROR - 유효성 검증 오류: [{'type': 'enum', 'loc': ('body', 'gender'), 'msg': "Input should be 'M', 'F' or 'OTHER'", 'input': 'male', 'ctx': {'expected': "'M', 'F' or 'OTHER'"}}] - URL: http://localhost:8000/api/v1/users/
2025-07-08 13:45:46,275 - app.main - INFO - ✅ POST /api/v1/users/ - 422 - 0.008s
2025-07-08 13:46:09,116 - app.main - INFO - 🔄 POST /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 13:46:09,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:46:09,152 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (id, name, age, gender, speech_style, phone, profile_image, is_active, last_login, created_at, updated_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now(), now())
2025-07-08 13:46:09,152 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('ad6ee6a6-7c38-4a2c-8bf4-fe2eca57fe89', '테스트사용자', 70, 'M', None, None, None, 1, None)
2025-07-08 13:46:09,159 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:46:09,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:46:09,163 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 13:46:09,163 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('ad6ee6a6-7c38-4a2c-8bf4-fe2eca57fe89',)
2025-07-08 13:46:09,164 - app.api.user - INFO - 새 사용자 등록 완료 - ID: ad6ee6a6-7c38-4a2c-8bf4-fe2eca57fe89, 이름: 테스트사용자
2025-07-08 13:46:09,165 - app.api.user - ERROR - 사용자 등록 중 오류 발생: 3 validation errors for UserResponse
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='ad6ee6a6-7c38-4a2c-8bf4-fe2eca57fe89', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
display_name
  Field required [type=missing, input_value={'id': 'ad6ee6a6-7c38-4a2...(2025, 7, 8, 13, 46, 9)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
age_group
  Field required [type=missing, input_value={'id': 'ad6ee6a6-7c38-4a2...(2025, 7, 8, 13, 46, 9)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 13:46:09,165 - app.database - ERROR - 데이터베이스 세션 오류: 500: 사용자 등록 중 오류가 발생했습니다: 3 validation errors for UserResponse
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='ad6ee6a6-7c38-4a2c-8bf4-fe2eca57fe89', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
display_name
  Field required [type=missing, input_value={'id': 'ad6ee6a6-7c38-4a2...(2025, 7, 8, 13, 46, 9)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
age_group
  Field required [type=missing, input_value={'id': 'ad6ee6a6-7c38-4a2...(2025, 7, 8, 13, 46, 9)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 13:46:09,165 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 13:46:09,165 - app.main - ERROR - HTTP 예외: 500 - 사용자 등록 중 오류가 발생했습니다: 3 validation errors for UserResponse
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='ad6ee6a6-7c38-4a2c-8bf4-fe2eca57fe89', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
display_name
  Field required [type=missing, input_value={'id': 'ad6ee6a6-7c38-4a2...(2025, 7, 8, 13, 46, 9)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
age_group
  Field required [type=missing, input_value={'id': 'ad6ee6a6-7c38-4a2...(2025, 7, 8, 13, 46, 9)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/users/
2025-07-08 13:46:09,166 - app.main - INFO - ✅ POST /api/v1/users/ - 500 - 0.050s
2025-07-08 13:46:19,770 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 13:46:19,771 - app.api.user - ERROR - 사용자 목록 조회 중 오류 발생: name 'get_users_list' is not defined
2025-07-08 13:46:19,771 - app.database - ERROR - 데이터베이스 세션 오류: 500: 사용자 목록 조회 중 오류가 발생했습니다: name 'get_users_list' is not defined
2025-07-08 13:46:19,771 - app.main - ERROR - HTTP 예외: 500 - 사용자 목록 조회 중 오류가 발생했습니다: name 'get_users_list' is not defined - URL: http://localhost:8000/api/v1/users/
2025-07-08 13:46:19,772 - app.main - INFO - ✅ GET /api/v1/users/ - 500 - 0.002s
2025-07-08 13:47:12,506 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:47:13,574 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:47:13,578 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:47:13,578 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,578 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:47:13,578 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,578 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:47:13,578 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,579 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:47:13,579 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:47:13,579 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,581 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:47:13,581 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,583 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:47:13,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,584 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:47:13,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,585 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:47:13,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,586 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:47:13,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,586 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:47:13,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,587 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:47:13,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,590 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:47:13,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,592 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:47:13,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,593 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:47:13,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,594 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:47:13,594 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,595 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:47:13,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,595 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:47:13,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:13,596 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:47:13,597 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:47:13,608 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:47:13,608 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:47:13,609 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:47:13,609 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:47:13,609 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:47:27,162 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:47:28,231 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:47:28,234 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:47:28,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,234 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:47:28,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,234 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:47:28,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:47:28,235 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:47:28,235 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,237 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:47:28,237 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,238 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:47:28,238 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,239 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:47:28,239 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,240 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:47:28,240 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,240 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:47:28,240 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,241 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:47:28,242 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,243 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:47:28,243 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,245 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:47:28,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,246 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:47:28,246 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,248 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:47:28,248 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,250 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:47:28,250 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,251 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:47:28,251 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,252 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:47:28,252 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:28,253 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:47:28,253 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:47:28,265 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:47:28,266 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:47:28,266 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:47:28,266 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:47:28,266 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:47:33,827 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:47:34,842 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:47:34,844 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:47:34,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,844 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:47:34,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,845 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:47:34,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:47:34,845 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:47:34,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,847 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:47:34,847 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,849 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:47:34,849 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,850 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:47:34,850 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,852 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:47:34,852 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,852 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:47:34,852 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,854 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:47:34,854 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,855 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:47:34,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,856 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:47:34,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,857 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:47:34,857 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,858 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:47:34,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,859 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:47:34,859 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,860 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:47:34,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,861 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:47:34,861 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:34,863 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:47:34,863 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:47:34,874 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:47:34,875 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:47:34,875 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:47:34,875 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:47:34,875 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:47:40,026 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:47:41,039 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:47:41,041 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:47:41,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,041 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:47:41,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,042 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:47:41,042 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:47:41,042 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:47:41,042 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,044 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:47:41,044 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,046 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:47:41,046 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,047 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:47:41,047 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,048 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:47:41,048 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,049 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:47:41,049 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,050 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:47:41,050 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,051 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:47:41,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,051 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:47:41,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,052 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:47:41,052 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,053 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:47:41,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,054 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:47:41,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,055 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:47:41,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,056 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:47:41,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:41,057 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:47:41,058 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:47:41,069 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:47:41,069 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:47:41,069 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:47:41,069 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:47:41,069 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:47:46,934 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:47:47,817 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:47:47,819 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:47:47,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,819 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:47:47,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,819 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:47:47,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:47:47,820 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:47:47,820 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,822 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:47:47,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,823 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:47:47,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,825 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:47:47,825 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,825 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:47:47,825 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,826 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:47:47,826 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,827 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:47:47,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,828 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:47:47,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,830 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:47:47,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,831 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:47:47,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,833 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:47:47,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:47:47,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,835 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:47:47,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:47:47,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:47,837 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:47:47,838 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:47:47,849 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:47:47,849 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:47:47,849 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:47:47,849 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:47:47,849 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:47:53,808 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:47:54,715 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:47:54,717 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:47:54,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,718 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:47:54,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,718 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:47:54,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,718 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:47:54,718 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:47:54,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,721 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:47:54,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,722 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:47:54,722 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,723 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:47:54,723 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,724 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:47:54,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,725 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:47:54,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,726 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:47:54,726 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,727 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:47:54,727 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,728 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:47:54,728 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,729 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:47:54,729 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,731 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:47:54,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,732 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:47:54,732 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,733 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:47:54,733 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,734 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:47:54,734 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:47:54,736 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:47:54,736 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:47:54,747 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:47:54,747 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:47:54,747 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:47:54,747 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:47:54,747 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:48:11,622 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:48:12,701 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:48:12,703 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:48:12,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,703 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:48:12,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,704 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:48:12,704 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,704 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:48:12,704 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:48:12,704 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,707 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:48:12,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,708 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:48:12,709 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,710 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:48:12,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,712 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:48:12,712 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,713 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:48:12,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,714 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:48:12,714 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,715 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:48:12,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,716 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:48:12,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,717 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:48:12,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,718 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:48:12,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,719 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:48:12,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,720 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:48:12,720 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,721 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:48:12,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:12,723 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:48:12,723 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:48:12,733 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:48:12,734 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:48:12,734 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:48:12,734 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:48:12,734 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:48:25,971 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:48:26,912 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:48:26,914 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:48:26,914 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,914 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:48:26,914 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,915 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:48:26,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,915 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:48:26,915 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:48:26,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,917 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:48:26,917 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,919 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:48:26,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,920 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:48:26,920 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,922 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:48:26,922 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,923 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:48:26,923 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,924 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:48:26,924 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,925 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:48:26,925 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,926 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:48:26,926 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,928 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:48:26,928 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,929 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:48:26,929 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,930 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:48:26,930 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,931 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:48:26,931 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,931 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:48:26,931 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:26,933 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:48:26,933 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:48:26,944 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:48:26,944 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:48:26,944 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:48:26,944 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:48:26,944 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:48:32,703 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:48:33,642 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:48:33,647 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:48:33,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,647 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:48:33,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,647 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:48:33,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,648 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:48:33,648 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:48:33,648 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,650 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:48:33,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,651 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:48:33,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,653 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:48:33,653 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,654 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:48:33,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,655 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:48:33,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,657 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:48:33,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,658 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:48:33,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,660 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:48:33,660 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,661 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:48:33,661 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,662 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:48:33,662 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,663 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:48:33,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,664 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:48:33,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,665 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:48:33,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:48:33,666 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:48:33,666 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:48:33,677 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:48:33,677 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:48:33,677 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:48:33,677 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:48:33,677 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:48:51,406 - app.main - INFO - 🔄 GET /health - 클라이언트: 127.0.0.1
2025-07-08 13:48:51,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:48:51,420 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-07-08 13:48:51,420 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-07-08 13:48:51,421 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:48:51,422 - app.main - INFO - ✅ GET /health - 200 - 0.016s
2025-07-08 13:49:00,077 - app.main - INFO - 🔄 POST /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 13:49:00,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:49:00,113 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (id, name, age, gender, speech_style, phone, profile_image, is_active, last_login, created_at, updated_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now(), now())
2025-07-08 13:49:00,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('c18379cb-49d5-4eb9-8b18-ec1029adbad7', '테스트사용자', 70, 'M', None, None, None, 1, None)
2025-07-08 13:49:00,114 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:49:00,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:49:00,119 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 13:49:00,119 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('c18379cb-49d5-4eb9-8b18-ec1029adbad7',)
2025-07-08 13:49:00,120 - app.api.user - INFO - 새 사용자 등록 완료 - ID: c18379cb-49d5-4eb9-8b18-ec1029adbad7, 이름: 테스트사용자
2025-07-08 13:49:00,120 - app.api.user - ERROR - 사용자 등록 중 오류 발생: 2 validation errors for UserResponse
display_name
  Field required [type=missing, input_value={'id': 'c18379cb-49d5-4eb...ime(2025, 7, 8, 13, 49)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
age_group
  Field required [type=missing, input_value={'id': 'c18379cb-49d5-4eb...ime(2025, 7, 8, 13, 49)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 13:49:00,120 - app.database - ERROR - 데이터베이스 세션 오류: 500: 사용자 등록 중 오류가 발생했습니다: 2 validation errors for UserResponse
display_name
  Field required [type=missing, input_value={'id': 'c18379cb-49d5-4eb...ime(2025, 7, 8, 13, 49)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
age_group
  Field required [type=missing, input_value={'id': 'c18379cb-49d5-4eb...ime(2025, 7, 8, 13, 49)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 13:49:00,120 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 13:49:00,121 - app.main - ERROR - HTTP 예외: 500 - 사용자 등록 중 오류가 발생했습니다: 2 validation errors for UserResponse
display_name
  Field required [type=missing, input_value={'id': 'c18379cb-49d5-4eb...ime(2025, 7, 8, 13, 49)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
age_group
  Field required [type=missing, input_value={'id': 'c18379cb-49d5-4eb...ime(2025, 7, 8, 13, 49)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/users/
2025-07-08 13:49:00,121 - app.main - INFO - ✅ POST /api/v1/users/ - 500 - 0.044s
2025-07-08 13:49:12,544 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:49:13,457 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:49:13,459 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:49:13,459 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,459 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:49:13,459 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,459 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:49:13,460 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:49:13,460 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:49:13,460 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,462 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:49:13,462 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,463 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:49:13,463 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,464 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:49:13,464 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,465 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:49:13,465 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,467 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:49:13,467 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,469 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:49:13,469 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,470 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:49:13,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,471 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:49:13,471 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,472 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:49:13,472 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,473 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:49:13,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,474 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:49:13,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,475 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:49:13,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,476 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:49:13,476 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:13,477 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:49:13,478 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:49:13,489 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:49:13,490 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:49:13,490 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:49:13,490 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:49:13,490 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:49:33,753 - app.main - INFO - 🔄 POST /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 13:49:33,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:49:33,791 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (id, name, age, gender, speech_style, phone, profile_image, is_active, last_login, created_at, updated_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now(), now())
2025-07-08 13:49:33,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', '테스트사용자', 70, 'M', None, None, None, 1, None)
2025-07-08 13:49:33,792 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:49:33,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:49:33,795 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 13:49:33,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 13:49:33,796 - app.api.user - INFO - 새 사용자 등록 완료 - ID: da78328e-ddee-407f-8a8d-7cd0c8325486, 이름: 테스트사용자
2025-07-08 13:49:33,796 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 13:49:33,797 - app.main - INFO - ✅ POST /api/v1/users/ - 200 - 0.044s
2025-07-08 13:49:42,750 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 13:49:42,751 - app.api.user - ERROR - 사용자 목록 조회 중 오류 발생: name 'get_users_list' is not defined
2025-07-08 13:49:42,751 - app.database - ERROR - 데이터베이스 세션 오류: 500: 사용자 목록 조회 중 오류가 발생했습니다: name 'get_users_list' is not defined
2025-07-08 13:49:42,752 - app.main - ERROR - HTTP 예외: 500 - 사용자 목록 조회 중 오류가 발생했습니다: name 'get_users_list' is not defined - URL: http://localhost:8000/api/v1/users/
2025-07-08 13:49:42,752 - app.main - INFO - ✅ GET /api/v1/users/ - 500 - 0.002s
2025-07-08 13:49:58,464 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 13:49:59,795 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 13:49:59,797 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 13:49:59,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,797 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 13:49:59,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,798 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 13:49:59,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:49:59,798 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 13:49:59,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,800 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 13:49:59,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,801 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 13:49:59,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,803 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 13:49:59,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,804 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 13:49:59,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,805 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 13:49:59,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,807 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 13:49:59,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,809 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 13:49:59,809 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,810 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 13:49:59,810 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,811 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 13:49:59,812 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,812 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 13:49:59,812 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,813 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 13:49:59,813 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,814 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 13:49:59,814 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,815 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 13:49:59,815 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 13:49:59,816 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 13:49:59,816 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 13:49:59,827 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 13:49:59,827 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 13:49:59,827 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 13:49:59,827 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 13:49:59,827 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 13:59:51,449 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 13:59:51,466 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 13:59:51,484 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2025-07-08 13:59:51,484 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-07-08 13:59:51,502 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users ORDER BY users.created_at DESC 
 LIMIT %s, %s
2025-07-08 13:59:51,503 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (0, 100)
2025-07-08 13:59:51,504 - app.api.user - ERROR - 사용자 목록 조회 중 오류 발생: 'list' object has no attribute 'id'
2025-07-08 13:59:51,504 - app.database - ERROR - 데이터베이스 세션 오류: 500: 사용자 목록 조회 중 오류가 발생했습니다: 'list' object has no attribute 'id'
2025-07-08 13:59:51,504 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 13:59:51,505 - app.main - ERROR - HTTP 예외: 500 - 사용자 목록 조회 중 오류가 발생했습니다: 'list' object has no attribute 'id' - URL: http://localhost:8000/api/v1/users/
2025-07-08 13:59:51,505 - app.main - INFO - ✅ GET /api/v1/users/ - 500 - 0.056s
2025-07-08 14:00:01,195 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:00:02,304 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:00:02,306 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:00:02,306 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,306 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:00:02,306 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,307 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:00:02,307 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:00:02,307 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:00:02,307 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,312 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:00:02,312 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,313 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:00:02,313 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,314 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:00:02,314 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,315 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:00:02,315 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,316 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:00:02,316 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,318 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:00:02,318 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,319 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:00:02,319 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,323 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:00:02,324 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,326 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:00:02,326 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,327 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:00:02,327 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,328 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:00:02,328 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,329 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:00:02,329 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,330 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:00:02,330 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:02,331 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:00:02,331 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:00:02,342 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:00:02,342 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:00:02,343 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:00:02,343 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:00:02,343 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:00:11,858 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 14:00:11,873 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:00:11,896 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2025-07-08 14:00:11,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2025-07-08 14:00:11,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users ORDER BY users.created_at DESC 
 LIMIT %s, %s
2025-07-08 14:00:11,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (0, 100)
2025-07-08 14:00:11,906 - app.api.user - ERROR - 사용자 목록 조회 중 오류 발생: 1 validation error for UserListResponse
has_more
  Field required [type=missing, input_value={'users': [UserResponse(n...'skip': 0, 'limit': 100}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 14:00:11,906 - app.database - ERROR - 데이터베이스 세션 오류: 500: 사용자 목록 조회 중 오류가 발생했습니다: 1 validation error for UserListResponse
has_more
  Field required [type=missing, input_value={'users': [UserResponse(n...'skip': 0, 'limit': 100}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 14:00:11,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:00:11,908 - app.main - ERROR - HTTP 예외: 500 - 사용자 목록 조회 중 오류가 발생했습니다: 1 validation error for UserListResponse
has_more
  Field required [type=missing, input_value={'users': [UserResponse(n...'skip': 0, 'limit': 100}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/users/
2025-07-08 14:00:11,908 - app.main - INFO - ✅ GET /api/v1/users/ - 500 - 0.050s
2025-07-08 14:00:19,929 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:00:21,059 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:00:21,061 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:00:21,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,062 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:00:21,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,062 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:00:21,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:00:21,063 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:00:21,063 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,065 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:00:21,065 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,066 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:00:21,066 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,068 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:00:21,068 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,069 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:00:21,069 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,070 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:00:21,070 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,071 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:00:21,071 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,072 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:00:21,072 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,073 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:00:21,073 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,074 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:00:21,074 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,076 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:00:21,076 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,077 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:00:21,077 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,078 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:00:21,078 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,079 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:00:21,079 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:00:21,080 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:00:21,081 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:00:21,091 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:00:21,092 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:00:21,092 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:00:21,092 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:00:21,092 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:00:30,409 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 14:00:30,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:00:30,441 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2025-07-08 14:00:30,442 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ()
2025-07-08 14:00:30,446 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users ORDER BY users.created_at DESC 
 LIMIT %s, %s
2025-07-08 14:00:30,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (0, 100)
2025-07-08 14:00:30,448 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:00:30,448 - app.main - INFO - ✅ GET /api/v1/users/ - 200 - 0.039s
2025-07-08 14:00:52,920 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-08 14:00:52,924 - app.main - ERROR - 유효성 검증 오류: [{'type': 'int_parsing', 'loc': ('body', 'user_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}] - URL: http://localhost:8000/api/v1/chat/session
2025-07-08 14:00:52,924 - app.main - INFO - ✅ POST /api/v1/chat/session - 422 - 0.004s
2025-07-08 14:01:22,466 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:01:23,554 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:01:23,556 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:01:23,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,556 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:01:23,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,557 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:01:23,557 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:01:23,557 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:01:23,557 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,559 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:01:23,559 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,560 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:01:23,560 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,561 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:01:23,561 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,562 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:01:23,562 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,563 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:01:23,563 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,564 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:01:23,564 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,565 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:01:23,565 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,567 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:01:23,567 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,568 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:01:23,568 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,570 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:01:23,570 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,571 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:01:23,571 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,573 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:01:23,573 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,574 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:01:23,574 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:23,575 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:01:23,576 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:01:23,586 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:01:23,587 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:01:23,587 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:01:23,587 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:01:23,587 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:01:39,660 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:01:40,559 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:01:40,561 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:01:40,561 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,561 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:01:40,561 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,561 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:01:40,561 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,562 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:01:40,562 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:01:40,562 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,563 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:01:40,563 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,564 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:01:40,564 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,565 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:01:40,565 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,565 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:01:40,565 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,567 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:01:40,567 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,569 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:01:40,569 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,570 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:01:40,570 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,572 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:01:40,572 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,573 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:01:40,573 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,575 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:01:40,575 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,576 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:01:40,576 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,577 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:01:40,577 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,578 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:01:40,578 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:40,579 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:01:40,579 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:01:40,589 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:01:40,590 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:01:40,590 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:01:40,590 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:01:40,590 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:01:48,872 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:01:49,904 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:01:49,907 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:01:49,908 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,909 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:01:49,909 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,909 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:01:49,909 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,910 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:01:49,910 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:01:49,910 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,912 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:01:49,912 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,913 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:01:49,913 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,915 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:01:49,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,916 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:01:49,916 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,918 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:01:49,918 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,919 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:01:49,920 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,921 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:01:49,921 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,922 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:01:49,922 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,923 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:01:49,923 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,924 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:01:49,924 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,924 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:01:49,924 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,925 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:01:49,925 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,927 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:01:49,927 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:49,928 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:01:49,929 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:01:49,942 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:01:49,943 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:01:49,943 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:01:49,943 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:01:49,943 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:01:57,621 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:01:58,585 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:01:58,587 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:01:58,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,588 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:01:58,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,588 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:01:58,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,589 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:01:58,589 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:01:58,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,590 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:01:58,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,591 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:01:58,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,592 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:01:58,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,594 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:01:58,594 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,595 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:01:58,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,596 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:01:58,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,597 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:01:58,598 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,599 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:01:58,599 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,600 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:01:58,600 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,602 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:01:58,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,604 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:01:58,604 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,605 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:01:58,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,607 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:01:58,607 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:01:58,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:01:58,609 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:01:58,622 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:01:58,623 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:01:58,623 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:01:58,623 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:01:58,623 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:02:18,647 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:02:19,842 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:02:19,844 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:02:19,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,845 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:02:19,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,845 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:02:19,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:02:19,845 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:02:19,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,847 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:02:19,847 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,849 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:02:19,849 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,851 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:02:19,851 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,853 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:02:19,853 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,854 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:02:19,854 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,856 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:02:19,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,858 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:02:19,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,859 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:02:19,859 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,860 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:02:19,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,862 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:02:19,862 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,863 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:02:19,864 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,865 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:02:19,865 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,867 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:02:19,867 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:19,868 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:02:19,868 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:02:19,881 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:02:19,881 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:02:19,881 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:02:19,882 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:02:19,882 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:02:25,843 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:02:26,815 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:02:26,819 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:02:26,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,819 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:02:26,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,820 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:02:26,820 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:02:26,820 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:02:26,820 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,822 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:02:26,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,823 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:02:26,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,825 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:02:26,825 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,826 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:02:26,826 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,827 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:02:26,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,828 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:02:26,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,829 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:02:26,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,830 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:02:26,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,831 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:02:26,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,832 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:02:26,832 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:02:26,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,835 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:02:26,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:02:26,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:02:26,838 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:02:26,838 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:02:26,851 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:02:26,852 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:02:26,852 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:02:26,852 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:02:26,852 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:02:38,195 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-08 14:02:38,201 - app.main - ERROR - 유효성 검증 오류: [{'type': 'int_parsing', 'loc': ('body', 'user_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}] - URL: http://localhost:8000/api/v1/chat/session
2025-07-08 14:02:38,201 - app.main - INFO - ✅ POST /api/v1/chat/session - 422 - 0.007s
2025-07-08 14:02:52,346 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 14:02:52,415 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.069s
2025-07-08 14:03:01,429 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 14:03:01,431 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.003s
2025-07-08 14:03:32,565 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:03:33,871 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:03:33,874 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:03:33,874 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,875 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:03:33,875 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,876 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:03:33,876 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:03:33,876 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:03:33,876 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,878 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:03:33,878 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,879 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:03:33,879 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,880 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:03:33,880 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,881 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:03:33,881 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,883 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:03:33,883 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,884 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:03:33,884 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,885 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:03:33,885 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,887 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:03:33,887 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,888 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:03:33,888 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,890 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:03:33,890 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,892 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:03:33,892 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,893 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:03:33,893 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,894 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:03:33,894 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:33,895 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:03:33,895 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:03:33,906 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:03:33,907 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:03:33,907 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:03:33,907 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:03:33,907 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:03:43,105 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:03:44,172 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:03:44,174 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:03:44,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,175 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:03:44,175 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,175 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:03:44,175 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:03:44,176 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:03:44,176 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,177 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:03:44,177 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,178 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:03:44,178 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,180 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:03:44,180 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,181 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:03:44,181 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,183 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:03:44,183 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,185 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:03:44,185 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,187 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:03:44,187 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,189 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:03:44,189 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,190 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:03:44,190 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,192 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:03:44,192 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,192 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:03:44,192 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,193 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:03:44,193 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,195 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:03:44,195 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:44,196 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:03:44,197 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:03:44,208 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:03:44,208 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:03:44,208 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:03:44,208 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:03:44,208 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:03:54,131 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:03:55,466 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:03:55,469 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:03:55,469 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,470 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:03:55,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,470 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:03:55,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,470 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:03:55,471 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:03:55,471 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,472 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:03:55,472 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,474 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:03:55,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,475 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:03:55,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,477 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:03:55,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,478 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:03:55,478 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,479 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:03:55,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,480 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:03:55,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,481 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:03:55,482 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,483 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:03:55,483 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,484 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:03:55,484 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,486 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:03:55,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,488 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:03:55,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,490 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:03:55,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:03:55,491 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:03:55,491 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:03:55,505 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:03:55,505 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:03:55,505 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:03:55,505 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:03:55,505 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:08:18,922 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-08 14:08:18,940 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:08:18,959 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:08:18,959 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:08:18,963 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-08 14:08:18,963 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:08:18,965 - app.api.chat - ERROR - 채팅 세션 생성 중 오류 발생: 'action' is an invalid keyword argument for ChatSession
2025-07-08 14:08:18,965 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 세션 생성 중 오류가 발생했습니다: 'action' is an invalid keyword argument for ChatSession
2025-07-08 14:08:18,965 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:08:18,966 - app.main - ERROR - HTTP 예외: 500 - 채팅 세션 생성 중 오류가 발생했습니다: 'action' is an invalid keyword argument for ChatSession - URL: http://localhost:8000/api/v1/chat/session
2025-07-08 14:08:18,966 - app.main - INFO - ✅ POST /api/v1/chat/session - 500 - 0.044s
2025-07-08 14:10:18,810 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-08 14:10:18,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:10:18,828 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:10:18,828 - sqlalchemy.engine.Engine - INFO - [cached since 119.9s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:10:18,831 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-08 14:10:18,831 - sqlalchemy.engine.Engine - INFO - [cached since 119.9s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:10:18,832 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 'action' is an invalid keyword argument for ChatSession
2025-07-08 14:10:18,832 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 'action' is an invalid keyword argument for ChatSession
2025-07-08 14:10:18,832 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:10:18,833 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 'action' is an invalid keyword argument for ChatSession - URL: http://localhost:8000/api/v1/chat/
2025-07-08 14:10:18,833 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 0.023s
2025-07-08 14:12:01,511 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:12:02,781 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:12:02,784 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:12:02,784 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,784 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:12:02,784 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,784 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:12:02,785 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,785 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:12:02,785 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:12:02,785 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,788 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:12:02,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,791 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:12:02,792 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,793 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:12:02,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,794 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:12:02,794 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,795 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:12:02,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,796 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:12:02,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,798 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:12:02,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,800 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:12:02,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,801 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:12:02,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,803 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:12:02,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,805 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:12:02,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,805 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:12:02,806 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,807 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:12:02,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:02,808 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:12:02,808 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:12:02,821 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:12:02,821 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:12:02,821 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:12:02,821 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:12:02,821 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:12:13,135 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:12:14,182 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:12:14,185 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:12:14,185 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,185 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:12:14,185 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,185 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:12:14,185 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:12:14,186 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:12:14,186 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,188 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:12:14,188 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,189 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:12:14,189 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,191 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:12:14,191 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,193 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:12:14,193 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,194 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:12:14,194 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,196 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:12:14,196 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,197 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:12:14,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,199 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:12:14,199 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,200 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:12:14,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,202 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:12:14,202 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,203 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:12:14,203 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,203 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:12:14,203 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,204 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:12:14,204 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:14,205 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:12:14,205 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:12:14,216 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:12:14,217 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:12:14,217 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:12:14,217 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:12:14,217 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:12:22,202 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:12:23,089 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:12:23,093 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:12:23,093 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,093 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:12:23,093 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,093 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:12:23,093 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:12:23,094 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:12:23,094 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,096 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:12:23,096 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,098 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:12:23,098 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,099 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:12:23,099 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,101 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:12:23,101 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,102 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:12:23,102 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,104 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:12:23,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,104 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:12:23,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,106 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:12:23,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,106 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:12:23,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,107 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:12:23,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,108 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:12:23,108 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,109 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:12:23,109 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,110 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:12:23,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:23,111 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:12:23,112 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:12:23,123 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:12:23,123 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:12:23,123 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:12:23,123 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:12:23,123 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:12:38,578 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:12:39,678 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:12:39,681 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:12:39,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,681 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:12:39,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,681 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:12:39,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,682 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:12:39,682 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:12:39,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,684 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:12:39,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,685 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:12:39,685 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,686 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:12:39,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,687 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:12:39,687 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,688 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:12:39,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,690 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:12:39,690 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,692 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:12:39,692 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,693 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:12:39,693 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,694 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:12:39,694 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,696 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:12:39,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,697 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:12:39,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,698 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:12:39,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,698 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:12:39,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:12:39,699 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:12:39,699 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:12:39,711 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:12:39,711 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:12:39,711 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:12:39,711 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:12:39,711 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:13:06,587 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:13:07,852 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:13:07,855 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:13:07,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,855 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:13:07,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,855 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:13:07,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,856 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:13:07,856 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:13:07,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,858 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:13:07,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,860 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:13:07,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,861 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:13:07,861 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,862 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:13:07,862 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,864 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:13:07,864 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,865 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:13:07,865 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,866 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:13:07,866 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,868 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:13:07,868 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,869 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:13:07,869 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,871 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:13:07,871 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,872 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:13:07,872 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,873 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:13:07,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,874 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:13:07,874 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:13:07,876 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:13:07,876 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:13:07,887 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:13:07,888 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:13:07,888 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:13:07,888 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:13:07,888 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:16:52,399 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-08 14:16:52,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:16:52,433 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2025-07-08 14:16:52,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ()
2025-07-08 14:16:52,439 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users ORDER BY users.created_at DESC 
 LIMIT %s, %s
2025-07-08 14:16:52,439 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (0, 100)
2025-07-08 14:16:52,441 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:16:52,442 - app.main - INFO - ✅ GET /api/v1/users/ - 200 - 0.043s
2025-07-08 14:17:01,021 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-08 14:17:01,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:17:01,026 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:17:01,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:17:01,029 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-08 14:17:01,029 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:17:01,034 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_sessions (id, user_id, session_id, start_time, end_time, message_count, avg_emotion_score, session_summary) VALUES (%s, %s, %s, now(), %s, %s, %s, %s)
2025-07-08 14:17:01,035 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] ('077ed2f5-94da-46ae-b5b3-a89d72a7e6ab', 'da78328e-ddee-407f-8a8d-7cd0c8325486', 'ce90bce9-35af-4c9e-bfd2-4bef564229f2', None, 0, None, None)
2025-07-08 14:17:01,037 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:17:01,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:17:01,043 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-08 14:17:01,043 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('077ed2f5-94da-46ae-b5b3-a89d72a7e6ab',)
2025-07-08 14:17:01,045 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:17:01,046 - app.main - INFO - ✅ POST /api/v1/chat/session - 200 - 0.025s
2025-07-08 14:17:08,709 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-08 14:17:08,713 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:17:08,714 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:17:08,714 - sqlalchemy.engine.Engine - INFO - [cached since 7.689s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:17:08,716 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-08 14:17:08,716 - sqlalchemy.engine.Engine - INFO - [cached since 7.688s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:17:08,718 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 14:17:09,619 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 401 Unauthorized"
2025-07-08 14:17:09,621 - app.services.embedding - ERROR - 임베딩 생성 실패 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 오류: Error code: 401 - {'error': {'message': 'Incorrect API key provided: test_key************ment. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-07-08 14:17:09,621 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 임베딩 생성 중 오류 발생: Error code: 401 - {'error': {'message': 'Incorrect API key provided: test_key************ment. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-07-08 14:17:09,622 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 임베딩 생성 중 오류 발생: Error code: 401 - {'error': {'message': 'Incorrect API key provided: test_key************ment. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-07-08 14:17:09,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:17:09,623 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 임베딩 생성 중 오류 발생: Error code: 401 - {'error': {'message': 'Incorrect API key provided: test_key************ment. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}} - URL: http://localhost:8000/api/v1/chat/
2025-07-08 14:17:09,624 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 0.915s
2025-07-08 14:17:19,295 - app.main - INFO - 🔄 GET /api/v1/chat/history/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:17:19,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:17:19,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:17:19,299 - sqlalchemy.engine.Engine - INFO - [cached since 18.27s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:17:19,304 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-08 14:17:19,305 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 50)
2025-07-08 14:17:19,307 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:17:19,308 - app.main - INFO - ✅ GET /api/v1/chat/history/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.013s
2025-07-08 14:17:25,213 - app.main - INFO - 🔄 PUT /api/v1/chat/session/ce90bce9-35af-4c9e-bfd2-4bef564229f2/end - 클라이언트: 127.0.0.1
2025-07-08 14:17:25,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:17:25,216 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.session_id = %s
2025-07-08 14:17:25,216 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ce90bce9-35af-4c9e-bfd2-4bef564229f2',)
2025-07-08 14:17:25,220 - sqlalchemy.engine.Engine - INFO - UPDATE chat_sessions SET end_time=%s WHERE chat_sessions.id = %s
2025-07-08 14:17:25,221 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (datetime.datetime(2025, 7, 8, 5, 17, 25, 218212), '077ed2f5-94da-46ae-b5b3-a89d72a7e6ab')
2025-07-08 14:17:25,225 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.session_id = %s
2025-07-08 14:17:25,226 - sqlalchemy.engine.Engine - INFO - [cached since 0.00957s ago] ('ce90bce9-35af-4c9e-bfd2-4bef564229f2',)
2025-07-08 14:17:25,230 - sqlalchemy.engine.Engine - INFO - SELECT count(chat_logs.id) AS count_1 
FROM chat_logs 
WHERE chat_logs.session_id = %s
2025-07-08 14:17:25,230 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('ce90bce9-35af-4c9e-bfd2-4bef564229f2',)
2025-07-08 14:17:25,234 - sqlalchemy.engine.Engine - INFO - SELECT avg(chat_logs.emotion_score) AS avg_1 
FROM chat_logs 
WHERE chat_logs.session_id = %s AND chat_logs.emotion_score IS NOT NULL
2025-07-08 14:17:25,235 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] ('ce90bce9-35af-4c9e-bfd2-4bef564229f2',)
2025-07-08 14:17:25,237 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:17:25,239 - app.main - INFO - ✅ PUT /api/v1/chat/session/ce90bce9-35af-4c9e-bfd2-4bef564229f2/end - 200 - 0.026s
2025-07-08 14:20:11,874 - app.main - INFO - 🔄 GET / - 클라이언트: 127.0.0.1
2025-07-08 14:20:11,877 - app.main - INFO - ✅ GET / - 200 - 0.004s
2025-07-08 14:20:19,242 - app.main - INFO - 🔄 GET / - 클라이언트: 127.0.0.1
2025-07-08 14:20:19,243 - app.main - INFO - ✅ GET / - 200 - 0.001s
2025-07-08 14:20:27,102 - app.main - INFO - 🔄 GET /docs - 클라이언트: 127.0.0.1
2025-07-08 14:20:27,102 - app.main - INFO - ✅ GET /docs - 200 - 0.001s
2025-07-08 14:20:47,246 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:20:47,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:20:47,254 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:20:47,254 - sqlalchemy.engine.Engine - INFO - [cached since 226.2s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:20:47,257 - app.api.emotion - ERROR - 감정 기록 조회 중 오류 발생: get_user_emotions() takes from 2 to 4 positional arguments but 7 were given
2025-07-08 14:20:47,257 - app.database - ERROR - 데이터베이스 세션 오류: 500: 감정 기록 조회 중 오류가 발생했습니다: get_user_emotions() takes from 2 to 4 positional arguments but 7 were given
2025-07-08 14:20:47,257 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:20:47,259 - app.main - ERROR - HTTP 예외: 500 - 감정 기록 조회 중 오류가 발생했습니다: get_user_emotions() takes from 2 to 4 positional arguments but 7 were given - URL: http://localhost:8000/api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 14:20:47,259 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486 - 500 - 0.013s
2025-07-08 14:21:05,537 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:21:06,656 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:21:06,659 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:21:06,659 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,659 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:21:06,659 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,659 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:21:06,659 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:21:06,660 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:21:06,660 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,663 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:21:06,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,665 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:21:06,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,666 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:21:06,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,668 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:21:06,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,670 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:21:06,670 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,672 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:21:06,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,674 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:21:06,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,675 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:21:06,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,677 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:21:06,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,679 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:21:06,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,680 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:21:06,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,681 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:21:06,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,682 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:21:06,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:06,684 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:21:06,684 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:21:06,695 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:21:06,695 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:21:06,695 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:21:06,695 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:21:06,695 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:21:16,809 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:21:17,860 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:21:17,863 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:21:17,863 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,863 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:21:17,863 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,863 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:21:17,863 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,864 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:21:17,864 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:21:17,864 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,865 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:21:17,865 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,867 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:21:17,867 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,868 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:21:17,868 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,869 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:21:17,869 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,870 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:21:17,870 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,871 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:21:17,872 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,873 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:21:17,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,875 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:21:17,875 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,876 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:21:17,876 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,878 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:21:17,878 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,881 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:21:17,881 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,882 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:21:17,882 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,883 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:21:17,883 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:17,884 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:21:17,884 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:21:17,895 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:21:17,895 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:21:17,895 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:21:17,895 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:21:17,895 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:21:34,379 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:21:35,458 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:21:35,460 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:21:35,460 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,460 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:21:35,460 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,460 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:21:35,460 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,461 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:21:35,461 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:21:35,461 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,463 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:21:35,463 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,464 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:21:35,464 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,466 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:21:35,466 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,467 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:21:35,467 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,469 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:21:35,469 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,470 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:21:35,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,472 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:21:35,472 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,473 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:21:35,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,475 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:21:35,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,477 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:21:35,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,478 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:21:35,478 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,480 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:21:35,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,482 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:21:35,482 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:35,483 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:21:35,483 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:21:35,494 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:21:35,494 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:21:35,494 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:21:35,494 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:21:35,494 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:21:41,351 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:21:42,344 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:21:42,347 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:21:42,347 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,347 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:21:42,347 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,347 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:21:42,347 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,348 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:21:42,348 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:21:42,348 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,349 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:21:42,350 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,351 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:21:42,351 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,352 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:21:42,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,353 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:21:42,353 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,355 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:21:42,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,356 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:21:42,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,357 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:21:42,357 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,358 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:21:42,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,359 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:21:42,359 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,360 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:21:42,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,362 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:21:42,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,363 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:21:42,363 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,364 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:21:42,364 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:42,366 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:21:42,366 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:21:42,377 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:21:42,378 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:21:42,378 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:21:42,378 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:21:42,378 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:21:48,550 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:21:49,573 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:21:49,575 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:21:49,575 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,576 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:21:49,576 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,576 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:21:49,576 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,576 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:21:49,577 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:21:49,577 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,578 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:21:49,578 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,579 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:21:49,579 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,580 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:21:49,580 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,582 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:21:49,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,584 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:21:49,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,585 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:21:49,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,587 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:21:49,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,588 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:21:49,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,590 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:21:49,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,592 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:21:49,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,593 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:21:49,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,593 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:21:49,594 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,594 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:21:49,594 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:49,596 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:21:49,596 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:21:49,608 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:21:49,608 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:21:49,608 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:21:49,608 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:21:49,608 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:21:56,705 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:21:57,729 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:21:57,731 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:21:57,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,732 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:21:57,732 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,732 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:21:57,732 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:21:57,733 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:21:57,733 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,735 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:21:57,735 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,736 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:21:57,736 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,738 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:21:57,738 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,740 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:21:57,740 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,741 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:21:57,741 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,743 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:21:57,743 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,745 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:21:57,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,746 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:21:57,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,747 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:21:57,747 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,749 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:21:57,749 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,750 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:21:57,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,751 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:21:57,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,753 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:21:57,753 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:21:57,755 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:21:57,755 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:21:57,766 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:21:57,766 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:21:57,766 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:21:57,766 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:21:57,766 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:22:04,553 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:22:05,529 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:22:05,532 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:22:05,532 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,532 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:22:05,532 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,532 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:22:05,532 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,533 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:22:05,533 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:22:05,533 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,535 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:22:05,535 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,537 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:22:05,537 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,538 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:22:05,538 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,539 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:22:05,539 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,540 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:22:05,540 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,542 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:22:05,542 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,543 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:22:05,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,544 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:22:05,544 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,545 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:22:05,545 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,546 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:22:05,546 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,547 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:22:05,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,548 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:22:05,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,549 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:22:05,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:05,550 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:22:05,551 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:22:05,561 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:22:05,562 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:22:05,562 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:22:05,562 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:22:05,562 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:22:11,323 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:22:12,241 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:22:12,244 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:22:12,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,247 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:22:12,247 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,248 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:22:12,248 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,249 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:22:12,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,250 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:22:12,250 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,252 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:22:12,252 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,253 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:22:12,253 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,254 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:22:12,254 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,256 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:22:12,256 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,258 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:22:12,258 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,259 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:22:12,259 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,260 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:22:12,260 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,261 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:22:12,261 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,263 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:22:12,263 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:12,264 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:22:12,264 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:22:12,275 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:22:12,275 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:22:12,275 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:22:12,275 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:22:12,275 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:22:17,426 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:22:18,352 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:22:18,355 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:22:18,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,355 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:22:18,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,355 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:22:18,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:22:18,356 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:22:18,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,358 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:22:18,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,359 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:22:18,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,361 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:22:18,361 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,363 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:22:18,363 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,365 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:22:18,365 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,367 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:22:18,367 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,368 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:22:18,368 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,370 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:22:18,370 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,371 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:22:18,371 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,373 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:22:18,373 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,374 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:22:18,374 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,376 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:22:18,376 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,377 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:22:18,377 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:18,378 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:22:18,379 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:22:18,389 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:22:18,390 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:22:18,390 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:22:18,390 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:22:18,390 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:22:24,051 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:22:24,990 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:22:24,993 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:22:24,993 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:24,993 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:22:24,993 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:24,993 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:22:24,993 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:24,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:22:24,994 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:22:24,994 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:24,995 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:22:24,995 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:24,997 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:22:24,997 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:24,998 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:22:24,998 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,000 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:22:25,000 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,001 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:22:25,001 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,003 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:22:25,003 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,004 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:22:25,005 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,005 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:22:25,005 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,007 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:22:25,007 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,008 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:22:25,008 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,010 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:22:25,010 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,011 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:22:25,011 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,012 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:22:25,013 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:25,014 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:22:25,014 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:22:25,025 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:22:25,026 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:22:25,026 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:22:25,026 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:22:25,026 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:22:33,210 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:22:34,161 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:22:34,163 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:22:34,163 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,164 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:22:34,164 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,164 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:22:34,164 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,164 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:22:34,164 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:22:34,165 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,167 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:22:34,167 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,168 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:22:34,168 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,170 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:22:34,170 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,171 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:22:34,171 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,172 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:22:34,172 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,174 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:22:34,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,175 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:22:34,175 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,177 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:22:34,177 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,178 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:22:34,178 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,179 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:22:34,179 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,180 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:22:34,180 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,182 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:22:34,182 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,183 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:22:34,183 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:34,185 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:22:34,186 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:22:34,207 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:22:34,207 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:22:34,207 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:22:34,207 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:22:34,208 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:22:39,868 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:22:40,815 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:22:40,817 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:22:40,818 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,818 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:22:40,818 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,818 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:22:40,818 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,819 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:22:40,819 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:22:40,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,821 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:22:40,821 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,822 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:22:40,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,824 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:22:40,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,825 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:22:40,825 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,827 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:22:40,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,828 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:22:40,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,829 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:22:40,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,831 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:22:40,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,832 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:22:40,832 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:22:40,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:22:40,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,837 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:22:40,837 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,838 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:22:40,838 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:40,840 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:22:40,840 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:22:40,851 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:22:40,851 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:22:40,851 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:22:40,851 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:22:40,851 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:22:46,510 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:22:47,432 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:22:47,435 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:22:47,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,435 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:22:47,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,435 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:22:47,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:22:47,436 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:22:47,436 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,437 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:22:47,437 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,438 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:22:47,438 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,439 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:22:47,439 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,440 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:22:47,440 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,441 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:22:47,441 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,442 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:22:47,442 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,443 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:22:47,443 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,444 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:22:47,444 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,445 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:22:47,445 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,446 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:22:47,446 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,448 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:22:47,448 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,449 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:22:47,449 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,450 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:22:47,450 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:22:47,451 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:22:47,452 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:22:47,462 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:22:47,463 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:22:47,463 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:22:47,463 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:22:47,463 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:23:07,880 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:23:09,021 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:23:09,024 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:23:09,024 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,024 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:23:09,025 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,025 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:23:09,025 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:23:09,025 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:23:09,025 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,027 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:23:09,027 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,028 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:23:09,028 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,030 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:23:09,030 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,031 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:23:09,031 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,032 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:23:09,032 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,034 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:23:09,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,035 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:23:09,035 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,037 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:23:09,037 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,039 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:23:09,039 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,040 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:23:09,040 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,041 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:23:09,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,042 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:23:09,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,044 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:23:09,044 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:09,045 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:23:09,046 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:23:09,057 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:23:09,057 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:23:09,057 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:23:09,057 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:23:09,057 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:23:14,221 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:23:15,281 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:23:15,283 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:23:15,283 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,283 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:23:15,283 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,283 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:23:15,283 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:23:15,284 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:23:15,284 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,286 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:23:15,286 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,290 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:23:15,290 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,292 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:23:15,292 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,292 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:23:15,292 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,293 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:23:15,293 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,294 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:23:15,294 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,295 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:23:15,295 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,296 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:23:15,297 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,297 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:23:15,298 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,298 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:23:15,298 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,300 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:23:15,300 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,301 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:23:15,301 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,302 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:23:15,302 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:15,304 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:23:15,304 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:23:15,315 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:23:15,316 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:23:15,316 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:23:15,316 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:23:15,316 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:23:21,179 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:23:22,035 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:23:22,037 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:23:22,037 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,038 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:23:22,038 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,038 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:23:22,038 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:23:22,039 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:23:22,039 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,041 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:23:22,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,043 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:23:22,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,044 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:23:22,044 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,046 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:23:22,046 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,047 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:23:22,047 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,048 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:23:22,049 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,050 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:23:22,050 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,051 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:23:22,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,052 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:23:22,052 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,053 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:23:22,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,054 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:23:22,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,055 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:23:22,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,056 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:23:22,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:22,057 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:23:22,057 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:23:22,068 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:23:22,069 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:23:22,069 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:23:22,069 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:23:22,069 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:23:47,526 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:23:48,449 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:23:48,451 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:23:48,451 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,452 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:23:48,452 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,452 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:23:48,452 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:23:48,452 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:23:48,452 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,454 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:23:48,454 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,455 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:23:48,455 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,457 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:23:48,457 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,458 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:23:48,458 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,459 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:23:48,459 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,460 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:23:48,460 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,461 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:23:48,461 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,463 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:23:48,463 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,464 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:23:48,464 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,465 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:23:48,465 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,467 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:23:48,467 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,468 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:23:48,468 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,470 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:23:48,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:48,472 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:23:48,472 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:23:48,483 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:23:48,484 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:23:48,484 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:23:48,484 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:23:48,484 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:23:55,661 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:23:56,594 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:23:56,596 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:23:56,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,596 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:23:56,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,596 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:23:56,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,597 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:23:56,597 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:23:56,597 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,599 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:23:56,599 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,601 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:23:56,601 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,602 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:23:56,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,602 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:23:56,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,604 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:23:56,604 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,605 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:23:56,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,607 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:23:56,607 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,608 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:23:56,608 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,610 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:23:56,610 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,611 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:23:56,611 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,613 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:23:56,613 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,614 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:23:56,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,615 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:23:56,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:23:56,616 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:23:56,616 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:23:56,627 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:23:56,627 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:23:56,627 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:23:56,627 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:23:56,627 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:24:12,066 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:24:12,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:24:12,109 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:24:12,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:24:12,111 - app.api.emotion - ERROR - 감정 기록 조회 중 오류 발생: type object 'Emotion' has no attribute 'created_at'
2025-07-08 14:24:12,111 - app.database - ERROR - 데이터베이스 세션 오류: 500: 감정 기록 조회 중 오류가 발생했습니다: type object 'Emotion' has no attribute 'created_at'
2025-07-08 14:24:12,111 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:24:12,112 - app.main - ERROR - HTTP 예외: 500 - 감정 기록 조회 중 오류가 발생했습니다: type object 'Emotion' has no attribute 'created_at' - URL: http://localhost:8000/api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 14:24:12,112 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486 - 500 - 0.047s
2025-07-08 14:24:28,384 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:24:29,490 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:24:29,492 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:24:29,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,492 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:24:29,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,493 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:24:29,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,493 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:24:29,493 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:24:29,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,495 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:24:29,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,497 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:24:29,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,498 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:24:29,498 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,500 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:24:29,500 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,501 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:24:29,501 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,503 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:24:29,503 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,504 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:24:29,504 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,505 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:24:29,505 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,507 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:24:29,507 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,508 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:24:29,508 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,509 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:24:29,509 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,511 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:24:29,511 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,512 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:24:29,512 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:29,514 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:24:29,514 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:24:29,525 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:24:29,525 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:24:29,525 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:24:29,525 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:24:29,525 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:24:37,916 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:24:38,873 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:24:38,878 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:24:38,878 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,879 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:24:38,879 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,879 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:24:38,879 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:24:38,881 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:24:38,881 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,882 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:24:38,882 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,882 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:24:38,883 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,883 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:24:38,883 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,884 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:24:38,884 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,885 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:24:38,885 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,886 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:24:38,887 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,888 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:24:38,888 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,889 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:24:38,889 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,890 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:24:38,890 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,892 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:24:38,892 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,893 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:24:38,893 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,894 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:24:38,895 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,896 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:24:38,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:38,896 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:24:38,897 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:24:38,908 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:24:38,909 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:24:38,909 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:24:38,909 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:24:38,909 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:24:44,672 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:24:45,611 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:24:45,614 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:24:45,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,614 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:24:45,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,615 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:24:45,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:24:45,615 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:24:45,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,617 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:24:45,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,618 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:24:45,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,618 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:24:45,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,619 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:24:45,619 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,620 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:24:45,620 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,622 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:24:45,622 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,623 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:24:45,623 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,624 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:24:45,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,626 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:24:45,626 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,627 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:24:45,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,628 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:24:45,628 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,628 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:24:45,629 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,629 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:24:45,629 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:45,630 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:24:45,631 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:24:45,642 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:24:45,642 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:24:45,642 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:24:45,642 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:24:45,642 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:24:51,505 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:24:52,433 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:24:52,435 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:24:52,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,435 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:24:52,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,435 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:24:52,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:24:52,436 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:24:52,436 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,438 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:24:52,438 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,439 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:24:52,439 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,441 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:24:52,441 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,442 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:24:52,443 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,443 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:24:52,443 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,444 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:24:52,445 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,446 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:24:52,446 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,447 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:24:52,447 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,448 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:24:52,448 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,449 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:24:52,449 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,450 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:24:52,450 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,452 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:24:52,452 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,453 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:24:52,453 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:52,454 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:24:52,455 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:24:52,466 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:24:52,467 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:24:52,467 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:24:52,467 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:24:52,467 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:24:59,034 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:24:59,933 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:24:59,935 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:24:59,935 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,936 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:24:59,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,936 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:24:59,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:24:59,937 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:24:59,937 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,939 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:24:59,939 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,941 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:24:59,941 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,942 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:24:59,942 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,943 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:24:59,943 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,945 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:24:59,945 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,946 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:24:59,946 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,948 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:24:59,948 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,949 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:24:59,949 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,951 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:24:59,951 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,953 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:24:59,953 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,954 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:24:59,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,955 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:24:59,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,957 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:24:59,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:24:59,959 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:24:59,959 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:24:59,969 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:24:59,970 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:24:59,970 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:24:59,970 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:24:59,970 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:25:19,990 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:25:21,151 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:25:21,154 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:25:21,154 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,154 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:25:21,154 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,154 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:25:21,154 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:25:21,155 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:25:21,155 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,157 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:25:21,157 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,158 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:25:21,158 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,160 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:25:21,160 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,161 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:25:21,161 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,162 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:25:21,162 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,163 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:25:21,163 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,165 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:25:21,165 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,166 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:25:21,166 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,167 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:25:21,167 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,169 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:25:21,169 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,170 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:25:21,170 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,171 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:25:21,171 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,173 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:25:21,173 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:21,174 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:25:21,175 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:25:21,186 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:25:21,186 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:25:21,186 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:25:21,186 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:25:21,186 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:25:30,691 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:25:31,662 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:25:31,665 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:25:31,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,665 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:25:31,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,665 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:25:31,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,666 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:25:31,666 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:25:31,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,668 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:25:31,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,670 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:25:31,670 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,671 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:25:31,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,673 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:25:31,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,674 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:25:31,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,676 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:25:31,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,677 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:25:31,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,679 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:25:31,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,681 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:25:31,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,682 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:25:31,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,683 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:25:31,683 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,684 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:25:31,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,685 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:25:31,685 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:25:31,686 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:25:31,687 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:25:31,702 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:25:31,702 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:25:31,702 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:25:31,702 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:25:31,702 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:26:19,788 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:26:19,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:26:19,827 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:26:19,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:26:19,831 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-08 14:26:19,831 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 100)
2025-07-08 14:26:19,832 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:26:19,833 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.045s
2025-07-08 14:26:46,651 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/summary - 클라이언트: 127.0.0.1
2025-07-08 14:26:46,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:26:46,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:26:46,654 - sqlalchemy.engine.Engine - INFO - [cached since 26.83s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:26:46,656 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-08 14:26:46,656 - sqlalchemy.engine.Engine - INFO - [cached since 26.83s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 1000)
2025-07-08 14:26:46,658 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:26:46,659 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/summary - 200 - 0.008s
2025-07-08 14:27:18,289 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/stats - 클라이언트: 127.0.0.1
2025-07-08 14:27:18,291 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:27:18,292 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:27:18,292 - sqlalchemy.engine.Engine - INFO - [cached since 58.47s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:27:18,294 - app.api.emotion - ERROR - 감정 통계 조회 중 오류 발생: 7 validation errors for EmotionStatsResponse
stats_period
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_emotions
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
dominant_emotion
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
emotion_frequency
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
mood_stability
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
positive_ratio
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
emotional_range
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 14:27:18,294 - app.database - ERROR - 데이터베이스 세션 오류: 500: 감정 통계 조회 중 오류가 발생했습니다: 7 validation errors for EmotionStatsResponse
stats_period
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_emotions
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
dominant_emotion
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
emotion_frequency
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
mood_stability
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
positive_ratio
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
emotional_range
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 14:27:18,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:27:18,296 - app.main - ERROR - HTTP 예외: 500 - 감정 통계 조회 중 오류가 발생했습니다: 7 validation errors for EmotionStatsResponse
stats_period
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_emotions
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
dominant_emotion
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
emotion_frequency
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
mood_stability
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
positive_ratio
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
emotional_range
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...n_stability_score': 0.5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/stats
2025-07-08 14:27:18,297 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/stats - 500 - 0.008s
2025-07-08 14:27:34,217 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:27:35,352 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:27:35,355 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:27:35,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,355 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:27:35,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,356 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:27:35,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:27:35,356 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:27:35,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,358 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:27:35,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,360 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:27:35,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,362 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:27:35,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,364 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:27:35,364 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,366 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:27:35,366 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,368 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:27:35,368 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,369 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:27:35,369 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,371 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:27:35,371 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,373 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:27:35,373 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,375 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:27:35,375 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,376 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:27:35,376 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,378 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:27:35,378 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,381 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:27:35,381 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:35,382 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:27:35,383 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:27:35,394 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:27:35,394 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:27:35,394 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:27:35,394 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:27:35,394 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:27:43,889 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:27:44,965 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:27:44,967 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:27:44,967 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,968 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:27:44,968 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,968 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:27:44,968 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,969 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:27:44,969 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:27:44,969 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,971 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:27:44,971 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,972 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:27:44,972 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,974 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:27:44,974 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,975 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:27:44,975 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,977 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:27:44,977 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,979 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:27:44,979 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,980 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:27:44,980 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,982 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:27:44,982 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,984 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:27:44,984 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,985 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:27:44,985 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,987 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:27:44,987 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,989 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:27:44,989 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,990 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:27:44,990 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:27:44,991 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:27:44,992 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:27:45,002 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:27:45,003 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:27:45,003 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:27:45,003 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:27:45,003 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:27:56,214 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/stats - 클라이언트: 127.0.0.1
2025-07-08 14:27:56,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:27:56,249 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:27:56,249 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:27:56,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:27:56,251 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/stats - 200 - 0.037s
2025-07-08 14:28:04,810 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/trends - 클라이언트: 127.0.0.1
2025-07-08 14:28:04,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:28:04,813 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:28:04,813 - sqlalchemy.engine.Engine - INFO - [cached since 8.565s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:28:04,817 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-08 14:28:04,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 1000)
2025-07-08 14:28:04,821 - app.services.emotion - ERROR - 감정 트렌드 분석 실패: 4 validation errors for EmotionTrendAnalysis
user_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='da78328e-ddee-407f-8a8d-7cd0c8325486', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
avg_score
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...가 부족합니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
score_trend
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...가 부족합니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intensity_distribution
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...가 부족합니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 14:28:04,821 - app.api.emotion - ERROR - 감정 트렌드 분석 중 오류 발생: 4 validation errors for EmotionTrendAnalysis
user_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='da78328e-ddee-407f-8a8d-7cd0c8325486', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
avg_score
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
score_trend
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intensity_distribution
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 14:28:04,822 - app.database - ERROR - 데이터베이스 세션 오류: 500: 감정 트렌드 분석 중 오류가 발생했습니다: 4 validation errors for EmotionTrendAnalysis
user_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='da78328e-ddee-407f-8a8d-7cd0c8325486', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
avg_score
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
score_trend
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intensity_distribution
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 14:28:04,822 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:28:04,824 - app.main - ERROR - HTTP 예외: 500 - 감정 트렌드 분석 중 오류가 발생했습니다: 4 validation errors for EmotionTrendAnalysis
user_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='da78328e-ddee-407f-8a8d-7cd0c8325486', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
avg_score
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
score_trend
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intensity_distribution
  Field required [type=missing, input_value={'user_id': 'da78328e-dde... 발생했습니다.']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/trends
2025-07-08 14:28:04,824 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/trends - 500 - 0.015s
2025-07-08 14:28:16,298 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:28:17,365 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:28:17,367 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:28:17,367 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,367 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:28:17,367 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,367 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:28:17,367 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,368 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:28:17,368 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:28:17,368 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,369 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:28:17,369 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,370 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:28:17,370 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,371 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:28:17,371 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,372 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:28:17,372 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,372 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:28:17,373 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,374 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:28:17,374 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,376 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:28:17,376 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,377 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:28:17,377 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,378 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:28:17,378 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,379 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:28:17,379 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,381 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:28:17,381 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,382 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:28:17,382 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,383 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:28:17,383 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:17,384 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:28:17,385 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:28:17,395 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:28:17,396 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:28:17,396 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:28:17,396 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:28:17,396 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:28:24,673 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:28:25,591 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:28:25,593 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:28:25,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,593 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:28:25,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,593 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:28:25,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,594 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:28:25,594 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:28:25,594 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,595 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:28:25,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,596 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:28:25,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,597 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:28:25,597 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,598 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:28:25,598 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,599 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:28:25,599 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,600 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:28:25,600 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,602 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:28:25,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,604 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:28:25,604 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,605 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:28:25,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,607 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:28:25,607 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,608 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:28:25,608 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,609 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:28:25,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,610 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:28:25,610 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:28:25,611 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:28:25,612 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:28:25,623 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:28:25,623 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:28:25,623 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:28:25,623 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:28:25,623 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:28:56,951 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/trends - 클라이언트: 127.0.0.1
2025-07-08 14:28:56,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:28:56,997 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:28:56,997 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:28:57,000 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-08 14:28:57,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 1000)
2025-07-08 14:28:57,002 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:28:57,003 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/trends - 200 - 0.052s
2025-07-08 14:29:05,994 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/recent - 클라이언트: 127.0.0.1
2025-07-08 14:29:05,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:29:05,997 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:29:05,997 - sqlalchemy.engine.Engine - INFO - [cached since 9s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:29:05,999 - app.api.emotion - ERROR - 최근 감정 조회 중 오류 발생: get_user_recent_emotions() takes from 2 to 3 positional arguments but 4 were given
2025-07-08 14:29:05,999 - app.database - ERROR - 데이터베이스 세션 오류: 500: 최근 감정 조회 중 오류가 발생했습니다: get_user_recent_emotions() takes from 2 to 3 positional arguments but 4 were given
2025-07-08 14:29:06,000 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:29:06,002 - app.main - ERROR - HTTP 예외: 500 - 최근 감정 조회 중 오류가 발생했습니다: get_user_recent_emotions() takes from 2 to 3 positional arguments but 4 were given - URL: http://localhost:8000/api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/recent
2025-07-08 14:29:06,003 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/recent - 500 - 0.009s
2025-07-08 14:29:34,078 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:29:35,173 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:29:35,176 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:29:35,176 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,177 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:29:35,177 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,177 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:29:35,177 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:29:35,178 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:29:35,178 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,180 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:29:35,180 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,181 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:29:35,181 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,183 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:29:35,183 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,184 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:29:35,185 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,186 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:29:35,186 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,188 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:29:35,188 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,189 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:29:35,189 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,191 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:29:35,191 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,192 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:29:35,192 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,194 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:29:35,194 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,196 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:29:35,196 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,197 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:29:35,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,198 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:29:35,198 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:35,200 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:29:35,200 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:29:35,211 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:29:35,211 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:29:35,211 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:29:35,211 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:29:35,211 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:29:46,442 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:29:47,320 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:29:47,324 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:29:47,324 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,325 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:29:47,325 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,325 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:29:47,325 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:29:47,326 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:29:47,326 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,331 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:29:47,331 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,332 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:29:47,332 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,334 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:29:47,334 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,335 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:29:47,335 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,336 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:29:47,336 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,337 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:29:47,337 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,339 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:29:47,339 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,340 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:29:47,340 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,341 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:29:47,341 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,342 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:29:47,342 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,343 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:29:47,343 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,344 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:29:47,344 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,345 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:29:47,345 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:29:47,347 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:29:47,347 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:29:47,358 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:29:47,359 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:29:47,359 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:29:47,359 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:29:47,359 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:29:59,485 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:30:00,391 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:30:00,393 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:30:00,393 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,393 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:30:00,393 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,393 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:30:00,393 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:30:00,394 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:30:00,394 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,396 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:30:00,396 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,398 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:30:00,398 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,399 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:30:00,399 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,401 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:30:00,401 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,402 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:30:00,402 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,404 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:30:00,404 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,405 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:30:00,405 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,407 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:30:00,407 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,408 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:30:00,408 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,410 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:30:00,410 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,411 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:30:00,411 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,412 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:30:00,413 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,413 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:30:00,413 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:30:00,415 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:30:00,415 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:30:00,426 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:30:00,427 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:30:00,427 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:30:00,427 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:30:00,427 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:30:15,974 - app.main - INFO - 🔄 GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/recent - 클라이언트: 127.0.0.1
2025-07-08 14:30:16,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:30:16,017 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:30:16,017 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:30:16,020 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-08 14:30:16,020 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.datetime(2025, 7, 1, 5, 30, 16, 19327))
2025-07-08 14:30:16,024 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:30:16,024 - app.main - INFO - ✅ GET /api/v1/emotions/da78328e-ddee-407f-8a8d-7cd0c8325486/recent - 200 - 0.051s
2025-07-08 14:34:44,822 - app.main - INFO - 🔄 GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:34:44,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:34:44,831 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:34:44,831 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 100)
2025-07-08 14:34:44,835 - app.api.schedule - INFO - 사용자 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 0개
2025-07-08 14:34:44,836 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:34:44,837 - app.main - INFO - ✅ GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.016s
2025-07-08 14:34:55,317 - app.main - INFO - 🔄 POST /api/v1/schedules/ - 클라이언트: 127.0.0.1
2025-07-08 14:34:55,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:34:55,331 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s AND date(schedules.start_datetime) >= %s AND date(schedules.start_datetime) <= %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:34:55,332 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.date(2025, 7, 8), datetime.date(2025, 7, 8), 0, 100)
2025-07-08 14:34:55,337 - sqlalchemy.engine.Engine - INFO - INSERT INTO schedules (id, user_id, title, schedule_type, description, location, priority, start_datetime, end_datetime, is_all_day, recurrence_type, recurrence_interval, recurrence_days, recurrence_end_date, reminder_minutes, status, additional_data, notes) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-08 14:34:55,338 - sqlalchemy.engine.Engine - INFO - [generated in 0.00089s] ('f8b20a01-d296-43fc-b717-f490f9768900', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '혈압약 복용', <ScheduleType.MEDICATION: 'medication'>, '아침 식후 혈압약 복용', None, <Priority.HIGH: 'high'>, datetime.datetime(2025, 7, 8, 9, 0), datetime.datetime(2025, 7, 8, 9, 30), 0, <RecurrenceType.NONE: 'none'>, None, 'null', None, '[30, 10]', 'active', '{}', None)
2025-07-08 14:34:55,341 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:34:55,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:34:55,345 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:34:55,346 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('f8b20a01-d296-43fc-b717-f490f9768900',)
2025-07-08 14:34:55,347 - app.api.schedule - INFO - 일정 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 제목: 혈압약 복용
2025-07-08 14:34:55,349 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:34:55,350 - app.main - INFO - ✅ POST /api/v1/schedules/ - 200 - 0.033s
2025-07-08 14:34:55,351 - app.api.schedule - INFO - 알림 설정 완료 - 일정: f8b20a01-d296-43fc-b717-f490f9768900, 알림: 2개
2025-07-08 14:35:06,402 - app.main - INFO - 🔄 GET /api/v1/schedules/f8b20a01-d296-43fc-b717-f490f9768900 - 클라이언트: 127.0.0.1
2025-07-08 14:35:06,404 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:35:06,408 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:35:06,408 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] ('f8b20a01-d296-43fc-b717-f490f9768900',)
2025-07-08 14:35:06,413 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE schedule_logs.schedule_id IN (%s)
2025-07-08 14:35:06,413 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('f8b20a01-d296-43fc-b717-f490f9768900',)
2025-07-08 14:35:06,415 - app.database - ERROR - 데이터베이스 세션 오류: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}

2025-07-08 14:35:06,416 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:35:06,417 - app.main - ERROR - ❌ GET /api/v1/schedules/f8b20a01-d296-43fc-b717-f490f9768900 - 에러: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - 0.015s
2025-07-08 14:35:06,418 - app.main - ERROR - 예상하지 못한 오류: ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - URL: http://localhost:8000/api/v1/schedules/f8b20a01-d296-43fc-b717-f490f9768900
2025-07-08 14:35:34,502 - app.main - INFO - 🔄 GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:35:34,505 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:35:34,506 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:35:34,507 - sqlalchemy.engine.Engine - INFO - [cached since 49.68s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 100)
2025-07-08 14:35:34,508 - app.api.schedule - INFO - 사용자 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 1개
2025-07-08 14:35:34,509 - app.database - ERROR - 데이터베이스 세션 오류: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}

2025-07-08 14:35:34,509 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:35:34,510 - app.main - ERROR - ❌ GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 에러: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - 0.009s
2025-07-08 14:35:34,511 - app.main - ERROR - 예상하지 못한 오류: ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - URL: http://localhost:8000/api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 14:36:09,411 - app.main - INFO - 🔄 GET /docs - 클라이언트: 127.0.0.1
2025-07-08 14:36:09,412 - app.main - INFO - ✅ GET /docs - 200 - 0.001s
2025-07-08 14:36:09,507 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 14:36:09,566 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.059s
2025-07-08 14:36:17,136 - app.main - INFO - 🔄 GET / - 클라이언트: 127.0.0.1
2025-07-08 14:36:17,137 - app.main - INFO - ✅ GET / - 200 - 0.002s
2025-07-08 14:37:14,595 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:37:15,667 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:37:15,671 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:37:15,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,671 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:37:15,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,672 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:37:15,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:37:15,672 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:37:15,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,681 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:37:15,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,684 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:37:15,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,686 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:37:15,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,687 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:37:15,687 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,688 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:37:15,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,689 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:37:15,689 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,690 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:37:15,690 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,691 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:37:15,691 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,693 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:37:15,693 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,697 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:37:15,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,698 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:37:15,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,700 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:37:15,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,701 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:37:15,701 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:15,704 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:37:15,705 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:37:15,716 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:37:15,716 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:37:15,716 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:37:15,716 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:37:15,716 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:37:28,882 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:37:29,976 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:37:29,981 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:37:29,981 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,981 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:37:29,981 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,981 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:37:29,981 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,982 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:37:29,982 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:37:29,982 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,983 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:37:29,983 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,984 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:37:29,984 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,986 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:37:29,986 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,987 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:37:29,987 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,988 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:37:29,988 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,989 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:37:29,989 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,990 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:37:29,990 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,991 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:37:29,991 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,993 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:37:29,993 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,994 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:37:29,994 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,995 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:37:29,995 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,996 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:37:29,996 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,997 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:37:29,998 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:29,999 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:37:29,999 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:37:30,010 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:37:30,011 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:37:30,011 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:37:30,011 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:37:30,011 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:37:41,544 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:37:42,540 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:37:42,543 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:37:42,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,543 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:37:42,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,544 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:37:42,544 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,544 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:37:42,544 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:37:42,544 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,546 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:37:42,546 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,548 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:37:42,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,549 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:37:42,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,551 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:37:42,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,552 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:37:42,552 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,554 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:37:42,554 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,555 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:37:42,555 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,556 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:37:42,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,557 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:37:42,557 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,559 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:37:42,559 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,560 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:37:42,560 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,561 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:37:42,561 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,562 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:37:42,562 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:42,563 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:37:42,564 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:37:42,574 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:37:42,575 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:37:42,575 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:37:42,575 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:37:42,575 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:37:55,545 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:37:56,540 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:37:56,542 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:37:56,542 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,542 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:37:56,542 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,543 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:37:56,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,543 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:37:56,543 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:37:56,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,545 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:37:56,545 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,547 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:37:56,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,548 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:37:56,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,550 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:37:56,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,551 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:37:56,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,553 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:37:56,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,554 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:37:56,555 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,556 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:37:56,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,558 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:37:56,558 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,559 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:37:56,559 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,561 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:37:56,561 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,562 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:37:56,562 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,564 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:37:56,564 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:37:56,565 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:37:56,565 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:37:56,576 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:37:56,576 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:37:56,576 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:37:56,576 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:37:56,576 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:43:28,757 - app.main - INFO - 🔄 GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:43:28,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:43:28,798 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:43:28,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 100)
2025-07-08 14:43:28,801 - app.api.schedule - INFO - 사용자 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 1개
2025-07-08 14:43:28,802 - app.database - ERROR - 데이터베이스 세션 오류: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}

2025-07-08 14:43:28,802 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:43:28,803 - app.main - ERROR - ❌ GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 에러: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - 0.047s
2025-07-08 14:43:28,803 - app.main - ERROR - 예상하지 못한 오류: ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - URL: http://localhost:8000/api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 14:43:37,315 - app.main - INFO - 🔄 GET /api/v1/schedules/today/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:43:37,321 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:43:37,329 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s AND schedules.start_datetime >= %s AND schedules.start_datetime <= %s ORDER BY schedules.start_datetime
2025-07-08 14:43:37,329 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.datetime(2025, 7, 8, 0, 0), datetime.datetime(2025, 7, 8, 23, 59, 59, 999999))
2025-07-08 14:43:37,331 - app.api.schedule - INFO - 오늘 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 일정: 1개
2025-07-08 14:43:37,332 - app.database - ERROR - 데이터베이스 세션 오류: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}

2025-07-08 14:43:37,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:43:37,333 - app.main - ERROR - ❌ GET /api/v1/schedules/today/da78328e-ddee-407f-8a8d-7cd0c8325486 - 에러: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - 0.019s
2025-07-08 14:43:37,334 - app.main - ERROR - 예상하지 못한 오류: ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - URL: http://localhost:8000/api/v1/schedules/today/da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 14:43:45,581 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:43:57,434 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:43:57,437 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:43:57,437 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,437 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:43:57,437 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,437 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:43:57,437 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,438 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:43:57,438 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:43:57,438 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,441 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:43:57,441 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,442 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:43:57,442 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,444 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:43:57,444 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,445 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:43:57,445 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,446 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:43:57,446 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,448 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:43:57,448 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,449 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:43:57,450 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,451 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:43:57,451 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,452 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:43:57,452 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,453 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:43:57,453 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,454 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:43:57,455 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,456 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:43:57,456 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,457 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:43:57,457 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:43:57,458 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:43:57,459 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:43:57,470 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:43:57,470 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:43:57,470 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:43:57,470 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:43:57,470 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:44:22,647 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:44:23,495 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:44:23,497 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:44:23,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,498 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:44:23,498 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,498 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:44:23,498 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:44:23,499 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:44:23,499 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,501 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:44:23,501 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,503 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:44:23,503 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,505 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:44:23,505 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,506 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:44:23,506 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,507 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:44:23,507 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,509 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:44:23,509 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,511 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:44:23,511 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,512 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:44:23,512 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,513 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:44:23,513 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,514 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:44:23,514 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,515 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:44:23,515 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,516 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:44:23,516 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,517 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:44:23,517 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:23,518 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:44:23,518 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:44:23,529 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:44:23,530 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:44:23,530 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:44:23,530 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:44:23,530 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:44:37,630 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:44:38,601 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:44:38,604 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:44:38,604 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,604 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:44:38,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,605 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:44:38,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,605 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:44:38,605 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:44:38,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,607 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:44:38,607 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,608 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:44:38,608 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,609 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:44:38,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,612 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:44:38,612 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,615 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:44:38,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,616 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:44:38,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,617 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:44:38,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,619 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:44:38,619 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,621 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:44:38,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,622 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:44:38,622 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,623 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:44:38,623 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,624 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:44:38,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,625 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:44:38,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:38,626 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:44:38,627 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:44:38,637 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:44:38,638 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:44:38,638 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:44:38,638 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:44:38,638 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:44:52,685 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:44:53,546 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:44:53,549 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:44:53,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,549 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:44:53,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,549 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:44:53,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:44:53,550 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:44:53,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,553 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:44:53,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,554 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:44:53,554 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,555 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:44:53,555 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,556 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:44:53,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,557 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:44:53,557 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,558 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:44:53,559 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,560 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:44:53,560 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,563 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:44:53,563 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,565 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:44:53,565 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,567 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:44:53,567 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,568 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:44:53,568 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,570 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:44:53,570 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,571 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:44:53,571 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:44:53,573 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:44:53,573 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:44:53,584 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:44:53,584 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:44:53,584 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:44:53,584 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:44:53,584 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:45:43,267 - app.main - INFO - 🔄 GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:45:43,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:45:43,300 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:45:43,301 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 100)
2025-07-08 14:45:43,305 - app.api.schedule - INFO - 사용자 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 1개
2025-07-08 14:45:43,305 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:45:43,306 - app.main - INFO - ✅ GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.040s
2025-07-08 14:46:45,960 - app.main - INFO - 🔄 GET /api/v1/schedules/f8b20a01-d296-43fc-b717-f490f9768900 - 클라이언트: 127.0.0.1
2025-07-08 14:46:45,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:46:45,968 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:46:45,968 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] ('f8b20a01-d296-43fc-b717-f490f9768900',)
2025-07-08 14:46:45,975 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE schedule_logs.schedule_id IN (%s)
2025-07-08 14:46:45,975 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] ('f8b20a01-d296-43fc-b717-f490f9768900',)
2025-07-08 14:46:45,977 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:46:45,978 - app.main - INFO - ✅ GET /api/v1/schedules/f8b20a01-d296-43fc-b717-f490f9768900 - 200 - 0.019s
2025-07-08 14:46:53,447 - app.main - INFO - 🔄 GET /api/v1/schedules/today/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:46:53,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:46:53,452 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s AND schedules.start_datetime >= %s AND schedules.start_datetime <= %s ORDER BY schedules.start_datetime
2025-07-08 14:46:53,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00101s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.datetime(2025, 7, 8, 0, 0), datetime.datetime(2025, 7, 8, 23, 59, 59, 999999))
2025-07-08 14:46:53,455 - app.api.schedule - INFO - 오늘의 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 1개
2025-07-08 14:46:53,456 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:46:53,457 - app.main - INFO - ✅ GET /api/v1/schedules/today/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.010s
2025-07-08 14:47:03,173 - app.main - INFO - 🔄 POST /api/v1/schedules/ - 클라이언트: 127.0.0.1
2025-07-08 14:47:03,188 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:03,192 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s AND date(schedules.start_datetime) >= %s AND date(schedules.start_datetime) <= %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:47:03,192 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.date(2025, 7, 8), datetime.date(2025, 7, 8), 0, 100)
2025-07-08 14:47:03,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO schedules (id, user_id, title, schedule_type, description, location, priority, start_datetime, end_datetime, is_all_day, recurrence_type, recurrence_interval, recurrence_days, recurrence_end_date, reminder_minutes, status, additional_data, notes) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-08 14:47:03,198 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('db0c2f7d-8790-463f-9cdb-fad85270a3a9', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '아침 산책', <ScheduleType.EXERCISE: 'exercise'>, '근처 공원에서 30분 산책', '중앙공원', <Priority.MEDIUM: 'medium'>, datetime.datetime(2025, 7, 8, 7, 0), datetime.datetime(2025, 7, 8, 7, 30), 0, <RecurrenceType.NONE: 'none'>, None, 'null', None, '[15]', 'active', '{}', None)
2025-07-08 14:47:03,199 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:47:03,204 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:03,205 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:47:03,205 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('db0c2f7d-8790-463f-9cdb-fad85270a3a9',)
2025-07-08 14:47:03,206 - app.api.schedule - INFO - 일정 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 제목: 아침 산책
2025-07-08 14:47:03,207 - app.database - ERROR - 데이터베이스 세션 오류: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}

2025-07-08 14:47:03,207 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:47:03,207 - app.main - ERROR - ❌ POST /api/v1/schedules/ - 에러: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - 0.035s
2025-07-08 14:47:03,207 - app.main - ERROR - 예상하지 못한 오류: ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - URL: http://localhost:8000/api/v1/schedules/
2025-07-08 14:47:25,752 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:47:26,877 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:47:26,880 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:47:26,880 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,881 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:47:26,881 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,881 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:47:26,881 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:26,881 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:47:26,881 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,886 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:47:26,886 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,887 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:47:26,887 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,888 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:47:26,888 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,889 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:47:26,889 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,890 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:47:26,890 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,891 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:47:26,891 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,892 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:47:26,892 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,893 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:47:26,893 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,894 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:47:26,894 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,895 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:47:26,895 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,896 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:47:26,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,897 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:47:26,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,897 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:47:26,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:47:26,898 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:47:26,898 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:47:26,910 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:47:26,911 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:47:26,911 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:47:26,911 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:47:26,911 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:47:43,132 - app.main - INFO - 🔄 POST /api/v1/schedules/ - 클라이언트: 127.0.0.1
2025-07-08 14:47:43,149 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:43,167 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s AND date(schedules.start_datetime) >= %s AND date(schedules.start_datetime) <= %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:47:43,167 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.date(2025, 7, 8), datetime.date(2025, 7, 8), 0, 100)
2025-07-08 14:47:43,183 - sqlalchemy.engine.Engine - INFO - INSERT INTO schedules (id, user_id, title, schedule_type, description, location, priority, start_datetime, end_datetime, is_all_day, recurrence_type, recurrence_interval, recurrence_days, recurrence_end_date, reminder_minutes, status, additional_data, notes) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-08 14:47:43,183 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '아침 산책', <ScheduleType.EXERCISE: 'exercise'>, '근처 공원에서 30분 산책', '중앙공원', <Priority.MEDIUM: 'medium'>, datetime.datetime(2025, 7, 8, 7, 0), datetime.datetime(2025, 7, 8, 7, 30), 0, <RecurrenceType.NONE: 'none'>, None, 'null', None, '[15]', 'active', '{}', None)
2025-07-08 14:47:43,184 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:47:43,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:43,187 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:47:43,187 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:47:43,188 - app.api.schedule - INFO - 일정 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 제목: 아침 산책
2025-07-08 14:47:43,188 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:47:43,189 - app.main - INFO - ✅ POST /api/v1/schedules/ - 200 - 0.057s
2025-07-08 14:47:43,190 - app.api.schedule - INFO - 알림 설정 완료 - 일정: 17d9fed1-cf00-4a75-8310-8f71989c6da3, 알림: 1개
2025-07-08 14:47:49,880 - app.main - INFO - 🔄 GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:47:49,885 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:49,887 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:47:49,888 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 100)
2025-07-08 14:47:49,892 - app.api.schedule - INFO - 사용자 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 3개
2025-07-08 14:47:49,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:47:49,894 - app.main - INFO - ✅ GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.014s
2025-07-08 14:47:58,994 - app.main - INFO - 🔄 PUT /api/v1/schedules/17d9fed1-cf00-4a75-8310-8f71989c6da3 - 클라이언트: 127.0.0.1
2025-07-08 14:47:59,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:59,008 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:47:59,009 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:47:59,013 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE schedule_logs.schedule_id IN (%s)
2025-07-08 14:47:59,013 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:47:59,016 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:47:59,017 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:47:59,021 - sqlalchemy.engine.Engine - INFO - UPDATE schedules SET title=%s, description=%s, priority=%s, updated_at=now() WHERE schedules.id = %s
2025-07-08 14:47:59,021 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('아침 조깅', '중앙공원에서 30분 조깅', <Priority.HIGH: 'high'>, '17d9fed1-cf00-4a75-8310-8f71989c6da3')
2025-07-08 14:47:59,022 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:47:59,026 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:47:59,027 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:47:59,027 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:47:59,030 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE %s = schedule_logs.schedule_id
2025-07-08 14:47:59,030 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:47:59,031 - app.api.schedule - INFO - 일정 수정 완료 - ID: 17d9fed1-cf00-4a75-8310-8f71989c6da3
2025-07-08 14:47:59,032 - app.database - ERROR - 데이터베이스 세션 오류: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}

2025-07-08 14:47:59,032 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:47:59,032 - app.main - ERROR - ❌ PUT /api/v1/schedules/17d9fed1-cf00-4a75-8310-8f71989c6da3 - 에러: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - 0.038s
2025-07-08 14:47:59,033 - app.main - ERROR - 예상하지 못한 오류: ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'metadata'), 'msg': 'Input should be a valid dictionary', 'input': MetaData()}
 - URL: http://localhost:8000/api/v1/schedules/17d9fed1-cf00-4a75-8310-8f71989c6da3
2025-07-08 14:48:15,966 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:48:17,111 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:48:17,114 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:48:17,114 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,115 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:48:17,115 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,115 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:48:17,115 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:48:17,116 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:48:17,116 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,118 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:48:17,118 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,120 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:48:17,120 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,121 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:48:17,121 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,122 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:48:17,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,123 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:48:17,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,125 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:48:17,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,126 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:48:17,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,127 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:48:17,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,128 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:48:17,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,128 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:48:17,129 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,129 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:48:17,129 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,130 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:48:17,130 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,131 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:48:17,131 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:48:17,132 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:48:17,132 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:48:17,143 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:48:17,144 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:48:17,144 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:48:17,144 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:48:17,144 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:48:57,757 - app.main - INFO - 🔄 PUT /api/v1/schedules/17d9fed1-cf00-4a75-8310-8f71989c6da3 - 클라이언트: 127.0.0.1
2025-07-08 14:48:57,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:48:57,798 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:48:57,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:48:57,804 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE schedule_logs.schedule_id IN (%s)
2025-07-08 14:48:57,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:48:57,806 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:48:57,806 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:48:57,807 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:48:57,808 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:48:57,808 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:48:57,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:48:57,810 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE %s = schedule_logs.schedule_id
2025-07-08 14:48:57,810 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:48:57,810 - app.api.schedule - INFO - 일정 수정 완료 - ID: 17d9fed1-cf00-4a75-8310-8f71989c6da3
2025-07-08 14:48:57,811 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:48:57,811 - app.main - INFO - ✅ PUT /api/v1/schedules/17d9fed1-cf00-4a75-8310-8f71989c6da3 - 200 - 0.055s
2025-07-08 14:49:36,295 - app.main - INFO - 🔄 POST /api/v1/schedules/17d9fed1-cf00-4a75-8310-8f71989c6da3/complete - 클라이언트: 127.0.0.1
2025-07-08 14:49:36,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:49:36,300 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:49:36,300 - sqlalchemy.engine.Engine - INFO - [cached since 38.5s ago] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:49:36,303 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE schedule_logs.schedule_id IN (%s)
2025-07-08 14:49:36,304 - sqlalchemy.engine.Engine - INFO - [cached since 38.5s ago] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:49:36,308 - sqlalchemy.engine.Engine - INFO - INSERT INTO schedule_logs (id, user_id, schedule_id, scheduled_datetime, completed_at, status, notes) VALUES (%s, %s, %s, %s, %s, %s, %s)
2025-07-08 14:49:36,308 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('76cfd4e1-c9a8-43a3-ac0b-6ab27856aa88', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '17d9fed1-cf00-4a75-8310-8f71989c6da3', datetime.datetime(2025, 7, 8, 14, 49, 36, 306137), datetime.datetime(2025, 7, 8, 14, 49, 36, 306137), <LogStatus.COMPLETED: 'completed'>, '30분 조깅 완료')
2025-07-08 14:49:36,310 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:49:36,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:49:36,316 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.id, schedule_logs.user_id, schedule_logs.schedule_id, schedule_logs.scheduled_datetime, schedule_logs.completed_at, schedule_logs.status, schedule_logs.notes, schedule_logs.created_at 
FROM schedule_logs 
WHERE schedule_logs.id = %s
2025-07-08 14:49:36,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('76cfd4e1-c9a8-43a3-ac0b-6ab27856aa88',)
2025-07-08 14:49:36,318 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:49:36,318 - sqlalchemy.engine.Engine - INFO - [cached since 38.52s ago] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:49:36,321 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE schedule_logs.schedule_id IN (%s)
2025-07-08 14:49:36,327 - sqlalchemy.engine.Engine - INFO - [cached since 38.52s ago] ('17d9fed1-cf00-4a75-8310-8f71989c6da3',)
2025-07-08 14:49:36,331 - sqlalchemy.engine.Engine - INFO - UPDATE schedules SET status=%s, updated_at=now() WHERE schedules.id = %s
2025-07-08 14:49:36,331 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (<ScheduleStatus.COMPLETED: 'completed'>, '17d9fed1-cf00-4a75-8310-8f71989c6da3')
2025-07-08 14:49:36,332 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:49:36,333 - app.api.schedule - INFO - 일정 완료 처리 - ID: 17d9fed1-cf00-4a75-8310-8f71989c6da3
2025-07-08 14:49:36,334 - app.main - INFO - ✅ POST /api/v1/schedules/17d9fed1-cf00-4a75-8310-8f71989c6da3/complete - 200 - 0.039s
2025-07-08 14:49:44,683 - app.main - INFO - 🔄 DELETE /api/v1/schedules/db0c2f7d-8790-463f-9cdb-fad85270a3a9 - 클라이언트: 127.0.0.1
2025-07-08 14:49:44,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:49:44,686 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:49:44,686 - sqlalchemy.engine.Engine - INFO - [cached since 46.89s ago] ('db0c2f7d-8790-463f-9cdb-fad85270a3a9',)
2025-07-08 14:49:44,688 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.schedule_id AS schedule_logs_schedule_id, schedule_logs.id AS schedule_logs_id, schedule_logs.user_id AS schedule_logs_user_id, schedule_logs.scheduled_datetime AS schedule_logs_scheduled_datetime, schedule_logs.completed_at AS schedule_logs_completed_at, schedule_logs.status AS schedule_logs_status, schedule_logs.notes AS schedule_logs_notes, schedule_logs.created_at AS schedule_logs_created_at 
FROM schedule_logs 
WHERE schedule_logs.schedule_id IN (%s)
2025-07-08 14:49:44,688 - sqlalchemy.engine.Engine - INFO - [cached since 46.88s ago] ('db0c2f7d-8790-463f-9cdb-fad85270a3a9',)
2025-07-08 14:49:44,690 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.id = %s
2025-07-08 14:49:44,691 - sqlalchemy.engine.Engine - INFO - [cached since 46.89s ago] ('db0c2f7d-8790-463f-9cdb-fad85270a3a9',)
2025-07-08 14:49:44,693 - sqlalchemy.engine.Engine - INFO - DELETE FROM schedules WHERE schedules.id = %s
2025-07-08 14:49:44,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('db0c2f7d-8790-463f-9cdb-fad85270a3a9',)
2025-07-08 14:49:44,695 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:49:44,696 - app.api.schedule - INFO - 일정 삭제 완료 - ID: db0c2f7d-8790-463f-9cdb-fad85270a3a9
2025-07-08 14:49:44,697 - app.main - INFO - ✅ DELETE /api/v1/schedules/db0c2f7d-8790-463f-9cdb-fad85270a3a9 - 200 - 0.015s
2025-07-08 14:49:51,263 - app.main - INFO - 🔄 GET /api/v1/schedules/stats/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:49:51,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:49:51,268 - sqlalchemy.engine.Engine - INFO - SELECT count(schedules.id) AS count_1 
FROM schedules 
WHERE schedules.user_id = %s AND schedules.start_datetime >= %s AND schedules.start_datetime <= %s
2025-07-08 14:49:51,269 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.datetime(2025, 6, 8, 14, 49, 51, 264488), datetime.datetime(2025, 7, 8, 14, 49, 51, 264488))
2025-07-08 14:49:51,273 - sqlalchemy.engine.Engine - INFO - SELECT count(schedule_logs.id) AS count_1 
FROM schedule_logs 
WHERE schedule_logs.user_id = %s AND schedule_logs.status = %s AND schedule_logs.scheduled_datetime >= %s AND schedule_logs.scheduled_datetime <= %s
2025-07-08 14:49:51,273 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', <LogStatus.COMPLETED: 'completed'>, datetime.datetime(2025, 6, 8, 14, 49, 51, 264488), datetime.datetime(2025, 7, 8, 14, 49, 51, 264488))
2025-07-08 14:49:51,275 - sqlalchemy.engine.Engine - INFO - SELECT count(schedule_logs.id) AS count_1 
FROM schedule_logs 
WHERE schedule_logs.user_id = %s AND schedule_logs.status = %s AND schedule_logs.scheduled_datetime >= %s AND schedule_logs.scheduled_datetime <= %s
2025-07-08 14:49:51,275 - sqlalchemy.engine.Engine - INFO - [cached since 0.002187s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486', <LogStatus.MISSED: 'missed'>, datetime.datetime(2025, 6, 8, 14, 49, 51, 264488), datetime.datetime(2025, 7, 8, 14, 49, 51, 264488))
2025-07-08 14:49:51,276 - sqlalchemy.engine.Engine - INFO - SELECT schedules.schedule_type, count(schedules.id) AS count_1 
FROM schedules 
WHERE schedules.user_id = %s AND schedules.start_datetime >= %s AND schedules.start_datetime <= %s GROUP BY schedules.schedule_type
2025-07-08 14:49:51,277 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.datetime(2025, 6, 8, 14, 49, 51, 264488), datetime.datetime(2025, 7, 8, 14, 49, 51, 264488))
2025-07-08 14:49:51,279 - sqlalchemy.engine.Engine - INFO - SELECT schedules.priority, count(schedules.id) AS count_1 
FROM schedules 
WHERE schedules.user_id = %s AND schedules.start_datetime >= %s AND schedules.start_datetime <= %s GROUP BY schedules.priority
2025-07-08 14:49:51,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.datetime(2025, 6, 8, 14, 49, 51, 264488), datetime.datetime(2025, 7, 8, 14, 49, 51, 264488))
2025-07-08 14:49:51,280 - app.api.schedule - INFO - 일정 통계 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 14:49:51,280 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:49:51,281 - app.main - INFO - ✅ GET /api/v1/schedules/stats/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.018s
2025-07-08 14:50:01,016 - app.main - INFO - 🔄 GET /api/v1/schedules/logs/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:50:01,019 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:50:01,027 - sqlalchemy.engine.Engine - INFO - SELECT schedule_logs.id, schedule_logs.user_id, schedule_logs.schedule_id, schedule_logs.scheduled_datetime, schedule_logs.completed_at, schedule_logs.status, schedule_logs.notes, schedule_logs.created_at 
FROM schedule_logs 
WHERE schedule_logs.user_id = %s ORDER BY schedule_logs.scheduled_datetime DESC 
 LIMIT %s
2025-07-08 14:50:01,027 - sqlalchemy.engine.Engine - INFO - [generated in 0.00158s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 100)
2025-07-08 14:50:01,029 - app.api.schedule - INFO - 일정 기록 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 1개
2025-07-08 14:50:01,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:50:01,030 - app.main - INFO - ✅ GET /api/v1/schedules/logs/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.014s
2025-07-08 14:50:07,968 - app.main - INFO - 🔄 GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:50:07,971 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:50:07,972 - sqlalchemy.engine.Engine - INFO - SELECT schedules.id, schedules.user_id, schedules.title, schedules.schedule_type, schedules.description, schedules.location, schedules.priority, schedules.start_datetime, schedules.end_datetime, schedules.is_all_day, schedules.recurrence_type, schedules.recurrence_interval, schedules.recurrence_days, schedules.recurrence_end_date, schedules.reminder_minutes, schedules.status, schedules.additional_data, schedules.notes, schedules.created_at, schedules.updated_at 
FROM schedules 
WHERE schedules.user_id = %s ORDER BY schedules.start_datetime 
 LIMIT %s, %s
2025-07-08 14:50:07,973 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 100)
2025-07-08 14:50:07,975 - app.api.schedule - INFO - 사용자 일정 조회 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 2개
2025-07-08 14:50:07,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:50:07,976 - app.main - INFO - ✅ GET /api/v1/schedules/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.008s
2025-07-08 14:50:47,860 - app.main - INFO - 🔄 GET /docs - 클라이언트: 127.0.0.1
2025-07-08 14:50:47,862 - app.main - INFO - ✅ GET /docs - 200 - 0.004s
2025-07-08 14:50:47,968 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 14:50:48,042 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.074s
2025-07-08 14:53:15,781 - app.main - INFO - 🔄 GET /api/v1/interests/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:53:15,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:53:15,795 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:53:15,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00083s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:53:15,801 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC
2025-07-08 14:53:15,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:53:15,803 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:53:15,804 - app.main - INFO - ✅ GET /api/v1/interests/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.024s
2025-07-08 14:53:25,337 - app.main - INFO - 🔄 POST /api/v1/interests/ - 클라이언트: 127.0.0.1
2025-07-08 14:53:25,343 - app.main - ERROR - 유효성 검증 오류: [{'type': 'int_parsing', 'loc': ('body', 'user_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}, {'type': 'missing', 'loc': ('body', 'keyword'), 'msg': 'Field required', 'input': {'user_id': 'da78328e-ddee-407f-8a8d-7cd0c8325486', 'category': '건강', 'interest_level': 9, 'keywords': ['혈압관리', '건강검진', '운동', '식단관리'], 'notes': '건강 관리에 매우 관심이 많음'}}, {'type': 'enum', 'loc': ('body', 'category'), 'msg': "Input should be 'health', 'food', 'hobby', 'family', 'travel', 'entertainment', 'technology', 'sports', 'culture', 'education', 'finance', 'social', 'nature', 'religion', 'politics' or 'other'", 'input': '건강', 'ctx': {'expected': "'health', 'food', 'hobby', 'family', 'travel', 'entertainment', 'technology', 'sports', 'culture', 'education', 'finance', 'social', 'nature', 'religion', 'politics' or 'other'"}}] - URL: http://localhost:8000/api/v1/interests/
2025-07-08 14:53:25,344 - app.main - INFO - ✅ POST /api/v1/interests/ - 422 - 0.007s
2025-07-08 14:53:53,621 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:53:54,692 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:53:54,696 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:53:54,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,696 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:53:54,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,696 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:53:54,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,697 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:53:54,697 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:53:54,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,700 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:53:54,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,702 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:53:54,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,703 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:53:54,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,704 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:53:54,704 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,706 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:53:54,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,707 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:53:54,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,709 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:53:54,709 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,710 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:53:54,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,711 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:53:54,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,713 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:53:54,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,714 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:53:54,714 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,716 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:53:54,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,717 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:53:54,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:53:54,719 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:53:54,720 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:53:54,730 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:53:54,730 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:53:54,730 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:53:54,730 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:53:54,730 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:54:05,646 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:54:06,699 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:54:06,702 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:54:06,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,703 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:54:06,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,703 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:54:06,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:54:06,703 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:54:06,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,705 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:54:06,705 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,707 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:54:06,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,708 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:54:06,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,709 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:54:06,709 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,710 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:54:06,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,711 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:54:06,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,712 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:54:06,712 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,713 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:54:06,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,714 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:54:06,714 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,716 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:54:06,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,717 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:54:06,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,718 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:54:06,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,720 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:54:06,720 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:54:06,721 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:54:06,721 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:54:06,732 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:54:06,732 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:54:06,732 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:54:06,732 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:54:06,732 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:55:10,642 - app.main - INFO - 🔄 POST /api/v1/interests/ - 클라이언트: 127.0.0.1
2025-07-08 14:55:10,661 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:55:10,673 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:55:10,673 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:55:10,677 - app.api.interest - ERROR - 관심사 생성 중 오류 발생: 'source' is an invalid keyword argument for Interest
2025-07-08 14:55:10,694 - app.database - ERROR - 데이터베이스 세션 오류: 500: 관심사 생성 중 오류가 발생했습니다: 'source' is an invalid keyword argument for Interest
2025-07-08 14:55:10,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:55:10,695 - app.main - ERROR - HTTP 예외: 500 - 관심사 생성 중 오류가 발생했습니다: 'source' is an invalid keyword argument for Interest - URL: http://localhost:8000/api/v1/interests/
2025-07-08 14:55:10,695 - app.main - INFO - ✅ POST /api/v1/interests/ - 500 - 0.053s
2025-07-08 14:55:22,731 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:55:23,777 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:55:23,779 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:55:23,779 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,780 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:55:23,780 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,780 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:55:23,780 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:55:23,780 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:55:23,780 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,783 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:55:23,783 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,784 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:55:23,784 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,785 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:55:23,785 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,787 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:55:23,787 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,788 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:55:23,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,789 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:55:23,789 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,791 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:55:23,791 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,792 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:55:23,792 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,793 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:55:23,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,794 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:55:23,794 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,796 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:55:23,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,797 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:55:23,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,798 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:55:23,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:23,799 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:55:23,800 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:55:23,811 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:55:23,811 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:55:23,811 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:55:23,811 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:55:23,811 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:55:34,819 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:55:35,819 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:55:35,821 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:55:35,821 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,821 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:55:35,821 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,821 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:55:35,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,822 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:55:35,822 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:55:35,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,824 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:55:35,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,825 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:55:35,825 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,826 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:55:35,826 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,827 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:55:35,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,828 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:55:35,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,829 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:55:35,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,830 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:55:35,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,832 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:55:35,832 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,833 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:55:35,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:55:35,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:55:35,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,837 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:55:35,837 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,838 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:55:35,838 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:35,840 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:55:35,840 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:55:35,851 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:55:35,852 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:55:35,852 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:55:35,852 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:55:35,852 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:55:56,564 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:55:57,542 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:55:57,544 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:55:57,544 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,545 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:55:57,545 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,545 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:55:57,545 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,546 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:55:57,546 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:55:57,546 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,548 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:55:57,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,549 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:55:57,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,550 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:55:57,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,551 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:55:57,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,553 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:55:57,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,554 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:55:57,555 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,556 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:55:57,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,558 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:55:57,558 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,560 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:55:57,560 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,561 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:55:57,561 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,563 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:55:57,563 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,565 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:55:57,565 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,566 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:55:57,566 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:55:57,567 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:55:57,568 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:55:57,578 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:55:57,578 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:55:57,578 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:55:57,578 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:55:57,578 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:56:10,828 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:56:11,822 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:56:11,823 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:56:11,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,824 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:56:11,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,824 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:56:11,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:56:11,825 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:56:11,825 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,826 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:56:11,826 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,828 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:56:11,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,829 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:56:11,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,830 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:56:11,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,831 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:56:11,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,833 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:56:11,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:56:11,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:56:11,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,837 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:56:11,837 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,840 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:56:11,840 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,841 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:56:11,841 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,842 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:56:11,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,843 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:56:11,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:11,845 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:56:11,845 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:56:11,855 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:56:11,856 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:56:11,856 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:56:11,856 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:56:11,856 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:56:28,820 - app.main - INFO - 🔄 POST /api/v1/interests/ - 클라이언트: 127.0.0.1
2025-07-08 14:56:28,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:56:28,860 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:56:28,860 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:56:28,865 - sqlalchemy.engine.Engine - INFO - INSERT INTO interests (id, user_id, keyword, category, weight, mentioned_count, last_mentioned, is_active, created_at) VALUES (%s, %s, %s, %s, %s, %s, now(), %s, now())
2025-07-08 14:56:28,865 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('0e812c32-0f04-4926-9cba-af47e44ed7fc', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '혈압관리', <InterestCategoryEnum.HEALTH: 'health'>, 9.0, 1, 1)
2025-07-08 14:56:28,867 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:56:28,870 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:56:28,870 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 14:56:28,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('0e812c32-0f04-4926-9cba-af47e44ed7fc',)
2025-07-08 14:56:28,871 - app.api.interest - INFO - 관심사 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 카테고리: InterestCategoryEnum.HEALTH
2025-07-08 14:56:28,872 - app.api.interest - ERROR - 관심사 생성 중 오류 발생: 'Interest' object has no attribute 'keywords'
2025-07-08 14:56:28,872 - app.database - ERROR - 데이터베이스 세션 오류: 500: 관심사 생성 중 오류가 발생했습니다: 'Interest' object has no attribute 'keywords'
2025-07-08 14:56:28,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:56:28,872 - app.main - ERROR - HTTP 예외: 500 - 관심사 생성 중 오류가 발생했습니다: 'Interest' object has no attribute 'keywords' - URL: http://localhost:8000/api/v1/interests/
2025-07-08 14:56:28,872 - app.main - INFO - ✅ POST /api/v1/interests/ - 500 - 0.052s
2025-07-08 14:56:56,740 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:56:57,812 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:56:57,814 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:56:57,814 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,815 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:56:57,815 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,815 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:56:57,815 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,815 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:56:57,815 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:56:57,815 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,817 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:56:57,817 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,818 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:56:57,818 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,820 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:56:57,820 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,822 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:56:57,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,823 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:56:57,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,825 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:56:57,825 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,826 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:56:57,826 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,828 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:56:57,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,829 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:56:57,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,830 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:56:57,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,832 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:56:57,832 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,833 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:56:57,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:56:57,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:56:57,835 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:56:57,835 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:56:57,846 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:56:57,847 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:56:57,847 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:56:57,847 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:56:57,847 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:57:21,383 - app.main - INFO - 🔄 POST /api/v1/interests/ - 클라이언트: 127.0.0.1
2025-07-08 14:57:21,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:57:21,432 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:57:21,432 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:57:21,437 - sqlalchemy.engine.Engine - INFO - INSERT INTO interests (id, user_id, keyword, category, weight, mentioned_count, last_mentioned, is_active, created_at) VALUES (%s, %s, %s, %s, %s, %s, now(), %s, now())
2025-07-08 14:57:21,437 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9dcdb3b0-e0ce-4644-8bde-c21cc83d2051', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '혈압관리', <InterestCategoryEnum.HEALTH: 'health'>, 9.0, 1, 1)
2025-07-08 14:57:21,438 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:57:21,480 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:57:21,481 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 14:57:21,481 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9dcdb3b0-e0ce-4644-8bde-c21cc83d2051',)
2025-07-08 14:57:21,482 - app.api.interest - INFO - 관심사 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 카테고리: InterestCategoryEnum.HEALTH
2025-07-08 14:57:21,482 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:57:21,482 - app.main - INFO - ✅ POST /api/v1/interests/ - 200 - 0.099s
2025-07-08 14:57:31,703 - app.main - INFO - 🔄 POST /api/v1/interests/ - 클라이언트: 127.0.0.1
2025-07-08 14:57:31,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:57:31,706 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:57:31,706 - sqlalchemy.engine.Engine - INFO - [cached since 10.27s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:57:31,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO interests (id, user_id, keyword, category, weight, mentioned_count, last_mentioned, is_active, created_at) VALUES (%s, %s, %s, %s, %s, %s, now(), %s, now())
2025-07-08 14:57:31,709 - sqlalchemy.engine.Engine - INFO - [cached since 10.27s ago] ('96c27e59-49bc-490a-9d43-9ce975409e1f', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '산책', <InterestCategoryEnum.SPORTS: 'sports'>, 8.0, 1, 1)
2025-07-08 14:57:31,710 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:57:31,712 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:57:31,713 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 14:57:31,713 - sqlalchemy.engine.Engine - INFO - [cached since 10.23s ago] ('96c27e59-49bc-490a-9d43-9ce975409e1f',)
2025-07-08 14:57:31,715 - app.api.interest - INFO - 관심사 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 카테고리: InterestCategoryEnum.SPORTS
2025-07-08 14:57:31,715 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:57:31,716 - app.main - INFO - ✅ POST /api/v1/interests/ - 200 - 0.013s
2025-07-08 14:57:41,575 - app.main - INFO - 🔄 POST /api/v1/interests/ - 클라이언트: 127.0.0.1
2025-07-08 14:57:41,577 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:57:41,577 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:57:41,577 - sqlalchemy.engine.Engine - INFO - [cached since 20.15s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:57:41,579 - sqlalchemy.engine.Engine - INFO - INSERT INTO interests (id, user_id, keyword, category, weight, mentioned_count, last_mentioned, is_active, created_at) VALUES (%s, %s, %s, %s, %s, %s, now(), %s, now())
2025-07-08 14:57:41,579 - sqlalchemy.engine.Engine - INFO - [cached since 20.14s ago] ('fb1926bb-05fa-4e5d-b051-3986e3080f03', 'da78328e-ddee-407f-8a8d-7cd0c8325486', '요리', <InterestCategoryEnum.FOOD: 'food'>, 7.0, 1, 1)
2025-07-08 14:57:41,581 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:57:41,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:57:41,584 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 14:57:41,584 - sqlalchemy.engine.Engine - INFO - [cached since 20.1s ago] ('fb1926bb-05fa-4e5d-b051-3986e3080f03',)
2025-07-08 14:57:41,585 - app.api.interest - INFO - 관심사 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 카테고리: InterestCategoryEnum.FOOD
2025-07-08 14:57:41,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:57:41,590 - app.main - INFO - ✅ POST /api/v1/interests/ - 200 - 0.015s
2025-07-08 14:57:59,861 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:58:01,037 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:58:01,040 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:58:01,040 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,040 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:58:01,040 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,040 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:58:01,040 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:58:01,041 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:58:01,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,043 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:58:01,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,044 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:58:01,044 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,045 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:58:01,045 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,046 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:58:01,046 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,047 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:58:01,047 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,048 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:58:01,048 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,050 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:58:01,050 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,051 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:58:01,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,053 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:58:01,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,055 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:58:01,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,057 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:58:01,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,058 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:58:01,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,059 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:58:01,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:01,060 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:58:01,061 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:58:01,072 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:58:01,073 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:58:01,073 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:58:01,073 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:58:01,073 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 14:58:11,305 - app.main - INFO - 🔄 GET /api/v1/interests/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 14:58:11,322 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:58:11,340 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 14:58:11,340 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 14:58:11,344 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-08 14:58:11,344 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 50)
2025-07-08 14:58:11,346 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 14:58:11,346 - app.main - INFO - ✅ GET /api/v1/interests/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.041s
2025-07-08 14:58:28,056 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 14:58:29,089 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 14:58:29,091 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 14:58:29,091 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,092 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 14:58:29,092 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,092 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 14:58:29,092 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 14:58:29,092 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 14:58:29,092 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,094 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 14:58:29,094 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,095 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 14:58:29,095 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,096 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 14:58:29,096 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,097 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 14:58:29,097 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,098 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 14:58:29,098 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,099 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 14:58:29,099 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,100 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 14:58:29,100 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,101 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 14:58:29,101 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,102 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 14:58:29,102 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,103 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 14:58:29,103 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,104 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 14:58:29,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,105 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 14:58:29,105 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,106 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 14:58:29,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 14:58:29,108 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 14:58:29,108 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 14:58:29,119 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 14:58:29,119 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 14:58:29,119 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 14:58:29,119 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 14:58:29,119 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:04:36,466 - app.main - INFO - 🔄 GET /api/v1/interests/9dcdb3b0-e0ce-4644-8bde-c21cc83d2051 - 클라이언트: 127.0.0.1
2025-07-08 15:04:36,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:04:36,504 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 15:04:36,504 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('9dcdb3b0-e0ce-4644-8bde-c21cc83d2051',)
2025-07-08 15:04:36,506 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 15:04:36,507 - app.main - INFO - ✅ GET /api/v1/interests/9dcdb3b0-e0ce-4644-8bde-c21cc83d2051 - 200 - 0.041s
2025-07-08 15:04:53,714 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:04:54,788 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:04:54,790 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:04:54,790 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,790 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:04:54,790 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,791 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:04:54,791 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,791 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:04:54,791 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:04:54,791 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,793 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:04:54,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,794 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:04:54,794 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,795 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:04:54,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,798 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:04:54,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,800 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:04:54,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,802 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:04:54,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,803 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:04:54,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,805 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:04:54,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,807 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:04:54,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,808 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:04:54,808 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,810 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:04:54,810 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,811 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:04:54,811 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,812 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:04:54,812 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:04:54,814 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:04:54,814 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:04:54,824 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:04:54,825 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:04:54,825 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:04:54,825 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:04:54,825 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:05:10,624 - app.main - INFO - 🔄 PUT /api/v1/interests/96c27e59-49bc-490a-9d43-9ce975409e1f - 클라이언트: 127.0.0.1
2025-07-08 15:05:10,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:05:10,658 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 15:05:10,658 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('96c27e59-49bc-490a-9d43-9ce975409e1f',)
2025-07-08 15:05:10,660 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 15:05:10,660 - sqlalchemy.engine.Engine - INFO - [cached since 0.002676s ago] ('96c27e59-49bc-490a-9d43-9ce975409e1f',)
2025-07-08 15:05:10,662 - sqlalchemy.engine.Engine - INFO - UPDATE interests SET keyword=%s, weight=%s WHERE interests.id = %s
2025-07-08 15:05:10,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('조깅', 9.5, '96c27e59-49bc-490a-9d43-9ce975409e1f')
2025-07-08 15:05:10,663 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:05:10,666 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:05:10,667 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 15:05:10,667 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('96c27e59-49bc-490a-9d43-9ce975409e1f',)
2025-07-08 15:05:10,667 - app.api.interest - INFO - 관심사 업데이트 완료 - ID: 96c27e59-49bc-490a-9d43-9ce975409e1f
2025-07-08 15:05:10,668 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 15:05:10,668 - app.main - INFO - ✅ PUT /api/v1/interests/96c27e59-49bc-490a-9d43-9ce975409e1f - 200 - 0.044s
2025-07-08 15:05:27,754 - app.main - INFO - 🔄 DELETE /api/v1/interests/0e812c32-0f04-4926-9cba-af47e44ed7fc - 클라이언트: 127.0.0.1
2025-07-08 15:05:27,756 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:05:27,757 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 15:05:27,757 - sqlalchemy.engine.Engine - INFO - [cached since 17.1s ago] ('0e812c32-0f04-4926-9cba-af47e44ed7fc',)
2025-07-08 15:05:27,760 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.id = %s
2025-07-08 15:05:27,760 - sqlalchemy.engine.Engine - INFO - [cached since 17.1s ago] ('0e812c32-0f04-4926-9cba-af47e44ed7fc',)
2025-07-08 15:05:27,762 - sqlalchemy.engine.Engine - INFO - DELETE FROM interests WHERE interests.id = %s
2025-07-08 15:05:27,762 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('0e812c32-0f04-4926-9cba-af47e44ed7fc',)
2025-07-08 15:05:27,764 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:05:27,765 - app.api.interest - INFO - 관심사 삭제 완료 - ID: 0e812c32-0f04-4926-9cba-af47e44ed7fc
2025-07-08 15:05:27,766 - app.main - INFO - ✅ DELETE /api/v1/interests/0e812c32-0f04-4926-9cba-af47e44ed7fc - 200 - 0.012s
2025-07-08 15:05:38,347 - app.main - INFO - 🔄 GET /api/v1/interests/analysis/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 15:05:38,349 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:05:38,359 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 15:05:38,360 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 15:05:38,366 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-08 15:05:38,367 - sqlalchemy.engine.Engine - INFO - [generated in 0.00309s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 200)
2025-07-08 15:05:38,371 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-08 15:05:38,371 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', datetime.datetime(2025, 6, 8, 6, 5, 38, 369533))
2025-07-08 15:05:38,374 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-08 15:05:38,374 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 50)
2025-07-08 15:05:38,376 - app.api.interest - ERROR - 관심사 분석 중 오류 발생: 5 validation errors for InterestAnalysisResponse
analysis_period
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
active_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
category_distribution
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
top_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 15:05:38,377 - app.database - ERROR - 데이터베이스 세션 오류: 500: 관심사 분석 중 오류가 발생했습니다: 5 validation errors for InterestAnalysisResponse
analysis_period
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
active_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
category_distribution
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
top_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 15:05:38,377 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 15:05:38,379 - app.main - ERROR - HTTP 예외: 500 - 관심사 분석 중 오류가 발생했습니다: 5 validation errors for InterestAnalysisResponse
analysis_period
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
active_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
category_distribution
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
top_interests
  Field required [type=missing, input_value={'user_id': 'da78328e-dde...existing_interests': 3}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/interests/analysis/da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 15:05:38,379 - app.main - INFO - ✅ GET /api/v1/interests/analysis/da78328e-ddee-407f-8a8d-7cd0c8325486 - 500 - 0.032s
2025-07-08 15:05:49,622 - app.main - INFO - 🔄 GET /api/v1/interests/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 15:05:49,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:05:49,624 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 15:05:49,624 - sqlalchemy.engine.Engine - INFO - [cached since 11.27s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 15:05:49,627 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-08 15:05:49,628 - sqlalchemy.engine.Engine - INFO - [cached since 11.26s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 50)
2025-07-08 15:05:49,631 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 15:05:49,632 - app.main - INFO - ✅ GET /api/v1/interests/user/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.010s
2025-07-08 15:06:30,917 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:06:32,045 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:06:32,048 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:06:32,048 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,048 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:06:32,048 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,049 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:06:32,049 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,049 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:06:32,049 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:06:32,049 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,053 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:06:32,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,055 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:06:32,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,056 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:06:32,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,058 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:06:32,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,059 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:06:32,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,061 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:06:32,061 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,062 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:06:32,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,063 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:06:32,063 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,064 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:06:32,065 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,066 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:06:32,066 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,067 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:06:32,067 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,073 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:06:32,073 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,090 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:06:32,090 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:32,092 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:06:32,092 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:06:32,104 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:06:32,105 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:06:32,105 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:06:32,105 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:06:32,105 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:06:43,523 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:06:44,593 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:06:44,596 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:06:44,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,596 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:06:44,597 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,597 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:06:44,597 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,597 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:06:44,597 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:06:44,597 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,599 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:06:44,600 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,600 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:06:44,600 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,603 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:06:44,603 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,604 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:06:44,604 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,606 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:06:44,606 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,607 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:06:44,607 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,609 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:06:44,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,610 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:06:44,610 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,612 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:06:44,612 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,614 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:06:44,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,615 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:06:44,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,616 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:06:44,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,617 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:06:44,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:06:44,618 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:06:44,619 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:06:44,630 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:06:44,630 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:06:44,630 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:06:44,630 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:06:44,630 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:07:08,754 - app.main - INFO - 🔄 GET /api/v1/interests/stats/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 15:07:08,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:07:08,950 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 15:07:08,950 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 15:07:08,964 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-08 15:07:08,964 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 50)
2025-07-08 15:07:08,965 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 15:07:08,966 - app.main - INFO - ✅ GET /api/v1/interests/stats/da78328e-ddee-407f-8a8d-7cd0c8325486 - 200 - 0.211s
2025-07-08 15:07:17,884 - app.main - INFO - 🔄 GET /api/v1/interests/content/da78328e-ddee-407f-8a8d-7cd0c8325486 - 클라이언트: 127.0.0.1
2025-07-08 15:07:17,887 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:07:17,887 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-08 15:07:17,887 - sqlalchemy.engine.Engine - INFO - [cached since 8.938s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-08 15:07:17,889 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-08 15:07:17,890 - sqlalchemy.engine.Engine - INFO - [cached since 8.926s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486', 0, 50)
2025-07-08 15:07:17,891 - app.api.interest - ERROR - 관심사 기반 컨텐츠 추천 중 오류 발생: 'Interest' object has no attribute 'keywords'
2025-07-08 15:07:17,891 - app.database - ERROR - 데이터베이스 세션 오류: 500: 관심사 기반 컨텐츠 추천 중 오류가 발생했습니다: 'Interest' object has no attribute 'keywords'
2025-07-08 15:07:17,891 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-08 15:07:17,893 - app.main - ERROR - HTTP 예외: 500 - 관심사 기반 컨텐츠 추천 중 오류가 발생했습니다: 'Interest' object has no attribute 'keywords' - URL: http://localhost:8000/api/v1/interests/content/da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-08 15:07:17,893 - app.main - INFO - ✅ GET /api/v1/interests/content/da78328e-ddee-407f-8a8d-7cd0c8325486 - 500 - 0.009s
2025-07-08 15:40:06,068 - app.main - INFO - 🔄 GET /docs - 클라이언트: 127.0.0.1
2025-07-08 15:40:06,075 - app.main - INFO - ✅ GET /docs - 200 - 0.008s
2025-07-08 15:40:06,171 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 15:40:06,216 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.045s
2025-07-08 15:52:05,643 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:52:07,199 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:52:07,205 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:52:07,205 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,205 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:52:07,205 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,206 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:52:07,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,206 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:52:07,206 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:52:07,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,208 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:52:07,208 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,210 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:52:07,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,210 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:52:07,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,211 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:52:07,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,212 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:52:07,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,214 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:52:07,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,215 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:52:07,215 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,216 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:52:07,216 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,217 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:52:07,217 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,218 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:52:07,218 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,218 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:52:07,219 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,219 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:52:07,219 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,220 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:52:07,220 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:07,221 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:52:07,222 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:52:07,234 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:52:07,234 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:52:07,234 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:52:07,234 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:52:07,234 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:52:08,647 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:52:09,492 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:52:09,494 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:52:09,494 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,495 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:52:09,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,495 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:52:09,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:52:09,496 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:52:09,496 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,498 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:52:09,498 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,499 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:52:09,499 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,501 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:52:09,501 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,503 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:52:09,503 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,505 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:52:09,505 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,507 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:52:09,507 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,508 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:52:09,508 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,510 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:52:09,510 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,511 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:52:09,511 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,513 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:52:09,513 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,515 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:52:09,515 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,516 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:52:09,516 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,517 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:52:09,517 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:09,518 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:52:09,519 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:52:09,529 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:52:09,530 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:52:09,530 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:52:09,530 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:52:09,530 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:52:30,954 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:52:31,828 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:52:31,833 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:52:31,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,833 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:52:31,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,833 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:52:31,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:52:31,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:52:31,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:52:31,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,838 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:52:31,838 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,840 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:52:31,840 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,841 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:52:31,841 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,843 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:52:31,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,845 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:52:31,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,846 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:52:31,846 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,847 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:52:31,847 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,849 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:52:31,849 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,851 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:52:31,851 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,852 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:52:31,852 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,854 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:52:31,854 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,855 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:52:31,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:52:31,857 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:52:31,857 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:52:31,868 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:52:31,869 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:52:31,869 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:52:31,869 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:52:31,869 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:52:58,458 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:53:00,107 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:53:00,112 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:53:00,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,113 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:53:00,113 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,113 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:53:00,113 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,113 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:53:00,113 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:53:00,113 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,115 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:53:00,116 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,117 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:53:00,117 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,119 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:53:00,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,121 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:53:00,121 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,123 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:53:00,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,124 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:53:00,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,126 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:53:00,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,127 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:53:00,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,129 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:53:00,129 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,132 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:53:00,132 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,134 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:53:00,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,135 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:53:00,135 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,136 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:53:00,136 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:00,137 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:53:00,137 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:53:00,149 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:53:00,149 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:53:00,149 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:53:00,149 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:53:00,149 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:53:08,439 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:53:09,676 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:53:09,678 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:53:09,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,679 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:53:09,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,679 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:53:09,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,680 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:53:09,680 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:53:09,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,682 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:53:09,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,684 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:53:09,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,686 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:53:09,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,688 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:53:09,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,690 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:53:09,690 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,692 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:53:09,692 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,693 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:53:09,693 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,694 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:53:09,694 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,695 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:53:09,695 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,696 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:53:09,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,698 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:53:09,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,699 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:53:09,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,699 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:53:09,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:09,700 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:53:09,701 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:53:09,712 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:53:09,713 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:53:09,713 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:53:09,713 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:53:09,713 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:53:17,343 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:53:18,339 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:53:18,346 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:53:18,346 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,348 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:53:18,348 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,348 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:53:18,348 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,348 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:53:18,348 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:53:18,348 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,350 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:53:18,351 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,352 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:53:18,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,353 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:53:18,353 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,354 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:53:18,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,360 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:53:18,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,362 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:53:18,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,366 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:53:18,366 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,368 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:53:18,368 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,373 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:53:18,373 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,374 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:53:18,374 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,376 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:53:18,376 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,377 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:53:18,377 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,378 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:53:18,378 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:53:18,380 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:53:18,380 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:53:18,396 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:53:18,397 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:53:18,397 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:53:18,397 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:53:18,397 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:54:52,098 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:54:53,411 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:54:53,414 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:54:53,414 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,415 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:54:53,415 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,415 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:54:53,415 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,415 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:54:53,415 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:54:53,415 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,417 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:54:53,417 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,419 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:54:53,419 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,420 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:54:53,420 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,421 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:54:53,421 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,422 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:54:53,422 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,423 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:54:53,423 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,424 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:54:53,424 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,425 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:54:53,425 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,426 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:54:53,426 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,427 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:54:53,427 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,429 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:54:53,429 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,430 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:54:53,430 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,432 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:54:53,432 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:53,433 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:54:53,435 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:54:53,448 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:54:53,448 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:54:53,448 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:54:53,448 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:54:53,448 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:54:54,561 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:54:55,538 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:54:55,542 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:54:55,542 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,543 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:54:55,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,543 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:54:55,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,543 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:54:55,544 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:54:55,544 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,545 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:54:55,545 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,547 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:54:55,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,549 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:54:55,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,551 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:54:55,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,552 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:54:55,552 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,554 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:54:55,554 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,556 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:54:55,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,557 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:54:55,557 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,559 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:54:55,559 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,560 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:54:55,560 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,562 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:54:55,562 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,563 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:54:55,563 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,563 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:54:55,564 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:54:55,565 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:54:55,566 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:54:55,577 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:54:55,578 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:54:55,578 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:54:55,578 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:54:55,578 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:55:10,852 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:55:12,054 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:55:12,058 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:55:12,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,058 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:55:12,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,058 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:55:12,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:55:12,059 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:55:12,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,060 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:55:12,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,061 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:55:12,061 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,062 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:55:12,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,063 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:55:12,063 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,064 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:55:12,064 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,065 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:55:12,065 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,067 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:55:12,067 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,068 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:55:12,068 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,069 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:55:12,069 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,070 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:55:12,070 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,071 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:55:12,071 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,071 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:55:12,071 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,072 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:55:12,072 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:55:12,073 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:55:12,074 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:55:12,085 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:55:12,086 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:55:12,086 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:55:12,086 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:55:12,086 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:55:26,678 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:57:06,906 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:57:06,940 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:57:06,940 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,941 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:57:06,941 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,941 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:57:06,941 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:57:06,941 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:57:06,941 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,943 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:57:06,943 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,944 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:57:06,944 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,945 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:57:06,945 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,946 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:57:06,946 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,946 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:57:06,946 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,947 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:57:06,947 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,949 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:57:06,949 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,950 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:57:06,950 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,951 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:57:06,951 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,952 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:57:06,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,953 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:57:06,953 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,954 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:57:06,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,956 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:57:06,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:06,957 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:57:06,957 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:57:06,969 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:57:06,970 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:57:06,970 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:57:06,970 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:57:06,970 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:57:14,345 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:57:15,486 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:57:15,490 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:57:15,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,491 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:57:15,491 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,491 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:57:15,491 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:57:15,492 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:57:15,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,493 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:57:15,494 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,494 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:57:15,494 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,495 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:57:15,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,496 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:57:15,496 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,497 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:57:15,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,499 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:57:15,499 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,501 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:57:15,501 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,503 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:57:15,503 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,504 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:57:15,504 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,506 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:57:15,506 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,506 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:57:15,507 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,507 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:57:15,507 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,508 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:57:15,508 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:15,510 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:57:15,510 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:57:15,522 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:57:15,522 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:57:15,522 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:57:15,522 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:57:15,522 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:57:21,878 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:57:23,052 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:57:23,055 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:57:23,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,056 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:57:23,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,056 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:57:23,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:57:23,057 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:57:23,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,059 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:57:23,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,060 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:57:23,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,062 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:57:23,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,062 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:57:23,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,064 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:57:23,064 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,065 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:57:23,065 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,066 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:57:23,066 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,068 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:57:23,068 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,069 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:57:23,070 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,070 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:57:23,070 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,071 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:57:23,071 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,072 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:57:23,072 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,073 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:57:23,073 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:23,074 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:57:23,074 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:57:23,086 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:57:23,087 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:57:23,087 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:57:23,087 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:57:23,087 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 15:57:48,339 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 15:57:49,582 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 15:57:49,585 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 15:57:49,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,586 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 15:57:49,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,586 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 15:57:49,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 15:57:49,586 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 15:57:49,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,589 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 15:57:49,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,590 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 15:57:49,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,592 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 15:57:49,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,593 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 15:57:49,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,595 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 15:57:49,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,596 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 15:57:49,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,598 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 15:57:49,598 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,600 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 15:57:49,600 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,600 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 15:57:49,600 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,601 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 15:57:49,601 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,602 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 15:57:49,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,602 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 15:57:49,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,603 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 15:57:49,603 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 15:57:49,604 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 15:57:49,605 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 15:57:49,618 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 15:57:49,618 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 15:57:49,618 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 15:57:49,618 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 15:57:49,618 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 17:09:02,226 - app.main - INFO - 🔄 GET / - 클라이언트: 127.0.0.1
2025-07-08 17:09:02,229 - app.main - INFO - ✅ GET / - 200 - 0.004s
2025-07-08 17:09:04,834 - app.main - INFO - 🔄 GET /docs - 클라이언트: 127.0.0.1
2025-07-08 17:09:04,835 - app.main - INFO - ✅ GET /docs - 200 - 0.002s
2025-07-08 17:09:04,921 - app.main - INFO - 🔄 GET /openapi.json - 클라이언트: 127.0.0.1
2025-07-08 17:09:04,988 - app.main - INFO - ✅ GET /openapi.json - 200 - 0.067s
2025-07-08 17:20:56,039 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:20:56,039 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:25:03,893 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:25:03,893 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:37:31,966 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:37:31,966 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:43:41,739 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:43:41,739 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:43:44,815 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: test-user-001, 추정 토큰: 178
2025-07-08 17:43:44,816 - app.services.gemini - ERROR - Gemini 응답 생성 실패: 3 validation errors for ChatResponse
session_id
  Field required [type=missing, input_value={'message': '김할머니...on_context': ['happy']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
response
  Field required [type=missing, input_value={'message': '김할머니...on_context': ['happy']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
created_at
  Field required [type=missing, input_value={'message': '김할머니...on_context': ['happy']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-08 17:44:19,291 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 17:44:19,579 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:44:19,579 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:44:20,603 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 17:44:20,608 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 17:44:20,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,609 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 17:44:20,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,609 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 17:44:20,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 17:44:20,610 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 17:44:20,610 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,613 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 17:44:20,613 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,614 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 17:44:20,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,616 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 17:44:20,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,618 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 17:44:20,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,618 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 17:44:20,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,619 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 17:44:20,619 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,620 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 17:44:20,620 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,621 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 17:44:20,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,621 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 17:44:20,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,623 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 17:44:20,623 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,624 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 17:44:20,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,625 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 17:44:20,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,627 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 17:44:20,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:20,629 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 17:44:20,630 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 17:44:20,641 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 17:44:20,642 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 17:44:20,642 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 17:44:20,642 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 17:44:20,642 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 17:44:36,613 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 17:44:36,832 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:44:36,832 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:44:37,563 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 17:44:37,567 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 17:44:37,567 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,567 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 17:44:37,567 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,568 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 17:44:37,568 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 17:44:37,568 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 17:44:37,568 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,570 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 17:44:37,570 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,572 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 17:44:37,572 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,574 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 17:44:37,574 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,575 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 17:44:37,575 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,576 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 17:44:37,576 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,578 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 17:44:37,578 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,579 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 17:44:37,579 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,580 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 17:44:37,580 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,581 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 17:44:37,581 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,583 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 17:44:37,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,584 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 17:44:37,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,586 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 17:44:37,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,587 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 17:44:37,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:44:37,588 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 17:44:37,589 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 17:44:37,599 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 17:44:37,599 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 17:44:37,600 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 17:44:37,600 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 17:44:37,600 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 17:44:57,005 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:44:57,005 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:45:00,679 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: test-user-001, 추정 토큰: 206
2025-07-08 17:45:21,771 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:45:21,771 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:45:24,961 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: test-user-001, 추정 토큰: 178
2025-07-08 17:45:25,379 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: test-user, 텍스트 길이: 22, 벡터 차원: 768
2025-07-08 17:45:26,096 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: test-user, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.17
2025-07-08 17:46:19,398 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-08 17:46:21,017 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-08 17:46:21,017 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-08 17:46:21,905 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-08 17:46:21,909 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-08 17:46:21,909 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,910 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-08 17:46:21,910 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,910 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-08 17:46:21,910 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,910 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-08 17:46:21,910 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-08 17:46:21,910 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,913 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-08 17:46:21,913 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,914 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-08 17:46:21,914 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,915 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-08 17:46:21,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,916 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-08 17:46:21,916 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,918 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-08 17:46:21,918 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,919 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-08 17:46:21,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,921 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-08 17:46:21,921 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,922 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-08 17:46:21,922 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,924 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-08 17:46:21,924 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,926 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-08 17:46:21,926 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,927 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-08 17:46:21,927 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,928 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-08 17:46:21,928 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,930 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-08 17:46:21,930 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-08 17:46:21,931 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-08 17:46:21,932 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-08 17:46:21,942 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-08 17:46:21,942 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-08 17:46:21,942 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-08 17:46:21,942 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-08 17:46:21,942 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-08 17:58:30,875 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:05:25,225 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:05:25,225 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:05:29,656 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:05:29,698 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:05:29,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,700 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:05:29,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,701 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:05:29,701 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,702 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:05:29,702 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:05:29,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,716 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:05:29,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,718 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:05:29,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,719 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:05:29,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,720 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:05:29,720 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,721 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:05:29,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,723 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:05:29,723 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,724 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:05:29,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,725 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:05:29,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,726 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:05:29,726 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,728 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:05:29,728 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,729 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:05:29,729 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,730 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:05:29,730 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,731 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:05:29,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:05:29,732 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:05:29,733 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:05:29,745 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:05:29,746 - app.qdrant_client - WARNING - ⚠️ Qdrant 초기화 실패 (테스트 환경에서는 정상): [Errno 61] Connection refused
2025-07-11 11:05:29,746 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:05:29,746 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:05:29,746 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:08:36,430 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/send - 클라이언트: 127.0.0.1
2025-07-11 11:08:36,432 - app.main - INFO - ✅ OPTIONS /api/v1/chat/send - 200 - 0.003s
2025-07-11 11:08:36,434 - app.main - INFO - 🔄 POST /api/v1/chat/send - 클라이언트: 127.0.0.1
2025-07-11 11:08:36,435 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/send
2025-07-11 11:08:36,435 - app.main - INFO - ✅ POST /api/v1/chat/send - 404 - 0.002s
2025-07-11 11:09:10,427 - app.main - INFO - 🔄 GET /health - 클라이언트: 127.0.0.1
2025-07-11 11:09:10,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:09:10,451 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-07-11 11:09:10,451 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ()
2025-07-11 11:09:10,452 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:09:10,453 - app.main - INFO - ✅ GET /health - 200 - 0.026s
2025-07-11 11:10:12,045 - app.main - INFO - 🔄 GET /api/v1/health - 클라이언트: 127.0.0.1
2025-07-11 11:10:12,048 - app.main - INFO - ✅ GET /api/v1/health - 200 - 0.003s
2025-07-11 11:13:05,839 - app.main - INFO - 🔄 GET /api/v1/health - 클라이언트: 127.0.0.1
2025-07-11 11:13:05,842 - app.main - INFO - ✅ GET /api/v1/health - 200 - 0.003s
2025-07-11 11:13:14,769 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-11 11:13:14,787 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:13:14,814 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2025-07-11 11:13:14,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ()
2025-07-11 11:13:14,822 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users ORDER BY users.created_at DESC 
 LIMIT %s, %s
2025-07-11 11:13:14,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (0, 100)
2025-07-11 11:13:14,824 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:13:14,825 - app.main - INFO - ✅ GET /api/v1/users/ - 200 - 0.056s
2025-07-11 11:14:25,777 - app.main - INFO - 🔄 POST /api/v1/chat/send - 클라이언트: 127.0.0.1
2025-07-11 11:14:25,780 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/send
2025-07-11 11:14:25,780 - app.main - INFO - ✅ POST /api/v1/chat/send - 404 - 0.004s
2025-07-11 11:16:16,834 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:16:16,848 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:16:16,852 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:16:16,852 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ('test-user',)
2025-07-11 11:16:16,857 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 404: 사용자를 찾을 수 없습니다
2025-07-11 11:16:16,857 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 404: 사용자를 찾을 수 없습니다
2025-07-11 11:16:16,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:16:16,858 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 404: 사용자를 찾을 수 없습니다 - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:16:16,859 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 0.025s
2025-07-11 11:19:55,405 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-11 11:19:55,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:19:55,423 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2025-07-11 11:19:55,423 - sqlalchemy.engine.Engine - INFO - [cached since 400.6s ago] ()
2025-07-11 11:19:55,425 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users ORDER BY users.created_at DESC 
 LIMIT %s, %s
2025-07-11 11:19:55,425 - sqlalchemy.engine.Engine - INFO - [cached since 400.6s ago] (0, 100)
2025-07-11 11:19:55,427 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:19:55,428 - app.main - INFO - ✅ GET /api/v1/users/ - 200 - 0.024s
2025-07-11 11:20:02,443 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:20:02,445 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:20:02,445 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:20:02,446 - sqlalchemy.engine.Engine - INFO - [cached since 225.6s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:20:02,450 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:20:02,451 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:20:02,458 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_sessions (id, user_id, session_id, start_time, end_time, message_count, avg_emotion_score, session_summary) VALUES (%s, %s, %s, now(), %s, %s, %s, %s)
2025-07-11 11:20:02,459 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('084d3625-df05-493a-8e18-8ebebab0b0a0', 'da78328e-ddee-407f-8a8d-7cd0c8325486', 'a100bd71-c3c4-44f7-bcdb-7ca71e5440a7', None, 0, None, None)
2025-07-11 11:20:02,467 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:20:02,473 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:20:02,474 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-11 11:20:02,475 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('084d3625-df05-493a-8e18-8ebebab0b0a0',)
2025-07-11 11:20:02,476 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:20:03,136 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 5, 벡터 차원: 768
2025-07-11 11:20:03,144 - app.services.qdrant - ERROR - 벡터 포인트 추가 실패: [Errno 61] Connection refused
2025-07-11 11:20:03,144 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 벡터 저장 중 오류 발생: [Errno 61] Connection refused
2025-07-11 11:20:03,144 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 벡터 저장 중 오류 발생: [Errno 61] Connection refused
2025-07-11 11:20:03,144 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:20:03,146 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 벡터 저장 중 오류 발생: [Errno 61] Connection refused - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:20:03,146 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 0.704s
2025-07-11 11:23:34,032 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:23:34,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:23:34,054 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:23:34,054 - sqlalchemy.engine.Engine - INFO - [cached since 437.2s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:23:34,057 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:23:34,057 - sqlalchemy.engine.Engine - INFO - [cached since 211.6s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:23:34,058 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:23:34,413 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 5, 벡터 차원: 768
2025-07-11 11:23:34,438 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 404 Not Found"
2025-07-11 11:23:34,439 - app.services.qdrant - ERROR - 벡터 포인트 추가 실패: Unexpected Response: 404 (Not Found)
Raw response content:
b'{"status":{"error":"Not found: Collection `chat_vectors` doesn\'t exist!"},"time":0.00004825}'
2025-07-11 11:23:34,439 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 벡터 저장 중 오류 발생: Unexpected Response: 404 (Not Found)
Raw response content:
b'{"status":{"error":"Not found: Collection `chat_vectors` doesn\'t exist!"},"time":0.00004825}'
2025-07-11 11:23:34,439 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 벡터 저장 중 오류 발생: Unexpected Response: 404 (Not Found)
Raw response content:
b'{"status":{"error":"Not found: Collection `chat_vectors` doesn\'t exist!"},"time":0.00004825}'
2025-07-11 11:23:34,439 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:23:34,440 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 벡터 저장 중 오류 발생: Unexpected Response: 404 (Not Found)
Raw response content:
b'{"status":{"error":"Not found: Collection `chat_vectors` doesn\'t exist!"},"time":0.00004825}' - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:23:34,441 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 0.409s
2025-07-11 11:24:04,850 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:24:05,167 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:24:05,167 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:24:05,996 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:24:06,192 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:24:06,195 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:24:06,196 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,196 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:24:06,196 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,197 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:24:06,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:24:06,198 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:24:06,198 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,202 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:24:06,202 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,204 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:24:06,204 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,205 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:24:06,205 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,207 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:24:06,207 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,208 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:24:06,208 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,210 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:24:06,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,211 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:24:06,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,212 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:24:06,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,214 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:24:06,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,215 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:24:06,215 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,217 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:24:06,217 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,218 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:24:06,218 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,220 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:24:06,220 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:24:06,221 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:24:06,222 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:24:06,238 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:24:06,238 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:24:06,241 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:24:06,242 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:24:06,242 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:24:06,242 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:24:06,242 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:25:53,199 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:25:53,221 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:25:53,238 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:25:53,238 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:25:53,241 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:25:53,241 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:25:53,243 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:25:53,928 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 5, 벡터 차원: 768
2025-07-11 11:25:53,953 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:25:53,957 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 645d8898-c9eb-4b4a-82c7-b9d28627753f, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:25:53,957 - app.api.chat - INFO - 유사 대화 검색 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:25:53,992 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 11:25:53,994 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 1개
2025-07-11 11:25:54,004 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 11:25:54,007 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 1개
2025-07-11 11:25:54,007 - app.api.chat - INFO - 감정 분석 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:25:55,153 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 11:25:55,154 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:25:55,155 - sqlalchemy.engine.Engine - INFO - [cached since 1.917s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:25:55,163 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4486197328 param)s': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 11:25:55,163 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 3 validation errors for ChatPromptContext
user_info
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
current_time
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
system_instructions
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-11 11:25:55,164 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 3 validation errors for ChatPromptContext
user_info
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
current_time
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
system_instructions
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-11 11:25:55,164 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:25:55,165 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 3 validation errors for ChatPromptContext
user_info
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
current_time
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
system_instructions
  Field required [type=missing, input_value={'user_interests': [], 'r...motion_intensity': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:25:55,166 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 1.966s
2025-07-11 11:26:30,156 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:26:30,479 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:26:30,479 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:26:31,296 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:26:31,475 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:26:31,479 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:26:31,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,479 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:26:31,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,479 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:26:31,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,480 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:26:31,480 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:26:31,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,483 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:26:31,483 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,485 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:26:31,485 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,487 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:26:31,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,488 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:26:31,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,490 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:26:31,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,492 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:26:31,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,493 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:26:31,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,495 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:26:31,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,496 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:26:31,496 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,497 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:26:31,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,499 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:26:31,499 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,500 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:26:31,500 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,501 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:26:31,501 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:26:31,502 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:26:31,503 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:26:31,516 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:26:31,516 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:26:31,518 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:26:31,519 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:26:31,519 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:26:31,519 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:26:31,519 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:27:55,473 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:27:55,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:27:55,518 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:27:55,518 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:27:55,521 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:27:55,521 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:27:55,522 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:27:56,383 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 5, 벡터 차원: 768
2025-07-11 11:27:56,405 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:27:56,407 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: fb0116dd-9f64-4356-8d75-a8e9452d8f80, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:27:56,408 - app.api.chat - INFO - 유사 대화 검색 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:27:56,416 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 11:27:56,418 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 2개
2025-07-11 11:27:56,424 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 11:27:56,426 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 2개
2025-07-11 11:27:56,426 - app.api.chat - INFO - 감정 분석 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:27:57,551 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 11:27:57,553 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:27:57,553 - sqlalchemy.engine.Engine - INFO - [cached since 2.035s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:27:57,561 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4515574032 param)s': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 11:27:57,562 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 'User' object has no attribute 'preferred_tone'
2025-07-11 11:27:57,562 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 'User' object has no attribute 'preferred_tone'
2025-07-11 11:27:57,562 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:27:57,564 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 'User' object has no attribute 'preferred_tone' - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:27:57,564 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 2.092s
2025-07-11 11:28:07,262 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:28:07,587 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:28:07,587 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:28:08,435 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:28:08,613 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:28:08,616 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:28:08,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,616 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:28:08,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,617 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:28:08,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:28:08,617 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:28:08,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,621 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:28:08,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,622 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:28:08,622 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,624 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:28:08,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,625 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:28:08,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,627 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:28:08,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,629 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:28:08,629 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,630 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:28:08,630 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,631 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:28:08,631 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,631 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:28:08,631 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,632 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:28:08,632 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,634 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:28:08,634 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,635 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:28:08,635 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,636 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:28:08,636 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:08,637 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:28:08,638 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:28:08,651 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:28:08,651 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:28:08,654 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:28:08,654 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:28:08,654 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:28:08,654 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:28:08,654 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:28:15,747 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:28:15,767 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:28:15,786 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:28:15,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:28:15,789 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:28:15,789 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:28:15,790 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:28:16,390 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 5, 벡터 차원: 768
2025-07-11 11:28:16,408 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:28:16,409 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 81e1ba95-8d2b-4c19-bde7-471f20158999, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:28:16,410 - app.api.chat - INFO - 유사 대화 검색 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:28:16,420 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 11:28:16,422 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 3개
2025-07-11 11:28:16,429 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 11:28:16,431 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 3개
2025-07-11 11:28:16,431 - app.api.chat - INFO - 감정 분석 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:28:17,871 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 11:28:17,873 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:28:17,873 - sqlalchemy.engine.Engine - INFO - [cached since 2.087s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:28:17,879 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4491571472 param)s': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 11:28:17,879 - app.api.chat - INFO - Gemini 응답 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:28:19,202 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 추정 토큰: 136
2025-07-11 11:28:19,202 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 'ChatResponse' object has no attribute 'message'
2025-07-11 11:28:19,202 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 'ChatResponse' object has no attribute 'message'
2025-07-11 11:28:19,203 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:28:19,206 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 'ChatResponse' object has no attribute 'message' - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:28:19,207 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 3.460s
2025-07-11 11:28:48,501 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:28:48,818 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:28:48,818 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:28:49,644 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:28:49,824 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:28:49,826 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:28:49,826 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,826 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:28:49,826 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,827 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:28:49,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:28:49,827 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:28:49,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,830 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:28:49,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,831 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:28:49,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,833 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:28:49,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:28:49,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:28:49,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,837 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:28:49,837 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,839 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:28:49,839 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,840 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:28:49,840 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,841 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:28:49,841 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,842 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:28:49,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,843 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:28:49,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,847 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:28:49,847 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,848 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:28:49,848 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:28:49,851 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:28:49,851 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:28:49,864 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:28:49,865 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:28:49,867 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:28:49,867 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:28:49,867 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:28:49,867 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:28:49,867 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:29:56,218 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:29:56,250 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:29:56,268 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:29:56,268 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:29:56,272 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:29:56,272 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:29:56,279 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:29:56,906 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 5, 벡터 차원: 768
2025-07-11 11:29:56,933 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:29:56,936 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 1c4a1af5-8c9e-462f-bc5c-81c9c1ee31be, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:29:56,936 - app.api.chat - INFO - 유사 대화 검색 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:29:56,947 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 11:29:56,950 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 4개
2025-07-11 11:29:56,960 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 11:29:56,963 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 4개
2025-07-11 11:29:56,964 - app.api.chat - INFO - 감정 분석 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:29:58,209 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 11:29:58,210 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:29:58,210 - sqlalchemy.engine.Engine - INFO - [cached since 1.942s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:29:58,218 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4459098384 param)s': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 11:29:58,219 - app.api.chat - INFO - Gemini 응답 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:29:59,250 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 추정 토큰: 132
2025-07-11 11:29:59,583 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 137, 벡터 차원: 768
2025-07-11 11:29:59,599 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:29:59,600 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: fed11541-7f11-42b0-be00-a42dbc233bc8, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:29:59,601 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 'dict' object has no attribute 'dict'
2025-07-11 11:29:59,601 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 'dict' object has no attribute 'dict'
2025-07-11 11:29:59,601 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:29:59,603 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 'dict' object has no attribute 'dict' - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:29:59,604 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 3.386s
2025-07-11 11:30:11,327 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:30:11,615 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:30:11,615 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:30:12,393 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:30:12,561 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:30:12,564 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:30:12,564 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,564 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:30:12,564 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,564 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:30:12,564 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:30:12,565 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:30:12,565 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,567 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:30:12,567 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,569 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:30:12,569 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,570 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:30:12,570 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,571 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:30:12,571 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,573 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:30:12,573 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,574 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:30:12,574 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,575 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:30:12,575 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,576 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:30:12,576 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,577 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:30:12,577 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,578 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:30:12,578 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,580 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:30:12,580 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,581 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:30:12,581 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,582 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:30:12,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:12,584 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:30:12,585 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:30:12,598 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:30:12,599 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:30:12,602 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:30:12,602 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:30:12,602 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:30:12,602 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:30:12,602 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:30:23,273 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:30:23,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:30:23,318 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:30:23,318 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:30:23,321 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:30:23,321 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:30:23,334 - app.api.chat - INFO - 사용자 메시지 임베딩 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:30:23,929 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 5, 벡터 차원: 768
2025-07-11 11:30:23,942 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:30:23,944 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 5d3e52e0-d163-494d-8982-631d4a38c276, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:30:23,944 - app.api.chat - INFO - 유사 대화 검색 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:30:23,952 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 11:30:23,954 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 5개
2025-07-11 11:30:23,961 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 11:30:23,963 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 6개
2025-07-11 11:30:23,963 - app.api.chat - INFO - 감정 분석 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:30:25,448 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 11:30:25,450 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:30:25,450 - sqlalchemy.engine.Engine - INFO - [cached since 2.132s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:30:25,458 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4512182352 param)s': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 11:30:25,459 - app.api.chat - INFO - Gemini 응답 생성 시작 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:30:26,573 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 추정 토큰: 127
2025-07-11 11:30:26,989 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 105, 벡터 차원: 768
2025-07-11 11:30:27,006 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:30:27,007 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 2781cdf8-fee1-4bf0-a5b8-8a2f36e2f59f, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:30:27,007 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 'dict' object has no attribute 'dict'
2025-07-11 11:30:27,007 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 'dict' object has no attribute 'dict'
2025-07-11 11:30:27,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:30:27,010 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 'dict' object has no attribute 'dict' - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:30:27,010 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 3.738s
2025-07-11 11:30:55,507 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:30:55,838 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:30:55,839 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:30:56,649 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:30:56,831 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:30:56,835 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:30:56,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,835 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:30:56,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,835 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:30:56,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,836 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:30:56,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:30:56,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,842 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:30:56,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,843 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:30:56,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,844 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:30:56,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,845 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:30:56,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,846 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:30:56,846 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,848 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:30:56,848 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,849 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:30:56,849 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,851 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:30:56,851 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,852 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:30:56,852 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,854 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:30:56,854 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,855 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:30:56,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,857 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:30:56,857 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,858 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:30:56,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:30:56,859 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:30:56,859 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:30:56,872 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:30:56,872 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:30:56,876 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:30:56,876 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:30:56,876 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:30:56,876 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:30:56,876 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:31:04,744 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:31:04,761 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:31:04,783 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:31:04,783 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:31:04,786 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:31:04,786 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:31:04,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:31:04,788 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 0.044s
2025-07-11 11:31:44,487 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:31:44,830 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:31:44,830 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:31:45,644 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:31:45,819 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:31:45,823 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:31:45,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,823 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:31:45,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,823 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:31:45,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:31:45,824 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:31:45,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,827 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:31:45,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,828 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:31:45,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,829 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:31:45,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,830 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:31:45,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,831 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:31:45,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,832 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:31:45,832 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,833 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:31:45,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,834 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:31:45,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,835 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:31:45,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,836 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:31:45,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,838 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:31:45,838 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,838 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:31:45,838 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,839 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:31:45,840 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:31:45,841 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:31:45,842 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:31:45,856 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:31:45,856 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:31:45,859 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:31:45,859 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:31:45,859 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:31:45,859 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:31:45,859 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:31:52,753 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:31:52,770 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:31:52,788 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:31:52,789 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:31:52,792 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:31:52,793 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:31:53,415 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 텍스트 길이: 16, 벡터 차원: 768
2025-07-11 11:31:53,441 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:31:53,443 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: a053fb65-0a45-44d1-a40e-7c1c497fcb09, 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486
2025-07-11 11:31:53,457 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 11:31:53,459 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 5개
2025-07-11 11:31:53,467 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 11:31:53,470 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 결과: 8개
2025-07-11 11:31:54,420 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.12
2025-07-11 11:31:54,422 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:31:54,423 - sqlalchemy.engine.Engine - INFO - [cached since 1.635s ago] ('da78328e-ddee-407f-8a8d-7cd0c8325486',)
2025-07-11 11:31:54,431 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4479840336 param)s': 'da78328e-ddee-407f-8a8d-7cd0c8325486'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 11:31:55,456 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: da78328e-ddee-407f-8a8d-7cd0c8325486, 추정 토큰: 143
2025-07-11 11:31:55,457 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:31:55,459 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.706s
2025-07-11 11:33:17,564 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:33:17,566 - app.main - INFO - ✅ OPTIONS /api/v1/chat/ - 200 - 0.002s
2025-07-11 11:33:17,568 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:33:17,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:33:17,572 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:33:17,572 - sqlalchemy.engine.Engine - INFO - [cached since 84.78s ago] ('user123',)
2025-07-11 11:33:17,573 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: 404: 사용자를 찾을 수 없습니다
2025-07-11 11:33:17,574 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: 404: 사용자를 찾을 수 없습니다
2025-07-11 11:33:17,574 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:33:17,579 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: 404: 사용자를 찾을 수 없습니다 - URL: http://localhost:8000/api/v1/chat/
2025-07-11 11:33:17,582 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 0.014s
2025-07-11 11:34:06,234 - app.main - INFO - 🔄 GET /api/v1/users/ - 클라이언트: 127.0.0.1
2025-07-11 11:34:06,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:34:06,249 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2025-07-11 11:34:06,249 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ()
2025-07-11 11:34:06,253 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users ORDER BY users.created_at DESC 
 LIMIT %s, %s
2025-07-11 11:34:06,253 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (0, 100)
2025-07-11 11:34:06,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:34:06,256 - app.main - INFO - ✅ GET /api/v1/users/ - 200 - 0.023s
2025-07-11 11:35:09,170 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:35:09,487 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:35:09,487 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:35:10,333 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:35:53,635 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:35:53,635 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:35:54,512 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:35:54,696 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:35:54,702 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:35:54,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,703 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:35:54,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,703 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:35:54,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,704 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:35:54,704 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:35:54,704 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,706 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:35:54,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,708 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:35:54,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,710 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:35:54,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,711 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:35:54,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,712 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:35:54,712 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,715 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:35:54,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,717 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:35:54,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,719 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:35:54,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,720 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:35:54,720 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,722 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:35:54,722 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,723 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:35:54,723 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,724 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:35:54,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,725 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:35:54,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:35:54,726 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:35:54,727 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:35:54,738 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:35:54,738 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:35:54,740 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:35:54,740 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:35:54,740 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:35:54,740 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:35:54,740 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:39:05,733 - app.main - INFO - 🔄 POST /api/v1/users/register - 클라이언트: 127.0.0.1
2025-07-11 11:39:05,753 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:39:05,770 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.name = %s
2025-07-11 11:39:05,770 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('김영희',)
2025-07-11 11:39:05,773 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (id, name, age, gender, speech_style, phone, profile_image, is_active, last_login, created_at, updated_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now(), now())
2025-07-11 11:39:05,773 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('7994c52b-b5be-4a48-90ec-2b7c75b3bac9', '김영희', 72, 'F', None, '010-1234-5678', None, 1, None)
2025-07-11 11:39:05,778 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:39:05,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:39:05,782 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:39:05,782 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('7994c52b-b5be-4a48-90ec-2b7c75b3bac9',)
2025-07-11 11:39:05,783 - app.api.user - INFO - 새 사용자 등록 완료: 김영희 (ID: 7994c52b-b5be-4a48-90ec-2b7c75b3bac9)
2025-07-11 11:39:05,783 - app.api.user - ERROR - 사용자 등록 중 오류 발생: 1 validation error for UserResponse
updated_at
  Field required [type=missing, input_value={'id': '7994c52b-b5be-4a4..., 'age_group': '고령'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-11 11:39:05,784 - app.database - ERROR - 데이터베이스 세션 오류: 500: 사용자 등록 중 오류가 발생했습니다: 1 validation error for UserResponse
updated_at
  Field required [type=missing, input_value={'id': '7994c52b-b5be-4a4..., 'age_group': '고령'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-11 11:39:05,784 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:39:05,784 - app.main - ERROR - HTTP 예외: 500 - 사용자 등록 중 오류가 발생했습니다: 1 validation error for UserResponse
updated_at
  Field required [type=missing, input_value={'id': '7994c52b-b5be-4a4..., 'age_group': '고령'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/users/register
2025-07-11 11:39:05,785 - app.main - INFO - ✅ POST /api/v1/users/register - 500 - 0.052s
2025-07-11 11:39:18,466 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 11:39:18,773 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 11:39:18,773 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 11:39:19,616 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:39:19,802 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 11:39:19,806 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 11:39:19,806 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,806 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 11:39:19,806 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,807 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 11:39:19,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:39:19,807 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 11:39:19,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,810 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 11:39:19,810 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,811 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 11:39:19,811 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,812 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 11:39:19,812 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,813 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 11:39:19,813 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,814 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 11:39:19,814 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,815 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 11:39:19,815 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,816 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 11:39:19,816 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,817 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 11:39:19,817 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,819 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 11:39:19,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,820 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 11:39:19,820 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,821 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 11:39:19,821 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,822 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 11:39:19,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,823 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 11:39:19,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 11:39:19,824 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:39:19,824 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 11:39:19,837 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 11:39:19,838 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 11:39:19,841 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 11:39:19,842 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 11:39:19,842 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 11:39:19,842 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 11:39:19,842 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 11:40:02,754 - app.main - INFO - 🔄 POST /api/v1/users/register - 클라이언트: 127.0.0.1
2025-07-11 11:40:02,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:40:02,794 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.name = %s
2025-07-11 11:40:02,794 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('김영희',)
2025-07-11 11:40:02,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users
2025-07-11 11:40:02,797 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2025-07-11 11:40:02,800 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (id, name, age, gender, speech_style, phone, profile_image, is_active, last_login, created_at, updated_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now(), now())
2025-07-11 11:40:02,800 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('c3c15e30-83b6-400e-91d6-2f989a1aa83d', '김영희_5', 72, 'F', None, '010-1234-5678', None, 1, None)
2025-07-11 11:40:02,801 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:40:02,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:40:02,810 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:40:02,810 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('c3c15e30-83b6-400e-91d6-2f989a1aa83d',)
2025-07-11 11:40:02,811 - app.api.user - INFO - 새 사용자 등록 완료: 김영희_5 (ID: c3c15e30-83b6-400e-91d6-2f989a1aa83d)
2025-07-11 11:40:02,811 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:40:02,812 - app.main - INFO - ✅ POST /api/v1/users/register - 200 - 0.058s
2025-07-11 11:42:04,918 - app.main - INFO - 🔄 OPTIONS /api/v1/users/register - 클라이언트: 127.0.0.1
2025-07-11 11:42:04,921 - app.main - INFO - ✅ OPTIONS /api/v1/users/register - 200 - 0.004s
2025-07-11 11:42:04,924 - app.main - INFO - 🔄 POST /api/v1/users/register - 클라이언트: 127.0.0.1
2025-07-11 11:42:04,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:42:04,948 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.name = %s
2025-07-11 11:42:04,949 - sqlalchemy.engine.Engine - INFO - [cached since 122.2s ago] ('강영모',)
2025-07-11 11:42:04,961 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (id, name, age, gender, speech_style, phone, profile_image, is_active, last_login, created_at, updated_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now(), now())
2025-07-11 11:42:04,962 - sqlalchemy.engine.Engine - INFO - [cached since 122.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '강영모', 26, 'M', None, None, None, 1, None)
2025-07-11 11:42:05,007 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:42:05,013 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:42:05,014 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:42:05,014 - sqlalchemy.engine.Engine - INFO - [cached since 122.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:42:05,015 - app.api.user - INFO - 새 사용자 등록 완료: 강영모 (ID: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e)
2025-07-11 11:42:05,015 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:42:05,016 - app.main - INFO - ✅ POST /api/v1/users/register - 200 - 0.092s
2025-07-11 11:42:10,623 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 11:42:10,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:42:10,632 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:42:10,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:42:10,636 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 11:42:10,636 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:42:10,639 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_sessions (id, user_id, session_id, start_time, end_time, message_count, avg_emotion_score, session_summary) VALUES (%s, %s, %s, now(), %s, %s, %s, %s)
2025-07-11 11:42:10,640 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('98ea17ca-3ab3-472d-9069-053d536a76b6', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None, 0, None, None)
2025-07-11 11:42:10,642 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 11:42:10,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:42:10,646 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-11 11:42:10,646 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('98ea17ca-3ab3-472d-9069-053d536a76b6',)
2025-07-11 11:42:11,493 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-11 11:42:11,540 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 11:42:11,542 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: a50a7bf0-db9b-47c5-8bbd-238b18acf245, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 11:42:11,553 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 11:42:11,554 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 1개
2025-07-11 11:42:11,563 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 11:42:11,564 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 1개
2025-07-11 11:42:12,493 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 11:42:12,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:42:12,495 - sqlalchemy.engine.Engine - INFO - [cached since 1.864s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:42:12,507 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4538806160 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 11:42:13,541 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 127
2025-07-11 11:42:13,542 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:42:13,544 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.921s
2025-07-11 11:53:38,244 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 11:53:38,256 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:53:38,257 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:53:38,257 - sqlalchemy.engine.Engine - INFO - [cached since 687.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:53:38,264 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 11:53:38,264 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 11:53:38,267 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:53:38,268 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.025s
2025-07-11 11:53:38,274 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 11:53:38,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:53:38,277 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:53:38,277 - sqlalchemy.engine.Engine - INFO - [cached since 687.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:53:38,281 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 11:53:38,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 11:53:38,283 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:53:38,284 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 11:55:58,234 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 11:55:58,237 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 11:55:58,239 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 11:55:58,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:55:58,241 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:55:58,241 - sqlalchemy.engine.Engine - INFO - [cached since 827.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:55:58,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:55:58,246 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 11:55:58,248 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:55:58,248 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:55:58,248 - sqlalchemy.engine.Engine - INFO - [cached since 827.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:55:58,248 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 11:55:58,249 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 11:55:58,249 - sqlalchemy.engine.Engine - INFO - [cached since 827.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 11:55:58,250 - app.api.emotion - ERROR - 일별 감정 요약 조회 중 오류 발생: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime'
2025-07-11 11:55:58,250 - app.database - ERROR - 데이터베이스 세션 오류: 500: 일별 감정 요약 조회 중 오류가 발생했습니다: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime'
2025-07-11 11:55:58,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:55:58,252 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 11:55:58,252 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 2, 55, 58, 250962))
2025-07-11 11:55:58,255 - app.main - ERROR - HTTP 예외: 500 - 일별 감정 요약 조회 중 오류가 발생했습니다: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime' - URL: http://localhost:8000/api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily?start_date=2025-07-04&end_date=2025-07-11
2025-07-11 11:55:58,257 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 500 - 0.021s
2025-07-11 11:55:58,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 11:55:58,269 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.030s
2025-07-11 12:00:52,247 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,253 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,253 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,255 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 12:00:52,256 - sqlalchemy.engine.Engine - INFO - [cached since 434s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 12:00:52,257 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,258 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-11 12:00:52,274 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,275 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,275 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,278 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,278 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,278 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,280 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,281 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,282 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,282 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,283 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,284 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,286 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 12:00:52,286 - sqlalchemy.engine.Engine - INFO - [cached since 294s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 3, 0, 52, 285380))
2025-07-11 12:00:52,287 - app.api.emotion - ERROR - 일별 감정 요약 조회 중 오류 발생: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime'
2025-07-11 12:00:52,287 - app.database - ERROR - 데이터베이스 세션 오류: 500: 일별 감정 요약 조회 중 오류가 발생했습니다: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime'
2025-07-11 12:00:52,287 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,288 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,289 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-11 12:00:52,290 - app.main - ERROR - HTTP 예외: 500 - 일별 감정 요약 조회 중 오류가 발생했습니다: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime' - URL: http://localhost:8000/api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily?start_date=2025-07-04&end_date=2025-07-11
2025-07-11 12:00:52,291 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 500 - 0.015s
2025-07-11 12:00:52,291 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,291 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,291 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,292 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,292 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 12:00:52,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,294 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,294 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,295 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 12:00:52,295 - sqlalchemy.engine.Engine - INFO - [cached since 434s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 12:00:52,296 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,296 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,296 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,296 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,297 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 12:00:52,297 - sqlalchemy.engine.Engine - INFO - [cached since 434s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 12:00:52,298 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,299 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,300 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,300 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,300 - app.api.emotion - ERROR - 일별 감정 요약 조회 중 오류 발생: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime'
2025-07-11 12:00:52,301 - app.database - ERROR - 데이터베이스 세션 오류: 500: 일별 감정 요약 조회 중 오류가 발생했습니다: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime'
2025-07-11 12:00:52,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,302 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 12:00:52,302 - sqlalchemy.engine.Engine - INFO - [cached since 294.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 3, 0, 52, 301929))
2025-07-11 12:00:52,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.025s
2025-07-11 12:00:52,304 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-11 12:00:52,304 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.024s
2025-07-11 12:00:52,304 - app.main - ERROR - HTTP 예외: 500 - 일별 감정 요약 조회 중 오류가 발생했습니다: int() argument must be a string, a bytes-like object or a real number, not 'datetime.datetime' - URL: http://localhost:8000/api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily?start_date=2025-07-04&end_date=2025-07-11
2025-07-11 12:00:52,304 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 500 - 0.011s
2025-07-11 12:00:52,305 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 12:00:52,306 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 12:00:52,306 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 12:00:52,306 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 12:00:52,306 - sqlalchemy.engine.Engine - INFO - [cached since 1122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 12:00:52,307 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 12:00:52,307 - sqlalchemy.engine.Engine - INFO - [cached since 434s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 12:00:52,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 12:00:52,308 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:05:37,753 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 13:05:38,172 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 13:05:38,172 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 13:05:39,010 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 13:05:39,201 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 13:05:39,205 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 13:05:39,205 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,206 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 13:05:39,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,206 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 13:05:39,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:05:39,207 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 13:05:39,207 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,210 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 13:05:39,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,211 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 13:05:39,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,212 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 13:05:39,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,214 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 13:05:39,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,214 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 13:05:39,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,216 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 13:05:39,216 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,216 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 13:05:39,216 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,217 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 13:05:39,217 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,217 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 13:05:39,218 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,218 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 13:05:39,218 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,219 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 13:05:39,219 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,219 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 13:05:39,219 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,220 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 13:05:39,220 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 13:05:39,221 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 13:05:39,222 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 13:05:39,235 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 13:05:39,236 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 13:05:39,238 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 13:05:39,239 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 13:05:39,239 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 13:05:39,239 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 13:05:39,239 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 13:10:25,754 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,774 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,774 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,774 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,792 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,793 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,796 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:25,796 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:25,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,797 - sqlalchemy.engine.Engine - INFO - [cached since 0.004333s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,797 - sqlalchemy.engine.Engine - INFO - [cached since 0.004817s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,798 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,798 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,798 - sqlalchemy.engine.Engine - INFO - [cached since 0.005431s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,798 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,798 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:25,798 - sqlalchemy.engine.Engine - INFO - [cached since 0.002161s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:25,799 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:25,799 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 25, 799030))
2025-07-11 13:10:25,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,800 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.026s
2025-07-11 13:10:25,800 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.046s
2025-07-11 13:10:25,801 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.027s
2025-07-11 13:10:25,802 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,803 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,804 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,805 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,805 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,805 - sqlalchemy.engine.Engine - INFO - [cached since 0.01305s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,805 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - [cached since 0.01355s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - [cached since 0.01371s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,806 - sqlalchemy.engine.Engine - INFO - [cached since 0.0142s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,807 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:25,807 - sqlalchemy.engine.Engine - INFO - [cached since 0.01064s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:25,807 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:25,807 - sqlalchemy.engine.Engine - INFO - [cached since 0.01095s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:25,807 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.033s
2025-07-11 13:10:25,808 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:25,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:25,808 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,808 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,809 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,810 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,811 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,811 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,811 - sqlalchemy.engine.Engine - INFO - [cached since 0.01835s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,811 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 13:10:25,812 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:25,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.0129s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 25, 812075))
2025-07-11 13:10:25,812 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 13:10:25,812 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-11 13:10:25,813 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,813 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 13:10:25,814 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-11 13:10:25,817 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:25,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:25,818 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:25,818 - sqlalchemy.engine.Engine - INFO - [cached since 0.02616s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:25,820 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:25,821 - sqlalchemy.engine.Engine - INFO - [cached since 0.01297s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:25,822 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:25,822 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 13:10:31,286 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,288 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,288 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,288 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,292 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,292 - sqlalchemy.engine.Engine - INFO - [cached since 5.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,293 - sqlalchemy.engine.Engine - INFO - [cached since 5.501s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,293 - sqlalchemy.engine.Engine - INFO - [cached since 5.501s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,294 - sqlalchemy.engine.Engine - INFO - [cached since 5.502s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,296 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:31,296 - sqlalchemy.engine.Engine - INFO - [cached since 5.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:31,297 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:31,297 - sqlalchemy.engine.Engine - INFO - [cached since 5.498s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 31, 297340))
2025-07-11 13:10:31,298 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:31,298 - sqlalchemy.engine.Engine - INFO - [cached since 5.502s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:31,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,302 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 13:10:31,302 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-11 13:10:31,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 13:10:31,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 13:10:31,303 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,305 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,305 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,306 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,307 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,309 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,309 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,309 - sqlalchemy.engine.Engine - INFO - [cached since 5.517s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - [cached since 5.518s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - [cached since 5.518s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,310 - sqlalchemy.engine.Engine - INFO - [cached since 5.518s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,311 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:31,311 - sqlalchemy.engine.Engine - INFO - [cached since 5.513s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 31, 311702))
2025-07-11 13:10:31,312 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:31,312 - sqlalchemy.engine.Engine - INFO - [cached since 5.516s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:31,312 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:31,313 - sqlalchemy.engine.Engine - INFO - [cached since 5.505s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:31,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,314 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-11 13:10:31,315 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 13:10:31,315 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 13:10:31,316 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 13:10:31,316 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,316 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,316 - sqlalchemy.engine.Engine - INFO - [cached since 5.524s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,319 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:31,319 - sqlalchemy.engine.Engine - INFO - [cached since 5.523s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:31,321 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:31,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,322 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:31,322 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:31,322 - sqlalchemy.engine.Engine - INFO - [cached since 5.53s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:31,323 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:31,323 - sqlalchemy.engine.Engine - INFO - [cached since 5.515s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:31,323 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 13:10:31,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:31,324 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:10:34,622 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,622 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,622 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,626 - sqlalchemy.engine.Engine - INFO - [cached since 8.834s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,627 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,627 - sqlalchemy.engine.Engine - INFO - [cached since 8.835s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,628 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,628 - sqlalchemy.engine.Engine - INFO - [cached since 8.835s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,628 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,628 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,628 - sqlalchemy.engine.Engine - INFO - [cached since 8.836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,630 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:34,630 - sqlalchemy.engine.Engine - INFO - [cached since 8.834s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:34,631 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:34,631 - sqlalchemy.engine.Engine - INFO - [cached since 8.835s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:34,632 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,633 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:34,633 - sqlalchemy.engine.Engine - INFO - [cached since 8.834s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 34, 633112))
2025-07-11 13:10:34,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,636 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 13:10:34,637 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-11 13:10:34,637 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 13:10:34,638 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 13:10:34,638 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,640 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,640 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,641 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,645 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,645 - sqlalchemy.engine.Engine - INFO - [cached since 8.852s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,645 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - [cached since 8.854s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - [cached since 8.855s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,647 - sqlalchemy.engine.Engine - INFO - [cached since 8.855s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,648 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,648 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,648 - sqlalchemy.engine.Engine - INFO - [cached since 8.855s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,648 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:34,648 - sqlalchemy.engine.Engine - INFO - [cached since 8.84s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:34,648 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:34,649 - sqlalchemy.engine.Engine - INFO - [cached since 8.852s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:34,649 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:34,649 - sqlalchemy.engine.Engine - INFO - [cached since 8.85s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 34, 649184))
2025-07-11 13:10:34,649 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:34,650 - sqlalchemy.engine.Engine - INFO - [cached since 8.853s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:34,650 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,650 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,650 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,651 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,651 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 13:10:34,652 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-11 13:10:34,653 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 13:10:34,653 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.012s
2025-07-11 13:10:34,653 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 13:10:34,656 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:34,657 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:34,657 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:34,657 - sqlalchemy.engine.Engine - INFO - [cached since 8.865s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:34,658 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:34,658 - sqlalchemy.engine.Engine - INFO - [cached since 8.85s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:34,659 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:34,660 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:10:48,788 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,790 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,790 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,797 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,799 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,800 - sqlalchemy.engine.Engine - INFO - [cached since 23.01s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,800 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,800 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,801 - sqlalchemy.engine.Engine - INFO - [cached since 23.01s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,802 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,802 - sqlalchemy.engine.Engine - INFO - [cached since 23.01s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,803 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,803 - sqlalchemy.engine.Engine - INFO - [cached since 23.01s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,804 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,805 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:48,806 - sqlalchemy.engine.Engine - INFO - [cached since 23.01s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:48,807 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:48,808 - sqlalchemy.engine.Engine - INFO - [cached since 23.01s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:48,809 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:48,809 - sqlalchemy.engine.Engine - INFO - [cached since 23.01s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 48, 809087))
2025-07-11 13:10:48,811 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,811 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,812 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,813 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.023s
2025-07-11 13:10:48,813 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.025s
2025-07-11 13:10:48,814 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.023s
2025-07-11 13:10:48,814 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 13:10:48,814 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,816 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,816 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,816 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,817 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,817 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,818 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,818 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,819 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,819 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,819 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,819 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,820 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,820 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,820 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,820 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,821 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,821 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,821 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,821 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,823 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:10:48,824 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 10, 48, 823772))
2025-07-11 13:10:48,825 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:48,825 - sqlalchemy.engine.Engine - INFO - [cached since 23.02s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:48,826 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:48,826 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:48,827 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:48,827 - sqlalchemy.engine.Engine - INFO - [cached since 23.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:48,828 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,828 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,829 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,829 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-11 13:10:48,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,831 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-11 13:10:48,831 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-11 13:10:48,831 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-11 13:10:48,831 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 13:10:48,836 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:10:48,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:10:48,838 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:10:48,838 - sqlalchemy.engine.Engine - INFO - [cached since 23.05s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:10:48,839 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:10:48,850 - sqlalchemy.engine.Engine - INFO - [cached since 23.04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:10:48,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:10:48,852 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-11 13:11:34,113 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,117 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,117 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,117 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,120 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,121 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,122 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,122 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,122 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,123 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,124 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,125 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,127 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:11:34,127 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:11:34,128 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:11:34,128 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:11:34,129 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,130 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:11:34,130 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 11, 34, 130157))
2025-07-11 13:11:34,131 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,132 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,132 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,133 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 13:11:34,134 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,134 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-11 13:11:34,134 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-11 13:11:34,135 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 13:11:34,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,136 - sqlalchemy.engine.Engine - INFO - [cached since 68.34s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,136 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,137 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,138 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,138 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,138 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - [cached since 68.35s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - [cached since 68.35s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - [cached since 68.35s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,140 - sqlalchemy.engine.Engine - INFO - [cached since 68.35s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,141 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:11:34,141 - sqlalchemy.engine.Engine - INFO - [cached since 68.34s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:11:34,141 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:11:34,142 - sqlalchemy.engine.Engine - INFO - [cached since 68.34s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 11, 34, 141738))
2025-07-11 13:11:34,142 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:11:34,142 - sqlalchemy.engine.Engine - INFO - [cached since 68.35s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:11:34,142 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:11:34,142 - sqlalchemy.engine.Engine - INFO - [cached since 68.33s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:11:34,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,144 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,144 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,144 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,144 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 13:11:34,145 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-11 13:11:34,146 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 13:11:34,146 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 13:11:34,146 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 13:11:34,147 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:11:34,148 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:11:34,148 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:11:34,148 - sqlalchemy.engine.Engine - INFO - [cached since 68.35s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:11:34,148 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:11:34,148 - sqlalchemy.engine.Engine - INFO - [cached since 68.34s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:11:34,149 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:11:34,149 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 13:14:39,965 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,979 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,980 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,982 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,982 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,982 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,982 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,983 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,983 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,983 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,983 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,983 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,985 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:39,985 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:39,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,985 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,985 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,985 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:39,986 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:39,986 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:39,986 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:39,987 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:14:39,987 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 14, 39, 987346))
2025-07-11 13:14:39,988 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:39,988 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:39,988 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 13:14:39,989 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.024s
2025-07-11 13:14:39,990 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 13:14:39,990 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 13:14:39,991 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,992 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,993 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,994 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,994 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,996 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,997 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,997 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:39,997 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:39,997 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:39,998 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:39,998 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:39,998 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:39,998 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:39,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:39,999 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:39,999 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:40,000 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:14:40,000 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 14, 39, 999835))
2025-07-11 13:14:40,000 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:40,000 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:40,000 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:40,001 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:40,001 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 13:14:40,001 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 13:14:40,002 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 13:14:40,003 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 13:14:40,004 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 13:14:40,006 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:14:40,007 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:40,007 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:40,007 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:40,008 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:40,008 - sqlalchemy.engine.Engine - INFO - [cached since 254.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:40,008 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:40,009 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:14:43,420 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,421 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,422 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,422 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,425 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,425 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,426 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,426 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,427 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,427 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,428 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,430 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:43,430 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:43,432 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,434 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:14:43,434 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 14, 43, 433272))
2025-07-11 13:14:43,436 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:43,436 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:43,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,438 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,441 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-11 13:14:43,443 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.024s
2025-07-11 13:14:43,445 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.023s
2025-07-11 13:14:43,445 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,446 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,448 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,448 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,448 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-11 13:14:43,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,449 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,449 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,450 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,450 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,451 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,451 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,451 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,451 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,452 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,452 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,452 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:43,452 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:43,453 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,453 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:14:43,453 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 14, 43, 453453))
2025-07-11 13:14:43,454 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:43,454 - sqlalchemy.engine.Engine - INFO - [cached since 257.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:43,454 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,454 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,454 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,455 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,456 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:43,456 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:43,456 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,456 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,457 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-11 13:14:43,458 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,458 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.012s
2025-07-11 13:14:43,459 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-11 13:14:43,460 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 13:14:43,460 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 13:14:43,463 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:14:43,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:14:43,465 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:14:43,465 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:14:43,478 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:14:43,478 - sqlalchemy.engine.Engine - INFO - [cached since 257.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:14:43,479 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:14:43,480 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-11 13:16:26,331 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 13:16:26,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:16:26,346 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:16:26,346 - sqlalchemy.engine.Engine - INFO - [cached since 360.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:16:26,352 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 13:16:26,352 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:16:27,000 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 14, 벡터 차원: 768
2025-07-11 13:16:27,035 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 13:16:27,037 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: db5fbc12-d494-4196-8774-42e7bb736043, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 13:16:27,048 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 13:16:27,049 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 2개
2025-07-11 13:16:27,058 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 13:16:27,059 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 2개
2025-07-11 13:16:27,931 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.18
2025-07-11 13:16:27,934 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:16:27,934 - sqlalchemy.engine.Engine - INFO - [cached since 362.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:16:27,946 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4525343568 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 13:16:29,101 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 139
2025-07-11 13:16:29,102 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:16:29,104 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.774s
2025-07-11 13:16:42,073 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 13:16:42,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:16:42,079 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:16:42,079 - sqlalchemy.engine.Engine - INFO - [cached since 376.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:16:42,084 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 13:16:42,084 - sqlalchemy.engine.Engine - INFO - [cached since 15.73s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:16:42,430 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 30, 벡터 차원: 768
2025-07-11 13:16:42,450 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 13:16:42,452 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 267c8c6e-9752-4f96-bc8d-b2e82913964b, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 13:16:42,464 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 13:16:42,475 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 3개
2025-07-11 13:16:42,493 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 13:16:42,494 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 3개
2025-07-11 13:16:43,336 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.FRUSTRATED, 강도: 0.13
2025-07-11 13:16:43,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:16:43,339 - sqlalchemy.engine.Engine - INFO - [cached since 377.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:16:43,343 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4525343568 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 13:16:45,170 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 206
2025-07-11 13:16:45,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:16:45,174 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.101s
2025-07-11 13:19:03,243 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,253 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,258 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,259 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,260 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,260 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,260 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,261 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,262 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,263 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,265 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:19:03,266 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:19:03,266 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,266 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,266 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,267 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,267 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:19:03,267 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:19:03,267 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,268 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:19:03,268 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 19, 3, 268121))
2025-07-11 13:19:03,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,269 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,270 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 13:19:03,271 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.029s
2025-07-11 13:19:03,272 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.014s
2025-07-11 13:19:03,273 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 13:19:03,274 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,274 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,275 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,275 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,276 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,278 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,278 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,279 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,279 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,281 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,283 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,283 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,285 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,287 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:19:03,287 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:19:03,288 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:19:03,288 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 19, 3, 288024))
2025-07-11 13:19:03,289 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:19:03,289 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:19:03,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,299 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,301 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:19:03,301 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:19:03,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,302 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.029s
2025-07-11 13:19:03,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.027s
2025-07-11 13:19:03,304 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.030s
2025-07-11 13:19:03,305 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.030s
2025-07-11 13:19:03,306 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.031s
2025-07-11 13:19:03,308 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:19:03,309 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:19:03,309 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:19:03,310 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:19:03,310 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:19:03,310 - sqlalchemy.engine.Engine - INFO - [cached since 517.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:19:03,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:19:03,311 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:24:25,554 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,586 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,588 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,589 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,590 - sqlalchemy.engine.Engine - INFO - [cached since 839.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,590 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,591 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,592 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,592 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,592 - sqlalchemy.engine.Engine - INFO - [cached since 839.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,603 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:25,603 - sqlalchemy.engine.Engine - INFO - [cached since 839.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:25,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,604 - sqlalchemy.engine.Engine - INFO - [cached since 839.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,614 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:25,615 - sqlalchemy.engine.Engine - INFO - [cached since 839.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:25,616 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,616 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,617 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,617 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,619 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.065s
2025-07-11 13:24:25,620 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,621 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,621 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,621 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,622 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:25,622 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:25,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,623 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,624 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.004s
2025-07-11 13:24:25,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,625 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,626 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:25,626 - sqlalchemy.engine.Engine - INFO - [cached since 839.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:25,627 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,630 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.040s
2025-07-11 13:24:25,631 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,631 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:24:25,631 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 24, 25, 631298))
2025-07-11 13:24:25,631 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,632 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 13:24:25,632 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,632 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,632 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,633 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,633 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.047s
2025-07-11 13:24:25,634 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,635 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,635 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,635 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,636 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:25,636 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:25,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,636 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,636 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,637 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.045s
2025-07-11 13:24:25,637 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:25,638 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:25,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,638 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:24:25,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,639 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:25,639 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:25,639 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:25,639 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 13:24:25,639 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.006s
2025-07-11 13:24:25,640 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:24:25,640 - sqlalchemy.engine.Engine - INFO - [cached since 839.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 24, 25, 640207))
2025-07-11 13:24:25,640 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 13:24:25,641 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:25,641 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.003s
2025-07-11 13:24:31,403 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,404 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,405 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,405 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,407 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,407 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,407 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,408 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,408 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,409 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,409 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,411 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:31,411 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:31,412 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:24:31,413 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 24, 31, 412355))
2025-07-11 13:24:31,414 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:31,414 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:31,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,416 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,417 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,417 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,418 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 13:24:31,418 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-11 13:24:31,419 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.014s
2025-07-11 13:24:31,419 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 13:24:31,421 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,422 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,423 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,424 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,424 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,425 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,425 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,425 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,426 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,427 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,427 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,428 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,428 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,430 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,431 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:31,432 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:31,432 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:24:31,433 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 24, 31, 432587))
2025-07-11 13:24:31,433 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:31,433 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:31,433 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:31,434 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:31,434 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,436 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-11 13:24:31,437 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-11 13:24:31,437 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 13:24:31,437 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-11 13:24:31,437 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.014s
2025-07-11 13:24:31,441 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:24:31,442 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:24:31,442 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:24:31,442 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:24:31,443 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:24:31,443 - sqlalchemy.engine.Engine - INFO - [cached since 845.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:24:31,444 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:24:31,444 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:34:54,511 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,523 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,525 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,526 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,527 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,527 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,529 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,530 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,530 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,531 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,533 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:34:54,533 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:34:54,533 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,534 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,534 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,534 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,534 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,534 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,535 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,535 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,535 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:34:54,535 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:34:54,536 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:34:54,536 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 34, 54, 536120))
2025-07-11 13:34:54,537 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,538 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,538 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.027s
2025-07-11 13:34:54,539 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-11 13:34:54,539 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.012s
2025-07-11 13:34:54,540 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-11 13:34:54,544 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,544 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,546 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,549 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,550 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,551 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,551 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,551 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,551 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,552 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,552 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,552 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,552 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,552 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,553 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,553 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,553 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,553 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,553 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,554 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,554 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:34:54,554 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:34:54,554 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:34:54,554 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 34, 54, 554674))
2025-07-11 13:34:54,555 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:34:54,555 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:34:54,555 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:34:54,555 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:34:54,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,557 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 13:34:54,557 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-11 13:34:54,557 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 13:34:54,558 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-11 13:34:54,558 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-11 13:34:54,560 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:34:54,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:34:54,561 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:34:54,561 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:34:54,562 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:34:54,562 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:34:54,563 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:34:54,563 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:35:07,090 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:35:07,094 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:35:07,095 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:35:07,096 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:35:07,096 - sqlalchemy.engine.Engine - INFO - [cached since 1481s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:35:07,097 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:35:07,097 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:35:07,097 - sqlalchemy.engine.Engine - INFO - [cached since 1481s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:35:07,099 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:35:07,099 - sqlalchemy.engine.Engine - INFO - [cached since 1481s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:35:07,101 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:35:07,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:35:07,104 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 13:35:07,104 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-11 13:35:07,106 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:35:07,107 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:35:07,108 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:35:07,109 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:35:07,109 - sqlalchemy.engine.Engine - INFO - [cached since 1481s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:35:07,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:35:07,111 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:35:07,111 - sqlalchemy.engine.Engine - INFO - [cached since 1481s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:35:07,113 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:35:07,114 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:35:07,114 - sqlalchemy.engine.Engine - INFO - [cached since 1481s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:35:07,116 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 13:35:07,117 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:35:07,118 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-11 13:39:41,903 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:39:41,912 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:39:41,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:41,915 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:41,916 - sqlalchemy.engine.Engine - INFO - [cached since 1756s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:41,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:41,916 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:41,916 - sqlalchemy.engine.Engine - INFO - [cached since 1756s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:41,919 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:39:41,919 - sqlalchemy.engine.Engine - INFO - [cached since 1756s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:39:41,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:41,922 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 13:39:41,924 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:39:41,926 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:41,927 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:41,927 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:41,927 - sqlalchemy.engine.Engine - INFO - [cached since 1756s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:41,927 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.024s
2025-07-11 13:39:41,928 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:41,929 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:39:41,929 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:41,929 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:41,929 - sqlalchemy.engine.Engine - INFO - [cached since 1756s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:41,930 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.005s
2025-07-11 13:39:41,930 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:39:41,930 - sqlalchemy.engine.Engine - INFO - [cached since 1756s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:39:41,931 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:41,931 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:39:54,068 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:39:54,071 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:39:54,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:54,076 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:54,076 - sqlalchemy.engine.Engine - INFO - [cached since 1768s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:54,077 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:54,077 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:54,077 - sqlalchemy.engine.Engine - INFO - [cached since 1768s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:54,079 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:39:54,079 - sqlalchemy.engine.Engine - INFO - [cached since 1768s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:39:54,080 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:54,081 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:54,082 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-11 13:39:54,083 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-11 13:39:54,084 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:39:54,086 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:39:54,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:54,088 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:54,089 - sqlalchemy.engine.Engine - INFO - [cached since 1768s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:54,089 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:39:54,089 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:39:54,089 - sqlalchemy.engine.Engine - INFO - [cached since 1768s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:39:54,091 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:54,092 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:39:54,093 - sqlalchemy.engine.Engine - INFO - [cached since 1768s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:39:54,094 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:39:54,095 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-11 13:39:54,096 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 13:41:59,849 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,866 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,874 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,875 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,876 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,876 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,876 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,877 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,879 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:41:59,879 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:41:59,880 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,882 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:41:59,883 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:41:59,883 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:41:59,883 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 41, 59, 883624))
2025-07-11 13:41:59,885 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,885 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,886 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,887 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-11 13:41:59,891 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-11 13:41:59,891 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.043s
2025-07-11 13:41:59,892 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,892 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-11 13:41:59,893 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,894 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,894 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,895 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,895 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,895 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,895 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,895 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,896 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,896 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,896 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,897 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,900 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:41:59,900 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:41:59,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,900 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,900 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,902 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:41:59,902 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:41:59,902 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,903 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 13:41:59,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,905 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,906 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,907 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-11 13:41:59,908 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:41:59,908 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:41:59,909 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:41:59,909 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 41, 59, 908970))
2025-07-11 13:41:59,909 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,909 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,909 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,910 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-11 13:41:59,910 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 13:41:59,910 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:41:59,910 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 13:41:59,911 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:41:59,911 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:41:59,912 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:41:59,912 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:41:59,912 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:41:59,913 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:41:59,913 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:43:15,250 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,255 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,255 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,292 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,293 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,293 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,302 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,303 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,303 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,303 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,307 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,312 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:43:15,312 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:43:15,313 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:43:15,313 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 43, 15, 313193))
2025-07-11 13:43:15,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,314 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:43:15,314 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:43:15,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,315 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-11 13:43:15,315 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.065s
2025-07-11 13:43:15,315 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.022s
2025-07-11 13:43:15,316 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.023s
2025-07-11 13:43:15,317 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,318 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,319 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,319 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,319 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,324 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,325 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,325 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,331 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,331 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,331 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,332 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,332 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,332 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,332 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,332 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,332 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,333 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:43:15,333 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:43:15,333 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:43:15,333 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:43:15,334 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:43:15,334 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 43, 15, 334104))
2025-07-11 13:43:15,334 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:43:15,334 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:43:15,334 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,335 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,335 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,335 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,335 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,336 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 13:43:15,336 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-11 13:43:15,336 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-11 13:43:15,336 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 13:43:15,337 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-11 13:43:15,339 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:43:15,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:43:15,340 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:43:15,340 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:43:15,344 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:43:15,345 - sqlalchemy.engine.Engine - INFO - [cached since 1970s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:43:15,347 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:43:15,348 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 13:46:53,952 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,961 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,963 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,964 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,964 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,964 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,966 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,967 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,967 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,969 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:53,970 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:53,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,971 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,971 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,971 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,971 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,971 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,973 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:53,973 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:53,973 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:46:53,973 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 46, 53, 973445))
2025-07-11 13:46:53,974 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,974 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,974 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 13:46:53,974 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.023s
2025-07-11 13:46:53,975 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 13:46:53,976 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 13:46:53,977 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,978 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,978 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,980 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,980 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,982 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,988 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:53,988 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:53,989 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:53,989 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:53,989 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:53,990 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:53,990 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:53,991 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:53,991 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:53,991 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,992 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,992 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:46:53,992 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 46, 53, 992605))
2025-07-11 13:46:53,993 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,994 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:53,995 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 13:46:53,995 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.017s
2025-07-11 13:46:53,995 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 13:46:53,996 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-11 13:46:53,997 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 13:46:53,999 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:46:54,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:54,000 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:54,000 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:54,001 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:54,001 - sqlalchemy.engine.Engine - INFO - [cached since 2188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:54,002 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:54,002 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 13:46:55,415 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:46:55,417 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:46:55,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:55,419 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:55,419 - sqlalchemy.engine.Engine - INFO - [cached since 2190s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:55,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:55,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:55,420 - sqlalchemy.engine.Engine - INFO - [cached since 2190s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:55,422 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:55,422 - sqlalchemy.engine.Engine - INFO - [cached since 2190s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:55,423 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:55,424 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:55,425 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 13:46:55,426 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 13:46:55,426 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:46:55,428 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:46:55,429 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:55,429 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:55,430 - sqlalchemy.engine.Engine - INFO - [cached since 2190s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:55,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:46:55,430 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:46:55,430 - sqlalchemy.engine.Engine - INFO - [cached since 2190s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:46:55,431 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:55,433 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:46:55,433 - sqlalchemy.engine.Engine - INFO - [cached since 2190s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:46:55,433 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 13:46:55,438 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:46:55,440 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-11 13:47:13,951 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:47:13,955 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:13,955 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:13,955 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:13,957 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:13,958 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:13,959 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:13,960 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-11 13:47:13,968 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:47:13,970 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:47:13,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:13,972 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:13,972 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:13,972 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:47:13,974 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:47:13,976 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:47:13,978 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:13,978 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:13,979 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:13,979 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:13,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:13,980 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:13,980 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:13,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:13,980 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:13,980 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:13,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:13,992 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:13,992 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:13,993 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:47:13,993 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 47, 13, 993468))
2025-07-11 13:47:13,994 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:13,994 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:13,994 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:13,995 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:13,995 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:13,995 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:13,995 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:13,996 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:13,996 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:13,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:13,997 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.029s
2025-07-11 13:47:13,998 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.026s
2025-07-11 13:47:13,998 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.028s
2025-07-11 13:47:13,998 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:47:13,998 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.024s
2025-07-11 13:47:13,998 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.022s
2025-07-11 13:47:14,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:14,000 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:14,000 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:14,000 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:47:14,001 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:47:14,002 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:47:14,002 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:14,002 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:14,002 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:14,002 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:14,003 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:14,003 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:14,003 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:14,003 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:14,003 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:14,003 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:14,004 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:47:14,004 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 47, 14, 3842))
2025-07-11 13:47:14,004 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:14,004 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:14,004 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:14,004 - sqlalchemy.engine.Engine - INFO - [cached since 2208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:14,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:14,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:14,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:14,005 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 13:47:14,006 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.005s
2025-07-11 13:47:14,006 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-11 13:47:14,006 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 13:47:17,059 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,061 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,061 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,063 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:17,063 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:17,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,065 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-11 13:47:17,098 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,111 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,112 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,114 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,114 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,122 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,123 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,125 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,125 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:47:17,125 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 47, 17, 125571))
2025-07-11 13:47:17,127 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:17,127 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:17,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,128 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:17,128 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:17,128 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:17,128 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:17,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,129 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,129 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,129 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-11 13:47:17,129 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.031s
2025-07-11 13:47:17,130 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-11 13:47:17,131 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,132 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,133 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.022s
2025-07-11 13:47:17,134 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-11 13:47:17,134 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,134 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,134 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,135 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,135 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,135 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,137 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 13:47:17,137 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 4, 47, 17, 137037))
2025-07-11 13:47:17,137 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,137 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,137 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,137 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:17,137 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:17,138 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,138 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 13:47:17,138 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,139 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 13:47:17,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 13:47:17,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 13:47:17,140 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 13:47:17,140 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 13:47:17,140 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 13:47:17,140 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 13:47:17,140 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.005s
2025-07-11 13:47:17,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 13:47:17,141 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:03:53,343 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,370 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,372 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,373 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,374 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,376 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,377 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,379 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,379 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,379 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,380 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,380 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,380 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,382 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:03:53,382 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:03:53,382 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,383 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,383 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,383 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,384 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:03:53,384 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:03:53,384 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,384 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:03:53,384 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 3, 53, 384563))
2025-07-11 14:03:53,385 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,386 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,386 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 14:03:53,388 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.045s
2025-07-11 14:03:53,388 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-11 14:03:53,390 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.012s
2025-07-11 14:03:53,390 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,392 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,392 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,393 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,393 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,394 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,394 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,394 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,394 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,395 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,396 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,396 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:03:53,396 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:03:53,397 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:03:53,397 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:03:53,397 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:03:53,397 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 3, 53, 397609))
2025-07-11 14:03:53,398 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:03:53,398 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:03:53,398 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,400 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 14:03:53,400 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 14:03:53,400 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-11 14:03:53,400 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 14:03:53,401 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:03:53,402 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:03:53,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:03:53,402 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:03:53,402 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:03:53,403 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:03:53,403 - sqlalchemy.engine.Engine - INFO - [cached since 3208s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:03:53,404 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:03:53,404 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:06:04,826 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,840 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,842 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,844 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,844 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,844 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,847 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,847 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,848 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,851 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:04,851 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:04,853 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,854 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,854 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:04,855 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:04,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,857 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 14:06:04,857 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.031s
2025-07-11 14:06:04,858 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 14:06:04,859 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,859 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,861 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,861 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,861 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,861 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,862 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,862 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 4, 863200))
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,863 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,864 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:04,864 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:04,864 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,865 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:04,865 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:04,865 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:04,865 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:04,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,866 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 14:06:04,867 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.023s
2025-07-11 14:06:04,867 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-11 14:06:04,867 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:06:04,868 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 14:06:04,868 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,869 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,869 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,869 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,870 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:04,870 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 4, 870284))
2025-07-11 14:06:04,871 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,871 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.003s
2025-07-11 14:06:04,872 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:04,873 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:04,874 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:04,874 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:04,875 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:04,875 - sqlalchemy.engine.Engine - INFO - [cached since 3339s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:04,876 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:04,877 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 14:06:11,040 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,040 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,040 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,044 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,045 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,045 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,045 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,046 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,046 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,047 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,047 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,048 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:11,049 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:11,050 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,051 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:11,051 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:11,053 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:11,053 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 11, 52418))
2025-07-11 14:06:11,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,056 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 14:06:11,057 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 14:06:11,057 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-11 14:06:11,057 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 14:06:11,058 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,059 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,060 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,062 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,062 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,062 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,062 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,064 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,064 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,064 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,064 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,065 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:11,067 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:11,068 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:11,068 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 11, 68213))
2025-07-11 14:06:11,068 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:11,068 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:11,069 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:11,069 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:11,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,070 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-11 14:06:11,070 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-11 14:06:11,070 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 14:06:11,070 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:06:11,070 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-11 14:06:11,074 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:11,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:11,074 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:11,074 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:11,075 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:11,075 - sqlalchemy.engine.Engine - INFO - [cached since 3345s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:11,076 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:11,076 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 14:06:46,128 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,163 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,164 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,166 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,166 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,166 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,166 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,167 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,167 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,167 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,167 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,168 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,168 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,170 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:46,170 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:46,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,172 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:46,172 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:46,173 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:46,173 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 46, 172734))
2025-07-11 14:06:46,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,174 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-11 14:06:46,175 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 14:06:46,175 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.047s
2025-07-11 14:06:46,175 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:06:46,176 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,176 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,177 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,177 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,178 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,178 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,178 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,179 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,180 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:46,180 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:46,180 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:46,180 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:46,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,181 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:46,181 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 46, 180956))
2025-07-11 14:06:46,190 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,190 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,190 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,191 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,191 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 14:06:46,191 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-11 14:06:46,192 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 14:06:46,192 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-11 14:06:46,193 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-11 14:06:46,194 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:46,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:46,195 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:46,195 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:46,196 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:46,196 - sqlalchemy.engine.Engine - INFO - [cached since 3380s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:46,197 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:46,197 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:06:49,303 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,305 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,305 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,306 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,310 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,310 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,311 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,311 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,311 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,312 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,312 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,313 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:49,314 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:49,315 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:49,315 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:49,321 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:49,322 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 49, 320201))
2025-07-11 14:06:49,324 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,326 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,328 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,330 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.026s
2025-07-11 14:06:49,330 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.025s
2025-07-11 14:06:49,331 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.025s
2025-07-11 14:06:49,331 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-11 14:06:49,332 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,332 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,334 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,334 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,335 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,336 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,337 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,337 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,337 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,337 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,337 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,337 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,337 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,338 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,338 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,340 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:49,340 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:49,340 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,341 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:49,341 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:49,341 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:49,341 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:49,341 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:06:49,341 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 6, 49, 341700))
2025-07-11 14:06:49,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,343 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-11 14:06:49,343 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-11 14:06:49,343 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 14:06:49,344 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 14:06:49,344 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:06:49,345 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:06:49,346 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:06:49,346 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:06:49,346 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:06:49,347 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:06:49,347 - sqlalchemy.engine.Engine - INFO - [cached since 3384s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:06:49,348 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:06:49,348 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:11:09,795 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,812 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,820 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,822 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,825 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,825 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,828 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:09,828 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:09,829 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,829 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,829 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,830 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,830 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,830 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,830 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,830 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,831 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,831 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:09,831 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:09,832 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:09,832 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 9, 832376))
2025-07-11 14:11:09,833 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,833 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,833 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-11 14:11:09,834 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-11 14:11:09,835 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,835 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.040s
2025-07-11 14:11:09,836 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 14:11:09,836 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,836 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,837 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,838 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,838 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,838 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,839 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,839 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,840 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,841 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,843 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:09,843 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:09,843 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:09,843 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 9, 843672))
2025-07-11 14:11:09,844 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:09,845 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:09,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,846 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,846 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 14:11:09,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,847 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,847 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,848 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-11 14:11:09,848 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-11 14:11:09,849 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:09,849 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:09,849 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-11 14:11:09,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,852 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-11 14:11:09,858 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:09,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:09,859 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:09,859 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:09,860 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:09,860 - sqlalchemy.engine.Engine - INFO - [cached since 3644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:09,860 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:09,861 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:11:13,437 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,439 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,439 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,440 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,444 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,444 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,445 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,445 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,445 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,445 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,445 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,445 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,445 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,446 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,446 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:13,447 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:13,448 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:13,449 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 13, 448072))
2025-07-11 14:11:13,450 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:13,450 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:13,451 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,452 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,453 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,453 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,454 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 14:11:13,455 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-11 14:11:13,455 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-11 14:11:13,455 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 14:11:13,456 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,457 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,458 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,458 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,458 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,460 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,460 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,461 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,462 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,463 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,463 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,463 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:13,463 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:13,464 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:13,464 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:13,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,465 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:13,465 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:13,465 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:13,465 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 13, 465502))
2025-07-11 14:11:13,465 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,466 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,466 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,466 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,466 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 14:11:13,467 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-11 14:11:13,467 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 14:11:13,467 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 14:11:13,468 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 14:11:13,469 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:13,469 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:13,470 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:13,470 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:13,470 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:13,470 - sqlalchemy.engine.Engine - INFO - [cached since 3648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:13,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:13,471 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:11:20,468 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,470 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,470 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,470 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,474 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,474 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,475 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,475 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,476 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,476 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,476 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,477 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,477 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,477 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,479 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:20,479 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:20,480 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,482 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:20,482 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 20, 481939))
2025-07-11 14:11:20,483 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:20,483 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:20,484 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,484 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,485 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,486 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 14:11:20,486 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.018s
2025-07-11 14:11:20,487 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 14:11:20,487 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-11 14:11:20,488 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,488 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,489 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,490 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,490 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,491 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,491 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,492 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,493 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:20,493 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:20,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,494 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:20,494 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:20,495 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:20,495 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 20, 495383))
2025-07-11 14:11:20,496 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:20,496 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:20,496 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,497 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,497 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,498 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,498 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 14:11:20,498 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 14:11:20,499 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 14:11:20,499 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:11:20,500 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 14:11:20,502 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:20,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:20,504 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:20,504 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:20,505 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:20,505 - sqlalchemy.engine.Engine - INFO - [cached since 3655s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:20,505 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:20,506 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:11:27,721 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,724 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,725 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,725 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,729 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,730 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,730 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,732 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,732 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,733 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,733 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,733 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,734 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,734 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,736 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:27,736 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:27,737 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:27,737 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:27,738 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:27,739 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 27, 738456))
2025-07-11 14:11:27,740 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,740 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,742 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,743 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,744 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.019s
2025-07-11 14:11:27,745 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.023s
2025-07-11 14:11:27,745 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.020s
2025-07-11 14:11:27,746 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.021s
2025-07-11 14:11:27,746 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,748 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,748 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,749 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,750 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,750 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,750 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,751 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,751 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,751 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,751 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,752 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,752 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,752 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,753 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,753 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,753 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:27,753 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:27,754 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:27,754 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:27,754 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:27,754 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:27,755 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:27,755 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 27, 754817))
2025-07-11 14:11:27,755 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,755 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,756 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,756 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,756 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 14:11:27,757 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-11 14:11:27,757 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 14:11:27,758 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:11:27,758 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-11 14:11:27,759 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:27,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:27,760 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:27,760 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:27,761 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:27,761 - sqlalchemy.engine.Engine - INFO - [cached since 3662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:27,762 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:27,763 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 14:11:53,969 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,973 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,975 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,977 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,978 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,978 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,978 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,980 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,980 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,982 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,983 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:53,984 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:53,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,984 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,984 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,985 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,986 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:53,986 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:53,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,987 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:53,988 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 53, 987541))
2025-07-11 14:11:53,989 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,989 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,990 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 14:11:53,990 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-11 14:11:53,991 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 14:11:53,991 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 14:11:53,992 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,992 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,993 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,993 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,994 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:53,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,994 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,994 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:53,996 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:53,996 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:53,997 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:53,997 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:53,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,998 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:53,998 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:53,998 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:53,998 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:53,998 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:53,999 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 53, 998850))
2025-07-11 14:11:53,999 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,999 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,999 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:53,999 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:54,000 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 14:11:54,000 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 14:11:54,000 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 14:11:54,000 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-11 14:11:54,000 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:11:54,002 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:54,003 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:54,003 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:54,003 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:54,004 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:54,004 - sqlalchemy.engine.Engine - INFO - [cached since 3688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:54,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:54,005 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:11:59,768 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,770 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,770 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,770 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,771 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:59,772 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:59,773 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,774 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-11 14:11:59,790 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,791 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,793 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,793 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,793 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,795 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,796 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,797 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,800 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,800 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,801 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,802 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,802 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,803 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:59,803 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:59,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,804 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,804 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,805 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:59,805 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 59, 804730))
2025-07-11 14:11:59,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,807 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:59,807 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:59,808 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:59,808 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:59,809 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,809 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,810 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,810 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.021s
2025-07-11 14:11:59,811 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.020s
2025-07-11 14:11:59,812 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.019s
2025-07-11 14:11:59,813 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,813 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.018s
2025-07-11 14:11:59,814 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-11 14:11:59,815 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,815 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,816 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,817 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:11:59,817 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,817 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,817 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,818 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,818 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,818 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:11:59,818 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:11:59,818 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:11:59,819 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:59,819 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:59,819 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:11:59,819 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 11, 59, 819257))
2025-07-11 14:11:59,820 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:11:59,820 - sqlalchemy.engine.Engine - INFO - [cached since 3694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:11:59,820 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,820 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,821 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:11:59,821 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 14:11:59,821 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:11:59,821 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:11:59,822 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 14:12:53,285 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,291 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,293 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,300 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,308 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,311 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,311 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,312 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,313 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,313 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,315 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:12:53,315 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:12:53,316 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,316 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:12:53,316 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:12:53,317 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:12:53,317 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 12, 53, 317286))
2025-07-11 14:12:53,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,318 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,318 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,318 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.028s
2025-07-11 14:12:53,319 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-11 14:12:53,320 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.035s
2025-07-11 14:12:53,320 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.020s
2025-07-11 14:12:53,320 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,322 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,322 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,322 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,324 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,324 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,327 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,328 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,328 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,328 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,328 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,329 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,330 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,331 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,331 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,332 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:12:53,332 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:12:53,333 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:12:53,333 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:12:53,333 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:12:53,333 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 12, 53, 333353))
2025-07-11 14:12:53,333 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:12:53,333 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:12:53,334 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,334 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,334 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,334 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,335 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 14:12:53,335 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 14:12:53,336 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-11 14:12:53,336 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-11 14:12:53,336 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.012s
2025-07-11 14:12:53,339 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:12:53,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:12:53,341 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:12:53,341 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:12:53,341 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:12:53,341 - sqlalchemy.engine.Engine - INFO - [cached since 3748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:12:53,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:12:53,342 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:14:27,909 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,929 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,932 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,934 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,934 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,934 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,935 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,936 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,936 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,936 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,936 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,937 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:14:27,937 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:14:27,938 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,938 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,938 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,938 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,938 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:14:27,938 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:14:27,939 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,939 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:14:27,939 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 14, 27, 939461))
2025-07-11 14:14:27,940 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,940 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,940 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-11 14:14:27,941 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.032s
2025-07-11 14:14:27,941 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 14:14:27,942 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:14:27,942 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,942 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,943 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,944 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,944 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,944 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,945 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,945 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,945 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,946 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,946 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,946 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,946 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:14:27,947 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:14:27,947 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,947 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,947 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,947 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:14:27,948 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:14:27,948 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:14:27,948 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 14, 27, 948168))
2025-07-11 14:14:27,948 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:14:27,948 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:14:27,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,949 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 14:14:27,950 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-11 14:14:27,950 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:14:27,950 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:14:27,951 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-11 14:14:27,952 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:14:27,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:14:27,952 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:14:27,952 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:14:27,953 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:14:27,953 - sqlalchemy.engine.Engine - INFO - [cached since 3842s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:14:27,954 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:14:27,954 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 14:15:57,824 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,837 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,839 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,841 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,841 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,841 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,844 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,844 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,846 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,847 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,847 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,850 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:15:57,851 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:15:57,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,853 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:15:57,853 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 15, 57, 852563))
2025-07-11 14:15:57,853 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:15:57,853 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:15:57,854 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,856 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-11 14:15:57,857 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.037s
2025-07-11 14:15:57,858 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,858 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-11 14:15:57,858 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 14:15:57,859 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,859 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,861 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,861 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,861 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,861 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,862 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,862 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:15:57,863 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:15:57,864 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:15:57,864 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:15:57,864 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:15:57,864 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 15, 57, 864686))
2025-07-11 14:15:57,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,865 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:15:57,865 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:15:57,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,867 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 14:15:57,867 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-11 14:15:57,867 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:15:57,868 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.006s
2025-07-11 14:15:57,868 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:15:57,869 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:15:57,870 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:15:57,870 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:15:57,871 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:15:57,871 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:15:57,871 - sqlalchemy.engine.Engine - INFO - [cached since 3932s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:15:57,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:15:57,873 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:16:12,097 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,099 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,101 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,101 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,105 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,105 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,105 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,105 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,106 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,106 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,106 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,107 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,107 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,109 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:12,109 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:12,110 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,111 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:12,111 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:12,113 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:16:12,113 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 16, 12, 112754))
2025-07-11 14:16:12,114 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,114 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,115 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,115 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 14:16:12,116 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-11 14:16:12,117 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 14:16:12,117 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-11 14:16:12,118 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,119 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,119 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,120 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,121 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,121 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,121 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,121 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,122 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,122 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,122 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,122 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,122 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,122 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,123 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,123 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,123 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,124 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:16:12,124 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 16, 12, 124122))
2025-07-11 14:16:12,125 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:12,125 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:12,125 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:12,125 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:12,125 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:12,125 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:12,126 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,126 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,127 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 14:16:12,128 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:16:12,128 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-11 14:16:12,128 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:16:12,128 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:16:12,131 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:16:12,132 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:12,132 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:12,132 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:12,133 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:12,133 - sqlalchemy.engine.Engine - INFO - [cached since 3946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:12,133 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:12,134 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 14:16:22,614 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,614 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,614 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,617 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,618 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,619 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,619 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,619 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,620 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,620 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,620 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,620 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,621 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,621 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,623 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:22,623 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:22,623 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:22,623 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:22,624 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:16:22,624 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 16, 22, 624295))
2025-07-11 14:16:22,625 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,626 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,627 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,628 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 14:16:22,629 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-11 14:16:22,629 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-11 14:16:22,629 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,630 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 14:16:22,631 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,632 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,633 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,633 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,633 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,635 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,637 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,638 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:16:22,638 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 16, 22, 638653))
2025-07-11 14:16:22,639 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:22,639 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:22,639 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:22,639 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:22,640 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:22,640 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:22,640 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,640 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,641 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,641 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,641 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-11 14:16:22,642 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-11 14:16:22,642 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-11 14:16:22,642 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 14:16:22,643 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 14:16:22,645 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:16:22,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:16:22,646 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:16:22,646 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:16:22,647 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:16:22,647 - sqlalchemy.engine.Engine - INFO - [cached since 3957s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:16:22,647 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:16:22,648 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:23:28,290 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,301 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,303 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,304 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,305 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,305 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,306 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,308 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,309 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,309 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,310 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,310 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,312 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:23:28,312 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:23:28,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,313 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,314 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:23:28,314 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:23:28,315 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,315 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:23:28,315 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 23, 28, 315482))
2025-07-11 14:23:28,316 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,317 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 14:23:28,318 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.030s
2025-07-11 14:23:28,318 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 14:23:28,319 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 14:23:28,319 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,319 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,321 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,321 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,321 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,322 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,322 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,322 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,322 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,322 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,322 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,322 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:23:28,323 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:23:28,324 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:23:28,324 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:23:28,324 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:23:28,324 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 23, 28, 324417))
2025-07-11 14:23:28,324 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:23:28,324 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:23:28,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,325 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.006s
2025-07-11 14:23:28,326 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-11 14:23:28,326 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.005s
2025-07-11 14:23:28,326 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-11 14:23:28,326 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 14:23:28,327 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:23:28,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:23:28,328 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:23:28,328 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:23:28,329 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:23:28,329 - sqlalchemy.engine.Engine - INFO - [cached since 4383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:23:28,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:23:28,330 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 14:31:01,630 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,641 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,642 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,643 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,644 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,645 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,647 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,654 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:31:01,655 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:31:01,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,656 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,656 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,657 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,657 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,658 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,659 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,660 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:31:01,661 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:31:01,662 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:31:01,662 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 31, 1, 661772))
2025-07-11 14:31:01,663 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,663 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,664 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.035s
2025-07-11 14:31:01,664 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.024s
2025-07-11 14:31:01,665 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,667 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,668 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,668 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.024s
2025-07-11 14:31:01,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,671 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,671 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.026s
2025-07-11 14:31:01,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,674 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,674 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,674 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,675 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,675 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,675 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:31:01,675 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:31:01,676 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,677 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:31:01,677 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:31:01,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,678 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,679 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,679 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,679 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:31:01,679 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:31:01,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,680 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:31:01,680 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 31, 1, 680447))
2025-07-11 14:31:01,681 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,681 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,681 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-11 14:31:01,682 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 14:31:01,682 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-11 14:31:01,682 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 14:31:01,683 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:31:01,684 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:31:01,684 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:31:01,685 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:31:01,685 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:31:01,686 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:31:01,686 - sqlalchemy.engine.Engine - INFO - [cached since 4836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:31:01,686 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:31:01,688 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 14:32:41,082 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,108 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,108 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,108 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,114 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,114 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,115 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,118 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:32:41,120 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:32:41,121 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,122 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:32:41,125 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 32, 41, 122068))
2025-07-11 14:32:41,125 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:32:41,125 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:32:41,126 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,126 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,129 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.021s
2025-07-11 14:32:41,148 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.067s
2025-07-11 14:32:41,150 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.042s
2025-07-11 14:32:41,150 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.042s
2025-07-11 14:32:41,151 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,151 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,152 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,157 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,159 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,159 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,159 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,159 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,160 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,160 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,161 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:32:41,161 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:32:41,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,161 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,161 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,162 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:32:41,162 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 32, 41, 162414))
2025-07-11 14:32:41,162 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:32:41,162 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:32:41,163 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:32:41,163 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:32:41,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,164 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,164 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,164 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 14:32:41,165 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-11 14:32:41,166 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:32:41,167 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 14:32:41,168 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:32:41,170 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:32:41,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:32:41,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:32:41,171 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:32:41,172 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:32:41,173 - sqlalchemy.engine.Engine - INFO - [cached since 4935s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:32:41,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:32:41,175 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 14:33:52,995 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,009 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,011 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,012 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,013 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,013 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,013 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,014 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,015 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,015 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,015 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,018 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:33:53,018 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:33:53,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,019 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,019 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,021 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,021 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:33:53,021 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:33:53,022 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,022 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:33:53,022 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 33, 53, 22523))
2025-07-11 14:33:53,023 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,023 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,023 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 14:33:53,024 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.030s
2025-07-11 14:33:53,024 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.014s
2025-07-11 14:33:53,025 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,025 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,026 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.012s
2025-07-11 14:33:53,027 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,027 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,028 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,028 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,028 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,028 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,028 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,029 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,029 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,030 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,031 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:33:53,031 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:33:53,031 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,032 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:33:53,032 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 33, 53, 32027))
2025-07-11 14:33:53,032 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:33:53,032 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:33:53,032 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,033 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 14:33:53,033 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-11 14:33:53,034 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 14:33:53,034 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.006s
2025-07-11 14:33:53,034 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.006s
2025-07-11 14:33:53,037 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:33:53,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:33:53,038 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:33:53,038 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:33:53,039 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:33:53,039 - sqlalchemy.engine.Engine - INFO - [cached since 5007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:33:53,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:33:53,040 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 14:35:56,595 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,604 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,604 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,605 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,611 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,611 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,613 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,613 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,614 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,614 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,614 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,615 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,617 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:35:56,617 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:35:56,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,619 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:35:56,619 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 35, 56, 618685))
2025-07-11 14:35:56,619 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:35:56,619 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:35:56,620 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,620 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,621 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 14:35:56,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.027s
2025-07-11 14:35:56,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-11 14:35:56,623 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-11 14:35:56,623 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,623 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,624 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,624 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,625 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,626 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,626 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:35:56,626 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:35:56,627 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:35:56,627 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 35, 56, 627206))
2025-07-11 14:35:56,628 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:35:56,628 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:35:56,628 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,629 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,630 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,630 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 14:35:56,632 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:35:56,632 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:35:56,633 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 14:35:56,633 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 14:35:56,634 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 14:35:56,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,636 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:35:56,636 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:35:56,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:35:56,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:35:56,637 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:35:56,638 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:35:56,638 - sqlalchemy.engine.Engine - INFO - [cached since 5131s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:35:56,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:35:56,641 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 14:38:32,928 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,929 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,941 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,941 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,942 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,943 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,944 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,944 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,944 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,945 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,945 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,949 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:38:32,949 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:38:32,950 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,951 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:38:32,951 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:38:32,952 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:38:32,952 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 38, 32, 952151))
2025-07-11 14:38:32,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,954 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.024s
2025-07-11 14:38:32,954 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.027s
2025-07-11 14:38:32,955 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 14:38:32,956 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 14:38:32,956 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,957 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,958 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,958 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,959 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,959 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,959 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,959 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,960 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,960 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,960 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,960 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,960 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,961 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,961 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,961 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,961 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,961 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,962 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,962 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,963 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,963 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:38:32,963 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:38:32,964 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:38:32,964 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:38:32,964 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:38:32,964 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 38, 32, 964644))
2025-07-11 14:38:32,965 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:38:32,965 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:38:32,965 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,967 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 14:38:32,967 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 14:38:32,967 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 14:38:32,968 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:38:32,968 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 14:38:32,972 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:38:32,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:38:32,973 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:38:32,973 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:38:32,974 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:38:32,974 - sqlalchemy.engine.Engine - INFO - [cached since 5287s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:38:32,974 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:38:32,975 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:40:35,979 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:40:35,994 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:40:35,996 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:40:35,998 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:35,999 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,000 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,001 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:40:36,002 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,002 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,002 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,002 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,002 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,002 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,003 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,003 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,003 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,004 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,005 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:40:36,005 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:40:36,005 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:40:36,005 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:40:36,006 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:40:36,006 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 40, 36, 6024))
2025-07-11 14:40:36,007 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 14:40:36,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,008 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,008 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,008 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:40:36,009 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-11 14:40:36,009 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-11 14:40:36,010 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,010 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,010 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,010 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.032s
2025-07-11 14:40:36,010 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:40:36,011 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:40:36,011 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,011 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:40:36,012 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,012 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,012 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,013 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:40:36,013 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,013 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,013 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,013 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,013 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,013 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,014 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:40:36,014 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 40, 36, 14296))
2025-07-11 14:40:36,014 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:40:36,014 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:40:36,014 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,015 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,015 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:40:36,015 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:40:36,015 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,015 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,016 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 14:40:36,016 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:40:36,016 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:40:36,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,017 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:40:36,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,018 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:40:36,018 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.006s
2025-07-11 14:40:36,018 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-11 14:40:36,020 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:40:36,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:40:36,021 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:40:36,021 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:40:36,022 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:40:36,022 - sqlalchemy.engine.Engine - INFO - [cached since 5410s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:40:36,023 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:40:36,023 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:40:38,050 - app.main - INFO - 🔄 POST /api/chat - 클라이언트: 127.0.0.1
2025-07-11 14:40:38,053 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/chat
2025-07-11 14:40:38,054 - app.main - INFO - ✅ POST /api/chat - 404 - 0.004s
2025-07-11 14:41:32,403 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,405 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,405 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,405 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,409 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,409 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,410 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,410 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,410 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,410 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,412 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:32,413 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:32,414 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:41:32,415 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 41, 32, 414278))
2025-07-11 14:41:32,416 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,418 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:32,418 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:32,419 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,419 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,420 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,421 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 14:41:32,421 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.018s
2025-07-11 14:41:32,421 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 14:41:32,422 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-11 14:41:32,422 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,422 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,424 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,424 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,425 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,427 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,427 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,427 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,428 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,428 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,429 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,429 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,429 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,430 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,431 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:32,431 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:32,432 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:32,432 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:32,432 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:32,432 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:32,432 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,433 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:41:32,433 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 41, 32, 433138))
2025-07-11 14:41:32,433 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,433 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,433 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,434 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-11 14:41:32,434 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-11 14:41:32,434 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 14:41:32,434 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 14:41:32,435 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:41:32,437 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:41:32,438 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:32,438 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:32,438 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:32,438 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:32,438 - sqlalchemy.engine.Engine - INFO - [cached since 5467s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:32,439 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:32,439 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 14:41:41,027 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,032 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,033 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,033 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,036 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,036 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,037 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,037 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,038 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,038 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,038 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,038 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,040 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:41,040 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:41,041 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:41,042 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:41,043 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:41:41,043 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 41, 41, 42705))
2025-07-11 14:41:41,044 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,044 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,045 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,046 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,046 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 14:41:41,047 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-11 14:41:41,048 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-11 14:41:41,048 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 14:41:41,049 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,050 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,050 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,051 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,051 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,052 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,052 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,052 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,052 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,053 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,053 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,054 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,054 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,054 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,054 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,055 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:41,055 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:41,055 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:41,055 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:41,055 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:41,055 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:41,056 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:41:41,056 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 41, 41, 55909))
2025-07-11 14:41:41,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,057 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 14:41:41,057 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:41:41,058 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-11 14:41:41,058 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:41:41,058 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:41:41,061 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:41:41,062 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:41:41,062 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:41:41,063 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:41:41,064 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:41:41,064 - sqlalchemy.engine.Engine - INFO - [cached since 5475s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:41:41,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:41:41,066 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 14:41:43,538 - app.main - INFO - 🔄 POST /chat - 클라이언트: 127.0.0.1
2025-07-11 14:41:43,539 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/chat
2025-07-11 14:41:43,539 - app.main - INFO - ✅ POST /chat - 404 - 0.001s
2025-07-11 14:43:05,372 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-11 14:43:27,502 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-11 14:43:27,503 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-11 14:43:28,432 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 14:43:28,707 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-11 14:43:28,715 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-11 14:43:28,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,715 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-11 14:43:28,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,715 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-11 14:43:28,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:28,716 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-11 14:43:28,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,718 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-11 14:43:28,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,720 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-11 14:43:28,720 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,722 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-11 14:43:28,722 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,723 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-11 14:43:28,723 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,724 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-11 14:43:28,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,725 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-11 14:43:28,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,726 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-11 14:43:28,726 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,727 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-11 14:43:28,727 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,728 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-11 14:43:28,728 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,730 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-11 14:43:28,730 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,730 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-11 14:43:28,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,731 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-11 14:43:28,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,732 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-11 14:43:28,732 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-11 14:43:28,733 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-11 14:43:28,733 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-11 14:43:28,748 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-11 14:43:28,748 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-11 14:43:28,751 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-11 14:43:28,751 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-11 14:43:28,751 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-11 14:43:28,751 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-11 14:43:28,751 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-11 14:43:45,782 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,800 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,801 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,801 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,820 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,823 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:43:45,823 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:43:45,824 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,824 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,824 - sqlalchemy.engine.Engine - INFO - [cached since 0.004597s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,825 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.043s
2025-07-11 14:43:45,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,825 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,825 - sqlalchemy.engine.Engine - INFO - [cached since 0.005236s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,826 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,826 - sqlalchemy.engine.Engine - INFO - [cached since 0.006255s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,827 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,827 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:43:45,827 - sqlalchemy.engine.Engine - INFO - [cached since 0.00448s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:43:45,827 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,829 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:43:45,829 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 43, 45, 828707))
2025-07-11 14:43:45,829 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,830 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,830 - sqlalchemy.engine.Engine - INFO - [cached since 0.01037s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,831 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:43:45,831 - sqlalchemy.engine.Engine - INFO - [cached since 0.008282s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:43:45,831 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.031s
2025-07-11 14:43:45,831 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,832 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.031s
2025-07-11 14:43:45,832 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.031s
2025-07-11 14:43:45,832 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,833 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,834 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,834 - sqlalchemy.engine.Engine - INFO - [cached since 0.01413s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,834 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,835 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,835 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,835 - sqlalchemy.engine.Engine - INFO - [cached since 0.01488s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,835 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,835 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,835 - sqlalchemy.engine.Engine - INFO - [cached since 0.01536s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,836 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:43:45,836 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:43:45,837 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,837 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,837 - sqlalchemy.engine.Engine - INFO - [cached since 0.01688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,837 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 14:43:45,838 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:43:45,838 - sqlalchemy.engine.Engine - INFO - [cached since 0.01515s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:43:45,838 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,838 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:43:45,838 - sqlalchemy.engine.Engine - INFO - [cached since 0.009495s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 43, 45, 838816))
2025-07-11 14:43:45,839 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,840 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-11 14:43:45,840 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-11 14:43:45,841 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-11 14:43:45,841 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-11 14:43:45,841 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:43:45,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:43:45,843 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:43:45,843 - sqlalchemy.engine.Engine - INFO - [cached since 0.02286s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:43:45,843 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:43:45,843 - sqlalchemy.engine.Engine - INFO - [cached since 0.006991s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:43:45,844 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:43:45,844 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:43:47,553 - app.main - INFO - 🔄 OPTIONS /chat - 클라이언트: 127.0.0.1
2025-07-11 14:43:47,554 - app.main - INFO - ✅ OPTIONS /chat - 200 - 0.001s
2025-07-11 14:43:47,556 - app.main - INFO - 🔄 POST /chat - 클라이언트: 127.0.0.1
2025-07-11 14:43:47,557 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/chat
2025-07-11 14:43:47,557 - app.main - INFO - ✅ POST /chat - 404 - 0.001s
2025-07-11 14:45:08,242 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,255 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,256 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,256 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,260 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,262 - sqlalchemy.engine.Engine - INFO - [cached since 82.44s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,264 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,264 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,264 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,264 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,264 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,265 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,265 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,267 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:08,267 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:08,269 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:08,269 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:08,270 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:45:08,270 - sqlalchemy.engine.Engine - INFO - [cached since 82.44s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 45, 8, 270099))
2025-07-11 14:45:08,272 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,272 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,274 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,275 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-11 14:45:08,276 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.035s
2025-07-11 14:45:08,277 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-11 14:45:08,277 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.021s
2025-07-11 14:45:08,278 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,279 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,279 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,280 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,281 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,282 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,282 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,283 - sqlalchemy.engine.Engine - INFO - [cached since 82.47s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,284 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:08,284 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:08,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,284 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,284 - sqlalchemy.engine.Engine - INFO - [cached since 82.47s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,285 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,286 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:45:08,286 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 45, 8, 285796))
2025-07-11 14:45:08,286 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:08,286 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:08,286 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,287 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:08,287 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:08,287 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,288 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,288 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 14:45:08,288 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 14:45:08,289 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 14:45:08,290 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,290 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-11 14:45:08,291 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 14:45:08,292 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:45:08,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:08,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:08,293 - sqlalchemy.engine.Engine - INFO - [cached since 82.47s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:08,294 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:08,294 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:08,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:08,295 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:45:10,822 - app.main - INFO - 🔄 OPTIONS /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-11 14:45:10,823 - app.main - INFO - ✅ OPTIONS /api/v1/chat - 200 - 0.001s
2025-07-11 14:45:10,824 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-11 14:45:10,825 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-11 14:45:10,842 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 14:45:10,842 - app.main - INFO - ✅ OPTIONS /api/v1/chat/ - 200 - 0.001s
2025-07-11 14:45:10,843 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 14:45:10,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:10,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:10,850 - sqlalchemy.engine.Engine - INFO - [cached since 85.03s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:10,854 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 14:45:10,854 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:11,670 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-11 14:45:11,697 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 14:45:11,700 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 6e34b09c-fe56-40e4-b581-ab26165c6a8c, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 14:45:11,712 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 14:45:11,714 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 1개
2025-07-11 14:45:11,723 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 14:45:11,725 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 4개
2025-07-11 14:45:12,531 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 14:45:12,532 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:12,533 - sqlalchemy.engine.Engine - INFO - [cached since 86.71s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:12,539 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 14:45:13,824 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 133
2025-07-11 14:45:13,825 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:13,827 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.983s
2025-07-11 14:45:26,339 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-11 14:45:26,340 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-11 14:45:26,347 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 14:45:26,349 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:26,350 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:26,350 - sqlalchemy.engine.Engine - INFO - [cached since 100.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:26,351 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 14:45:26,352 - sqlalchemy.engine.Engine - INFO - [cached since 15.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:26,750 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 16, 벡터 차원: 768
2025-07-11 14:45:26,764 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 14:45:26,765 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 756b9523-5eb2-4d60-b08e-ba1d58226621, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 14:45:26,773 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 14:45:26,774 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 4개
2025-07-11 14:45:26,782 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 14:45:26,783 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-11 14:45:27,621 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.SAD, 강도: 0.1
2025-07-11 14:45:27,623 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:27,623 - sqlalchemy.engine.Engine - INFO - [cached since 101.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:27,627 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 14:45:28,839 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 153
2025-07-11 14:45:28,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:28,842 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.495s
2025-07-11 14:45:48,557 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,560 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,562 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,563 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,565 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,565 - sqlalchemy.engine.Engine - INFO - [cached since 122.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,566 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,566 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,566 - sqlalchemy.engine.Engine - INFO - [cached since 122.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,566 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,567 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,567 - sqlalchemy.engine.Engine - INFO - [cached since 122.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,567 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,567 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,567 - sqlalchemy.engine.Engine - INFO - [cached since 122.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,569 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:48,569 - sqlalchemy.engine.Engine - INFO - [cached since 122.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:48,570 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,571 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:48,571 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:48,572 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:45:48,573 - sqlalchemy.engine.Engine - INFO - [cached since 122.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 45, 48, 572310))
2025-07-11 14:45:48,574 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,574 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,575 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,576 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 14:45:48,577 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-11 14:45:48,578 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-11 14:45:48,578 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-11 14:45:48,578 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,580 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,580 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,581 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,582 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,582 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,583 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,583 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,583 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,584 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,584 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,585 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,585 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,585 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,585 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,585 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,586 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:48,586 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:48,587 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:48,587 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:48,587 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:45:48,588 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 45, 48, 587705))
2025-07-11 14:45:48,588 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:48,588 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:48,589 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,589 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,590 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,590 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,590 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-11 14:45:48,591 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-11 14:45:48,591 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:45:48,591 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.012s
2025-07-11 14:45:48,592 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 14:45:48,593 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:45:48,594 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:45:48,594 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:45:48,594 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:45:48,595 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:45:48,595 - sqlalchemy.engine.Engine - INFO - [cached since 122.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:45:48,595 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:45:48,596 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:47:56,805 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:47:56,807 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:47:56,810 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:47:56,817 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:47:56,818 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:47:56,818 - sqlalchemy.engine.Engine - INFO - [cached since 251s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:47:56,821 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:47:56,821 - sqlalchemy.engine.Engine - INFO - [cached since 251s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:47:56,823 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:47:56,825 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-11 14:48:11,420 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:11,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:11,422 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:11,422 - sqlalchemy.engine.Engine - INFO - [cached since 265.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:11,424 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:11,424 - sqlalchemy.engine.Engine - INFO - [cached since 265.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:11,425 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:11,426 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-11 14:48:18,548 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:18,551 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:18,551 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:18,551 - sqlalchemy.engine.Engine - INFO - [cached since 272.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:18,553 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:18,553 - sqlalchemy.engine.Engine - INFO - [cached since 272.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:18,554 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:18,555 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 14:48:18,557 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:18,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:18,559 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:18,560 - sqlalchemy.engine.Engine - INFO - [cached since 272.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:18,562 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:18,562 - sqlalchemy.engine.Engine - INFO - [cached since 272.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:18,563 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:18,565 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 14:48:20,595 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,596 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,597 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,597 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,598 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,606 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,607 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,607 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,607 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,608 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,608 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,608 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,609 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,609 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,609 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,609 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,609 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,610 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,610 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,611 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,611 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:20,613 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:48:20,613 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 48, 20, 612790))
2025-07-11 14:48:20,614 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,615 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:20,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,616 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,616 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:20,617 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,619 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,620 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.023s
2025-07-11 14:48:20,620 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.026s
2025-07-11 14:48:20,621 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.024s
2025-07-11 14:48:20,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.024s
2025-07-11 14:48:20,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.025s
2025-07-11 14:48:20,622 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,623 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,623 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,625 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,626 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,626 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,628 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,629 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,629 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,630 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,630 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,631 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,631 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,632 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,632 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,632 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:20,633 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,633 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:20,633 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,633 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:20,634 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:48:20,634 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 48, 20, 634233))
2025-07-11 14:48:20,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,636 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 14:48:20,636 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-11 14:48:20,636 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-11 14:48:20,637 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-11 14:48:20,637 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-11 14:48:20,639 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:20,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,640 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,640 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,641 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,641 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:20,643 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:20,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:20,644 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:20,645 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:20,645 - sqlalchemy.engine.Engine - INFO - [cached since 274.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:20,645 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-11 14:48:20,646 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:20,647 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-11 14:48:22,849 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-11 14:48:22,850 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-11 14:48:22,856 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 14:48:22,858 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:22,859 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:22,859 - sqlalchemy.engine.Engine - INFO - [cached since 277s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:22,861 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 14:48:22,862 - sqlalchemy.engine.Engine - INFO - [cached since 192s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:23,227 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-11 14:48:23,244 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 14:48:23,245 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 5272d845-38af-4c27-9d5a-6a2958753d29, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 14:48:23,252 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 14:48:23,253 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-11 14:48:23,258 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 14:48:23,259 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 6개
2025-07-11 14:48:24,239 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-11 14:48:24,241 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:24,241 - sqlalchemy.engine.Engine - INFO - [cached since 278.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:24,244 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 14:48:25,682 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 140
2025-07-11 14:48:25,683 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:25,686 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.829s
2025-07-11 14:48:37,084 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-11 14:48:37,088 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.004s
2025-07-11 14:48:37,096 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 14:48:37,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:37,104 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:37,104 - sqlalchemy.engine.Engine - INFO - [cached since 291.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:37,107 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 14:48:37,107 - sqlalchemy.engine.Engine - INFO - [cached since 206.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:39,144 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 13, 벡터 차원: 768
2025-07-11 14:48:39,156 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 14:48:39,157 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 734c3355-2338-4346-836a-6f3f75f16da2, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 14:48:39,165 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 14:48:39,166 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-11 14:48:39,175 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 14:48:39,175 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 7개
2025-07-11 14:48:39,786 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.1
2025-07-11 14:48:39,789 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:39,790 - sqlalchemy.engine.Engine - INFO - [cached since 294s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:39,793 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 14:48:40,834 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 131
2025-07-11 14:48:40,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:40,837 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.741s
2025-07-11 14:48:46,867 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-11 14:48:46,869 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-11 14:48:46,878 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-11 14:48:46,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:46,881 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:46,881 - sqlalchemy.engine.Engine - INFO - [cached since 301.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:46,884 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-11 14:48:46,884 - sqlalchemy.engine.Engine - INFO - [cached since 216s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:47,321 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 10, 벡터 차원: 768
2025-07-11 14:48:47,338 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-11 14:48:47,339 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: e07dba7c-94d1-4033-98cd-81446a4e3b52, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-11 14:48:47,344 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-11 14:48:47,345 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-11 14:48:47,351 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-11 14:48:47,351 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 8개
2025-07-11 14:48:48,093 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.GRATEFUL, 강도: 0.13
2025-07-11 14:48:48,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:48,095 - sqlalchemy.engine.Engine - INFO - [cached since 302.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:48,098 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-11 14:48:49,472 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 153
2025-07-11 14:48:49,472 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:49,474 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.597s
2025-07-11 14:48:53,720 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:53,724 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:53,724 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:53,724 - sqlalchemy.engine.Engine - INFO - [cached since 307.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:53,728 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:53,728 - sqlalchemy.engine.Engine - INFO - [cached since 307.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:53,730 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:53,731 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-11 14:48:53,732 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:53,734 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:53,734 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:53,734 - sqlalchemy.engine.Engine - INFO - [cached since 307.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:53,737 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:53,738 - sqlalchemy.engine.Engine - INFO - [cached since 307.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:53,739 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:53,739 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-11 14:48:55,768 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,769 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,771 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,771 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,771 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,776 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,776 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,777 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,777 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,778 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,778 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,778 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,779 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,779 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,780 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,780 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:55,781 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:48:55,782 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 48, 55, 781410))
2025-07-11 14:48:55,783 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,783 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:55,784 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,784 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:55,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,786 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,788 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-11 14:48:55,789 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.018s
2025-07-11 14:48:55,789 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-11 14:48:55,790 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-11 14:48:55,790 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.021s
2025-07-11 14:48:55,791 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,791 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,792 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,792 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,792 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,793 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,793 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,793 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,793 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,794 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,794 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,795 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,795 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:55,796 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,796 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:55,796 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,797 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,797 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:48:55,797 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 14:48:55,797 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 5, 48, 55, 797380))
2025-07-11 14:48:55,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,797 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,798 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,798 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,798 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,799 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,799 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:55,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,800 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 14:48:55,801 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-11 14:48:55,801 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 14:48:55,801 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 14:48:55,802 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 14:48:55,803 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 14:48:55,804 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:48:55,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:48:55,805 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:48:55,805 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:48:55,806 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:48:55,806 - sqlalchemy.engine.Engine - INFO - [cached since 310s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 14:48:55,807 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:48:55,807 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 14:50:45,599 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:50:45,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:50:45,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:50:45,602 - sqlalchemy.engine.Engine - INFO - [cached since 419.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:50:45,604 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:50:45,604 - sqlalchemy.engine.Engine - INFO - [cached since 419.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:50:45,605 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:50:45,605 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-11 14:50:45,606 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 14:50:45,607 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 14:50:45,607 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 14:50:45,607 - sqlalchemy.engine.Engine - INFO - [cached since 419.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 14:50:45,607 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 14:50:45,608 - sqlalchemy.engine.Engine - INFO - [cached since 419.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 14:50:45,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 14:50:45,608 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 15:02:35,278 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:02:35,326 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:35,327 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:35,327 - sqlalchemy.engine.Engine - INFO - [cached since 1129s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:35,330 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:35,330 - sqlalchemy.engine.Engine - INFO - [cached since 1129s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:02:35,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:35,333 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.056s
2025-07-11 15:02:35,334 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:02:35,335 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:35,335 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:35,335 - sqlalchemy.engine.Engine - INFO - [cached since 1129s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:35,338 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:35,338 - sqlalchemy.engine.Engine - INFO - [cached since 1129s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:02:35,339 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:35,339 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 15:02:37,370 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,379 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,381 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,381 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,388 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,391 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,391 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,391 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,392 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,394 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,394 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:02:37,395 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,395 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:02:37,397 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,398 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,399 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:02:37,400 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 15:02:37,400 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 6, 2, 37, 399851))
2025-07-11 15:02:37,400 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,401 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,403 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.023s
2025-07-11 15:02:37,404 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.022s
2025-07-11 15:02:37,404 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.025s
2025-07-11 15:02:37,404 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-11 15:02:37,404 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.035s
2025-07-11 15:02:37,406 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,408 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,409 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,409 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,409 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,418 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,418 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,419 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,419 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,419 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,419 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,420 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,420 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,421 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,423 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,423 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:02:37,424 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,424 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:02:37,424 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,424 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:02:37,425 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 15:02:37,425 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 6, 2, 37, 425020))
2025-07-11 15:02:37,425 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,436 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,439 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,439 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,439 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,440 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,440 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.034s
2025-07-11 15:02:37,442 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,442 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:02:37,443 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.034s
2025-07-11 15:02:37,443 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.034s
2025-07-11 15:02:37,444 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,444 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.036s
2025-07-11 15:02:37,445 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.037s
2025-07-11 15:02:37,446 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.020s
2025-07-11 15:02:37,455 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:02:37,456 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:02:37,456 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:02:37,457 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:02:37,458 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:02:37,458 - sqlalchemy.engine.Engine - INFO - [cached since 1132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:02:37,459 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:02:37,459 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 15:03:31,407 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:03:31,421 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:31,423 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:31,423 - sqlalchemy.engine.Engine - INFO - [cached since 1186s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:31,429 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:31,429 - sqlalchemy.engine.Engine - INFO - [cached since 1186s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:03:31,433 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:31,434 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.027s
2025-07-11 15:03:31,436 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:03:31,437 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:31,437 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:31,437 - sqlalchemy.engine.Engine - INFO - [cached since 1186s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:31,439 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:31,439 - sqlalchemy.engine.Engine - INFO - [cached since 1186s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:03:31,440 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:31,441 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 15:03:33,479 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,482 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,483 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,483 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,483 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,485 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,486 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,487 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,488 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,488 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:03:33,489 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,491 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,491 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,492 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,493 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:03:33,493 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,494 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,494 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,494 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,495 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,496 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,497 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,497 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:03:33,500 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 15:03:33,501 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 6, 3, 33, 500238))
2025-07-11 15:03:33,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,503 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,504 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.024s
2025-07-11 15:03:33,504 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.021s
2025-07-11 15:03:33,504 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.023s
2025-07-11 15:03:33,505 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,505 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.020s
2025-07-11 15:03:33,506 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,506 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-11 15:03:33,507 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,507 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,508 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,508 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,508 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,508 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,508 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,508 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,509 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,509 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,509 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,509 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,510 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,510 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,510 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 15:03:33,510 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,510 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,511 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,511 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:03:33,515 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,515 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:03:33,515 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,516 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,516 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,516 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,516 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:03:33,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,517 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,517 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 15:03:33,517 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 6, 3, 33, 517188))
2025-07-11 15:03:33,517 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,518 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.013s
2025-07-11 15:03:33,518 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-11 15:03:33,518 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-11 15:03:33,519 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-11 15:03:33,519 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-11 15:03:33,519 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 15:03:33,529 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 15:03:33,530 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 15:03:33,531 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 15:03:33,531 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 15:03:33,531 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 15:03:33,531 - sqlalchemy.engine.Engine - INFO - [cached since 1188s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 15:03:33,532 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 15:03:33,532 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 16:03:56,452 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:56,455 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:56,456 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-11 16:03:56,457 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 16:03:56,458 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:56,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:56,476 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:56,476 - sqlalchemy.engine.Engine - INFO - [cached since 4811s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:56,480 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:56,480 - sqlalchemy.engine.Engine - INFO - [cached since 4811s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:03:56,481 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:56,482 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.024s
2025-07-11 16:03:56,483 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:56,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:56,486 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:56,486 - sqlalchemy.engine.Engine - INFO - [cached since 4811s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:56,487 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:56,488 - sqlalchemy.engine.Engine - INFO - [cached since 4811s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:03:56,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:56,491 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 16:03:58,657 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,658 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,660 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,661 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,664 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,666 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,666 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,666 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,668 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 16:03:58,669 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 7, 3, 58, 668032))
2025-07-11 16:03:58,671 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,672 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,673 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,673 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,673 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,673 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,673 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,674 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,674 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,675 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,675 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:03:58,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,677 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,677 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:03:58,678 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,678 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:03:58,679 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,680 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-11 16:03:58,682 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,682 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-11 16:03:58,683 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.026s
2025-07-11 16:03:58,683 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.025s
2025-07-11 16:03:58,684 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.023s
2025-07-11 16:03:58,684 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,684 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,684 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,687 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,690 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 16:03:58,690 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 7, 3, 58, 689805))
2025-07-11 16:03:58,690 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,691 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,691 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,691 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,692 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,692 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,693 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,693 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,693 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,693 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,693 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,693 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,694 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,694 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,694 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,694 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,694 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,694 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,695 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,696 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:03:58,696 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,696 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:03:58,697 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,697 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:03:58,697 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,697 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:03:58,697 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,698 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,701 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,701 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,701 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.020s
2025-07-11 16:03:58,702 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 16:03:58,706 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-11 16:03:58,738 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.047s
2025-07-11 16:03:58,739 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.048s
2025-07-11 16:03:58,742 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.051s
2025-07-11 16:03:58,745 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:03:58,747 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:03:58,747 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:03:58,747 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:03:58,749 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:03:58,751 - sqlalchemy.engine.Engine - INFO - [cached since 4813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:03:58,753 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:03:58,754 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 16:04:39,692 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:04:39,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:39,697 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:39,697 - sqlalchemy.engine.Engine - INFO - [cached since 4837s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:39,700 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:39,701 - sqlalchemy.engine.Engine - INFO - [cached since 4837s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:04:39,703 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:39,705 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-11 16:04:39,707 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:04:39,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:39,709 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:39,709 - sqlalchemy.engine.Engine - INFO - [cached since 4837s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:39,711 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:39,712 - sqlalchemy.engine.Engine - INFO - [cached since 4837s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:04:39,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:39,715 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 16:04:41,747 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,750 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,750 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,750 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,750 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,760 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,760 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,761 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,761 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,761 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,761 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,761 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,762 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,762 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,762 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,763 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,764 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,764 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:04:41,766 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,766 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:04:41,767 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,767 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:04:41,769 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 16:04:41,769 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 7, 4, 41, 768368))
2025-07-11 16:04:41,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,772 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,773 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,773 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,774 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.025s
2025-07-11 16:04:41,775 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.027s
2025-07-11 16:04:41,775 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.025s
2025-07-11 16:04:41,775 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.026s
2025-07-11 16:04:41,776 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-11 16:04:41,777 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,778 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,778 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,779 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,779 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,779 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,781 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,781 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,781 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,781 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,781 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 16:04:41,781 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 7, 4, 41, 781537))
2025-07-11 16:04:41,782 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,782 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:04:41,782 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,782 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:04:41,783 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,783 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:04:41,784 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,784 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:04:41,784 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,786 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,787 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-11 16:04:41,787 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 16:04:41,787 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 16:04:41,787 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-11 16:04:41,787 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 16:04:41,788 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 16:04:41,790 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:04:41,791 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:04:41,791 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:04:41,791 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:04:41,792 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:04:41,792 - sqlalchemy.engine.Engine - INFO - [cached since 4839s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:04:41,792 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:04:41,792 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 16:05:21,294 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:05:21,296 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:05:21,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:21,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:21,299 - sqlalchemy.engine.Engine - INFO - [cached since 4879s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:21,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:21,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:21,300 - sqlalchemy.engine.Engine - INFO - [cached since 4879s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:21,302 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:21,303 - sqlalchemy.engine.Engine - INFO - [cached since 4879s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:21,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:21,305 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:21,306 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-11 16:05:21,307 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-11 16:05:21,308 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:05:21,310 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:05:21,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:21,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:21,312 - sqlalchemy.engine.Engine - INFO - [cached since 4879s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:21,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:21,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:21,312 - sqlalchemy.engine.Engine - INFO - [cached since 4879s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:21,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:21,315 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:21,315 - sqlalchemy.engine.Engine - INFO - [cached since 4879s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:21,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:21,317 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 16:05:21,318 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 16:05:29,665 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,666 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,666 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,667 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,667 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,672 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,674 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,674 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,676 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,678 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,679 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,679 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,680 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,681 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,683 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,683 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:29,684 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,685 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,686 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:05:29,687 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,687 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:29,688 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,689 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 16:05:29,689 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 7, 5, 29, 688843))
2025-07-11 16:05:29,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,695 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.029s
2025-07-11 16:05:29,696 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.032s
2025-07-11 16:05:29,697 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.031s
2025-07-11 16:05:29,697 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.031s
2025-07-11 16:05:29,697 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,698 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.031s
2025-07-11 16:05:29,699 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,701 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,701 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,702 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,703 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,703 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,703 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,705 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,705 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,705 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,707 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,707 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,707 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,707 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,708 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,708 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,709 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,709 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:29,709 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,709 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,709 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,710 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,710 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,711 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,711 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,711 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,712 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 16:05:29,712 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,712 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:29,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,713 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,713 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:29,714 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 16:05:29,714 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 7, 5, 29, 714138))
2025-07-11 16:05:29,714 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,715 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,715 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,716 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,716 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-11 16:05:29,716 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-11 16:05:29,717 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-11 16:05:29,717 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-11 16:05:29,717 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.014s
2025-07-11 16:05:29,718 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.012s
2025-07-11 16:05:29,721 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 16:05:29,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 16:05:29,722 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 16:05:29,722 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 16:05:29,722 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 16:05:29,722 - sqlalchemy.engine.Engine - INFO - [cached since 4887s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 16:05:29,723 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 16:05:29,723 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 18:00:53,779 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:53,783 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:53,785 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-11 18:00:53,789 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 18:00:53,789 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:53,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:53,855 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:53,856 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:53,963 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:53,963 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:00:53,968 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:53,970 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.181s
2025-07-11 18:00:53,973 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:53,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:54,000 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:54,000 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:54,004 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:54,004 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:00:54,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:54,006 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.034s
2025-07-11 18:00:56,238 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,239 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,239 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,239 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,240 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,243 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,243 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,243 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,245 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 18:00:56,247 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 9, 0, 56, 244575))
2025-07-11 18:00:56,249 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,249 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,249 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,249 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,250 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,251 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,251 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,261 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,261 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,263 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,264 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:00:56,265 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,265 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:00:56,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,267 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,267 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:00:56,267 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,269 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,270 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,270 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.030s
2025-07-11 18:00:56,271 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.032s
2025-07-11 18:00:56,271 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.034s
2025-07-11 18:00:56,272 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.033s
2025-07-11 18:00:56,273 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,273 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.034s
2025-07-11 18:00:56,275 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,275 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,276 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,276 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,279 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,279 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,280 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,281 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,282 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,284 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,285 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,286 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 18:00:56,286 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 9, 0, 56, 286006))
2025-07-11 18:00:56,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,287 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,287 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,288 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,289 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,289 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,294 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:00:56,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,296 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,296 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:00:56,297 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,298 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,298 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:00:56,298 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,299 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:00:56,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,301 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.028s
2025-07-11 18:00:56,301 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.027s
2025-07-11 18:00:56,302 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.027s
2025-07-11 18:00:56,302 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.023s
2025-07-11 18:00:56,303 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.022s
2025-07-11 18:00:56,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.023s
2025-07-11 18:00:56,304 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:00:56,305 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:00:56,305 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:00:56,305 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:00:56,307 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:00:56,307 - sqlalchemy.engine.Engine - INFO - [cached since 1.181e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:00:56,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:00:56,308 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-11 18:54:26,696 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:54:26,711 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:26,712 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:26,713 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:26,718 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:26,718 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:54:26,720 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:26,721 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.027s
2025-07-11 18:54:26,723 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:54:26,723 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:26,724 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:26,724 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:26,725 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:26,725 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:54:26,725 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:26,726 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 18:54:29,070 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,071 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,072 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,073 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,073 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,073 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,074 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,076 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,076 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,078 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,078 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:54:29,078 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,079 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,080 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,080 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,080 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,081 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,081 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,081 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,081 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:54:29,082 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,082 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,083 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,083 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,084 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,085 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:54:29,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,086 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 18:54:29,086 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 9, 54, 29, 86296))
2025-07-11 18:54:29,087 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,088 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,089 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-11 18:54:29,089 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-11 18:54:29,090 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.019s
2025-07-11 18:54:29,090 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,090 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,090 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 18:54:29,092 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,092 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 18:54:29,093 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,094 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,094 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,095 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,095 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,095 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,096 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,096 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,096 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,096 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,097 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,097 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:54:29,099 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,099 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:54:29,099 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,099 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,099 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,100 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,100 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 18:54:29,101 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,101 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,101 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,101 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,102 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,102 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,102 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:54:29,103 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 18:54:29,103 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 9, 54, 29, 102839))
2025-07-11 18:54:29,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,104 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,104 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-11 18:54:29,104 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-11 18:54:29,105 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-11 18:54:29,105 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-11 18:54:29,105 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-11 18:54:29,106 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-11 18:54:29,109 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 18:54:29,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 18:54:29,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 18:54:29,110 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 18:54:29,110 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 18:54:29,110 - sqlalchemy.engine.Engine - INFO - [cached since 1.193e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 18:54:29,111 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 18:54:29,111 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-11 19:31:22,157 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 19:31:22,196 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:22,198 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:22,198 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:22,203 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:22,204 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 19:31:22,205 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:22,207 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.050s
2025-07-11 19:31:22,208 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 19:31:22,212 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:22,212 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:22,212 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:22,214 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:22,214 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 19:31:22,215 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:22,216 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-11 19:31:24,659 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,662 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,664 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,665 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,666 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,667 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,667 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,667 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,669 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 19:31:24,669 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 10, 31, 24, 668554))
2025-07-11 19:31:24,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,669 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,670 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,671 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,671 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 19:31:24,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,671 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,672 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,672 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,673 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,673 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 19:31:24,674 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,674 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 19:31:24,674 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,675 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-11 19:31:24,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,677 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,678 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.018s
2025-07-11 19:31:24,678 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,678 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,679 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-11 19:31:24,680 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 19:31:24,680 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 10, 31, 24, 679909))
2025-07-11 19:31:24,680 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,680 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-11 19:31:24,681 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.019s
2025-07-11 19:31:24,681 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,682 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,683 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,684 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,684 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,684 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,685 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,685 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,687 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,687 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,687 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,688 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,688 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 19:31:24,688 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,688 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,688 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,689 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,689 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,689 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,689 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,689 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 19:31:24,690 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,690 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-11 19:31:24,691 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,691 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 19:31:24,691 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,691 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 19:31:24,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,693 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,693 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-11 19:31:24,693 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-11 19:31:24,694 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-11 19:31:24,694 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-11 19:31:24,694 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 19:31:24,701 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 19:31:24,702 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 19:31:24,702 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 19:31:24,702 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 19:31:24,702 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 19:31:24,703 - sqlalchemy.engine.Engine - INFO - [cached since 1.315e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 19:31:24,703 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 19:31:24,704 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-11 21:46:32,408 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 21:46:32,477 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:32,478 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:32,478 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:32,481 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:32,482 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 21:46:32,483 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:32,484 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.076s
2025-07-11 21:46:32,485 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 21:46:32,489 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:32,490 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:32,490 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:32,493 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:32,493 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 21:46:32,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:32,495 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 21:46:35,293 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,294 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,294 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,294 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,294 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,302 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,302 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,305 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 21:46:35,305 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 12, 46, 35, 304423))
2025-07-11 21:46:35,307 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,307 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,307 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,308 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,308 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,308 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,308 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,308 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,308 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,309 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,309 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 21:46:35,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,310 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,310 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,311 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,311 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 21:46:35,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,312 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,312 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,313 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 21:46:35,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,313 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.019s
2025-07-11 21:46:35,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,315 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,315 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.022s
2025-07-11 21:46:35,316 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-11 21:46:35,316 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.022s
2025-07-11 21:46:35,317 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,317 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,317 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,317 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.023s
2025-07-11 21:46:35,318 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-11 21:46:35,318 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 4, 12, 46, 35, 318396))
2025-07-11 21:46:35,319 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,319 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,320 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,320 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,321 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,321 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,322 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,322 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,322 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,322 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,322 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,322 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,324 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,324 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,324 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 21:46:35,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,325 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,325 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-11 21:46:35,326 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,326 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 21:46:35,326 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,326 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 21:46:35,326 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,327 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,327 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,328 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,328 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-11 21:46:35,328 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-11 21:46:35,329 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-11 21:46:35,329 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-11 21:46:35,329 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-11 21:46:35,329 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-11 21:46:35,337 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-11 21:46:35,337 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-11 21:46:35,337 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-11 21:46:35,337 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-11 21:46:35,338 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-11 21:46:35,338 - sqlalchemy.engine.Engine - INFO - [cached since 1.363e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-11 21:46:35,338 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-11 21:46:35,339 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 10:53:49,536 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 10:53:49,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:49,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:49,678 - sqlalchemy.engine.Engine - INFO - [cached since 1.437e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:49,685 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:49,685 - sqlalchemy.engine.Engine - INFO - [cached since 1.437e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 10:53:49,691 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:49,694 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.159s
2025-07-12 10:53:49,695 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 10:53:49,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:49,701 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:49,701 - sqlalchemy.engine.Engine - INFO - [cached since 1.437e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:49,705 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:49,705 - sqlalchemy.engine.Engine - INFO - [cached since 1.437e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 10:53:49,707 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:49,709 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 10:53:52,394 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 10:53:52,422 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 10:53:52,425 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 10:53:52,428 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 10:53:52,429 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 10:53:52,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:52,437 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:53,100 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:53,110 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 10:53:53,111 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 1, 53, 53, 110019))
2025-07-12 10:53:53,133 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:53,135 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:53,140 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:53,141 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:53,142 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:53,142 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:53,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:53,173 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:53,174 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:53,175 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:53,177 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:53,177 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:53,178 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:53,181 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:53,185 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 10:53:53,187 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:53,189 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:53,193 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 10:53:53,195 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:53,196 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 10:53:53,198 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:53,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:53,200 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.772s
2025-07-12 10:53:53,251 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:53,270 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 10:53:53,272 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.847s
2025-07-12 10:53:53,274 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 10:53:53,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:53,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:53,293 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:53,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:53,326 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:53,327 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:53,343 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.949s
2025-07-12 10:53:53,345 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.923s
2025-07-12 10:53:53,346 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.918s
2025-07-12 10:53:53,356 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 10:53:53,358 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:53,365 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 10:53:53,365 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 1, 53, 53, 365532))
2025-07-12 10:53:53,415 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 10:53:53,418 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 10:53:53,420 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 10:53:53,423 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:53,424 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:54,427 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:54,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:54,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:54,559 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:54,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:54,560 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:54,580 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:54,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:54,582 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:54,618 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:54,619 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:54,620 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:54,776 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 10:53:54,777 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:54,784 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 10:53:54,785 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:54,790 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 10:53:54,792 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:54,835 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 10:53:54,836 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:54,837 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 1.563s
2025-07-12 10:53:54,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:54,844 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 1.429s
2025-07-12 10:53:55,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:55,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:55,057 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 1.788s
2025-07-12 10:53:55,062 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 1.644s
2025-07-12 10:53:55,064 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 1.707s
2025-07-12 10:53:55,080 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 1.659s
2025-07-12 10:53:55,089 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 10:53:55,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 10:53:55,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 10:53:55,092 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 10:53:55,103 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 10:53:55,103 - sqlalchemy.engine.Engine - INFO - [cached since 1.438e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 10:53:55,106 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 10:53:55,108 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.019s
2025-07-12 11:11:59,139 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:11:59,191 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:11:59,192 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:11:59,193 - sqlalchemy.engine.Engine - INFO - [cached since 1.453e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:11:59,198 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:11:59,198 - sqlalchemy.engine.Engine - INFO - [cached since 1.453e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:11:59,201 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:11:59,202 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.065s
2025-07-12 11:11:59,204 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:11:59,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:11:59,209 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:11:59,209 - sqlalchemy.engine.Engine - INFO - [cached since 1.453e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:11:59,212 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:11:59,212 - sqlalchemy.engine.Engine - INFO - [cached since 1.453e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:11:59,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:11:59,237 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.033s
2025-07-12 11:12:01,575 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,577 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,579 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,579 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,579 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,580 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,581 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,583 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,584 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,586 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,586 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:12:01,586 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,587 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,587 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,588 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,588 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,588 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,588 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,589 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,589 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:12:01,590 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,591 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,591 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,592 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,592 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:12:01,593 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,594 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:12:01,594 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 12, 1, 593675))
2025-07-12 11:12:01,595 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,595 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,596 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-12 11:12:01,596 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-12 11:12:01,597 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.019s
2025-07-12 11:12:01,597 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-12 11:12:01,597 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-12 11:12:01,598 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,599 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,599 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,600 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,600 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,600 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,601 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,601 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,603 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,603 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,604 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,604 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,604 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:12:01,605 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,605 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:12:01,606 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,606 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:12:01,606 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:12:01,606 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 12, 1, 606369))
2025-07-12 11:12:01,607 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,607 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,607 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:12:01,607 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,609 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-12 11:12:01,609 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-12 11:12:01,609 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 11:12:01,610 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 11:12:01,610 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-12 11:12:01,611 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-12 11:12:01,615 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:12:01,616 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:12:01,616 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:12:01,616 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:12:01,617 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:12:01,617 - sqlalchemy.engine.Engine - INFO - [cached since 1.454e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:12:01,617 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:12:01,617 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 11:43:38,215 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:38,219 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:38,221 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-12 11:43:38,222 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 11:43:38,223 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:38,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:38,230 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:38,230 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:38,234 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:38,234 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:43:38,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:38,237 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-12 11:43:38,238 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:38,239 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:38,239 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:38,239 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:38,240 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:38,240 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:43:38,241 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:38,242 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 11:43:40,290 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,291 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,292 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,292 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,292 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,295 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,295 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,296 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,299 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,300 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,300 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,300 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,301 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,304 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,304 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:43:40,305 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,306 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:43:40,307 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,307 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:43:40,309 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:43:40,309 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 43, 40, 308586))
2025-07-12 11:43:40,310 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,315 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,318 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.028s
2025-07-12 11:43:40,318 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-12 11:43:40,319 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.027s
2025-07-12 11:43:40,319 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,321 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,321 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,321 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,321 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.030s
2025-07-12 11:43:40,321 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.029s
2025-07-12 11:43:40,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,323 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,324 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,325 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,326 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:43:40,326 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,326 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,328 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,329 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,329 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:43:40,330 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,330 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:43:40,331 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,331 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,331 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,331 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,331 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,331 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,332 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,334 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,334 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:43:40,335 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:43:40,335 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 43, 40, 335226))
2025-07-12 11:43:40,335 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-12 11:43:40,336 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,336 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,336 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-12 11:43:40,337 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-12 11:43:40,337 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-12 11:43:40,338 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.012s
2025-07-12 11:43:40,338 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 11:43:40,340 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:43:40,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:43:40,341 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:43:40,341 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:43:40,343 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:43:40,343 - sqlalchemy.engine.Engine - INFO - [cached since 1.591e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:43:40,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:43:40,344 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 11:46:14,783 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:14,978 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:14,982 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:14,982 - sqlalchemy.engine.Engine - INFO - [cached since 1.606e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:14,988 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:14,988 - sqlalchemy.engine.Engine - INFO - [cached since 1.606e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:14,991 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:14,992 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.209s
2025-07-12 11:46:14,994 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:15,056 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:15,058 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:15,058 - sqlalchemy.engine.Engine - INFO - [cached since 1.606e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:15,064 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:15,064 - sqlalchemy.engine.Engine - INFO - [cached since 1.606e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:15,065 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:15,066 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.072s
2025-07-12 11:46:17,983 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:46:17,986 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:17,988 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:46:17,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:17,989 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:17,989 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:17,990 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:46:17,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:17,992 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:17,992 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:17,993 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:46:17,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:17,994 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:17,994 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:17,995 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:17,995 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:17,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:17,997 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:17,997 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:17,998 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:17,998 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:18,000 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,001 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,001 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,002 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,006 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:18,006 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:18,008 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:46:18,009 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 46, 18, 7948))
2025-07-12 11:46:18,010 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,012 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,014 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.026s
2025-07-12 11:46:18,014 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.031s
2025-07-12 11:46:18,015 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.029s
2025-07-12 11:46:18,017 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:46:18,017 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.024s
2025-07-12 11:46:18,017 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.027s
2025-07-12 11:46:18,019 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:46:18,019 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,019 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,022 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,022 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:18,022 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:18,023 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:46:18,023 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:46:18,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,025 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,025 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,025 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,026 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,026 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,026 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,034 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:18,035 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:18,035 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,035 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,035 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,035 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,035 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,035 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,036 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,036 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,037 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:46:18,037 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 46, 18, 37443))
2025-07-12 11:46:18,038 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:18,038 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:18,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,039 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:18,039 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:18,039 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:18,040 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:18,040 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,042 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.025s
2025-07-12 11:46:18,042 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.024s
2025-07-12 11:46:18,043 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.020s
2025-07-12 11:46:18,043 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.021s
2025-07-12 11:46:18,044 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-12 11:46:18,044 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.022s
2025-07-12 11:46:18,046 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:18,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:18,046 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:18,047 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:18,047 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:18,047 - sqlalchemy.engine.Engine - INFO - [cached since 1.607e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:18,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:18,049 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 11:46:54,969 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:54,977 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:54,978 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:54,978 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:54,981 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:54,981 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:54,983 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:54,985 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-12 11:46:54,986 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:54,988 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:54,988 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:54,989 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:55,100 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:55,100 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:55,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:55,104 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.117s
2025-07-12 11:46:57,618 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,619 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,623 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,626 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,627 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,628 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,629 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,629 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,631 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,631 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,632 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,632 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,634 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,634 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:57,635 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,635 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:57,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,636 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,636 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,639 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,639 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:57,640 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,642 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:46:57,642 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 46, 57, 641158))
2025-07-12 11:46:57,644 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,646 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.023s
2025-07-12 11:46:57,646 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.028s
2025-07-12 11:46:57,646 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.028s
2025-07-12 11:46:57,647 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.023s
2025-07-12 11:46:57,647 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-12 11:46:57,649 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,650 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,650 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,650 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,650 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,651 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,651 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,652 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,653 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,654 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 11:46:57,654 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 2, 46, 57, 653913))
2025-07-12 11:46:57,654 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,654 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:57,655 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,655 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 11:46:57,655 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,656 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:57,661 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,663 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,663 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,664 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,664 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,665 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,665 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,666 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,666 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:57,667 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.018s
2025-07-12 11:46:57,667 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,668 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.018s
2025-07-12 11:46:57,668 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-12 11:46:57,668 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.018s
2025-07-12 11:46:57,668 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-12 11:46:57,669 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 11:46:57,671 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 11:46:57,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 11:46:57,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 11:46:57,672 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 11:46:57,673 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 11:46:57,673 - sqlalchemy.engine.Engine - INFO - [cached since 1.609e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 11:46:57,674 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 11:46:57,674 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 13:58:53,190 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 13:58:53,236 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:53,237 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:53,237 - sqlalchemy.engine.Engine - INFO - [cached since 1.647e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:53,239 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:53,239 - sqlalchemy.engine.Engine - INFO - [cached since 1.647e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 13:58:53,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:53,240 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.051s
2025-07-12 13:58:53,241 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 13:58:53,243 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:53,244 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:53,244 - sqlalchemy.engine.Engine - INFO - [cached since 1.647e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:53,245 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:53,245 - sqlalchemy.engine.Engine - INFO - [cached since 1.647e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 13:58:53,246 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:53,246 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-12 13:58:55,589 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,591 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,592 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,592 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,594 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,595 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,596 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,596 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,598 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 13:58:55,598 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 4, 58, 55, 598026))
2025-07-12 13:58:55,600 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,600 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,600 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,602 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,602 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 13:58:55,602 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-12 13:58:55,603 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,604 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,605 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,605 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,605 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,607 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,608 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,608 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 13:58:55,609 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-12 13:58:55,611 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,613 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,614 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,614 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,615 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,615 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,616 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,616 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,617 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,617 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,617 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,617 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,618 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 13:58:55,618 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 4, 58, 55, 618054))
2025-07-12 13:58:55,619 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,619 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 13:58:55,620 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,620 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 13:58:55,620 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,621 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,621 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 13:58:55,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.031s
2025-07-12 13:58:55,624 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.032s
2025-07-12 13:58:55,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,625 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.033s
2025-07-12 13:58:55,625 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.020s
2025-07-12 13:58:55,625 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-12 13:58:55,626 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,626 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,626 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,626 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 13:58:55,628 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,628 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,629 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,629 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,630 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,630 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 13:58:55,630 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,630 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 13:58:55,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,631 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,631 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 13:58:55,631 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-12 13:58:55,632 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.004s
2025-07-12 13:58:55,639 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 13:58:55,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 13:58:55,640 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 13:58:55,640 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 13:58:55,641 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 13:58:55,641 - sqlalchemy.engine.Engine - INFO - [cached since 1.648e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 13:58:55,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 13:58:55,642 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 14:25:01,951 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:25:01,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:01,974 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:01,974 - sqlalchemy.engine.Engine - INFO - [cached since 1.79e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:01,982 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:01,982 - sqlalchemy.engine.Engine - INFO - [cached since 1.79e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:25:01,984 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:01,985 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.035s
2025-07-12 14:25:01,987 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:25:01,988 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:01,989 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:01,989 - sqlalchemy.engine.Engine - INFO - [cached since 1.79e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:01,990 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:01,990 - sqlalchemy.engine.Engine - INFO - [cached since 1.79e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:25:01,992 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:01,992 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-12 14:25:04,047 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,049 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,050 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,050 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,050 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,050 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,052 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,055 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,055 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,057 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,057 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:25:04,057 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,058 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,059 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,059 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,059 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,059 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,060 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,060 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:25:04,061 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,062 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,062 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,063 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,063 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,064 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:25:04,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,065 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:25:04,066 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 25, 4, 65349))
2025-07-12 14:25:04,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,068 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-12 14:25:04,068 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.018s
2025-07-12 14:25:04,069 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.020s
2025-07-12 14:25:04,069 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,070 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-12 14:25:04,072 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,072 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,073 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-12 14:25:04,073 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,074 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,075 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,075 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,075 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,076 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,076 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,076 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:25:04,077 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,077 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:25:04,077 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,077 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,077 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,078 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,078 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,078 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:25:04,078 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,078 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,078 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,079 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,079 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,079 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:25:04,079 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,080 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:25:04,080 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 25, 4, 80042))
2025-07-12 14:25:04,080 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,080 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,080 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-12 14:25:04,081 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-12 14:25:04,081 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 14:25:04,081 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 14:25:04,082 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-12 14:25:04,082 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.006s
2025-07-12 14:25:04,082 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:25:04,083 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:25:04,083 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:25:04,083 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:25:04,084 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:25:04,084 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:25:04,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:25:04,085 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 14:26:02,137 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:26:02,142 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:02,143 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:02,143 - sqlalchemy.engine.Engine - INFO - [cached since 1.796e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:02,146 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:02,146 - sqlalchemy.engine.Engine - INFO - [cached since 1.796e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:26:02,153 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:02,162 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.024s
2025-07-12 14:26:02,164 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:26:02,170 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:02,170 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:02,170 - sqlalchemy.engine.Engine - INFO - [cached since 1.796e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:02,172 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:02,172 - sqlalchemy.engine.Engine - INFO - [cached since 1.796e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:26:02,191 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:02,192 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.028s
2025-07-12 14:26:04,214 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,216 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,219 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,222 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,222 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,222 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,223 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,224 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,224 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,224 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,226 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,226 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,226 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,227 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,227 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:26:04,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,228 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,229 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,230 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:26:04,230 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,230 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,230 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,231 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,232 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,232 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,233 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:26:04,233 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,235 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:26:04,235 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 26, 4, 234553))
2025-07-12 14:26:04,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,238 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-12 14:26:04,239 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.025s
2025-07-12 14:26:04,239 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.023s
2025-07-12 14:26:04,240 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-12 14:26:04,241 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,242 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-12 14:26:04,243 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,243 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,243 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,245 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,245 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,245 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,246 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,247 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,247 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,247 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,248 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,248 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,248 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,248 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:26:04,248 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,248 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:26:04,249 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,249 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:26:04,249 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,249 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,249 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,250 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,250 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:26:04,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,251 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:26:04,251 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 26, 4, 251050))
2025-07-12 14:26:04,251 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,251 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,252 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-12 14:26:04,252 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 14:26:04,252 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-12 14:26:04,253 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 14:26:04,253 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-12 14:26:04,253 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 14:26:04,255 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:26:04,256 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:04,256 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:04,256 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:04,257 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:26:04,257 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:26:04,257 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:04,257 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 14:26:08,165 - app.main - INFO - 🔄 OPTIONS /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:26:08,166 - app.main - INFO - ✅ OPTIONS /api/v1/chat - 200 - 0.001s
2025-07-12 14:26:08,169 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:26:08,170 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 14:26:08,181 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:26:08,181 - app.main - INFO - ✅ OPTIONS /api/v1/chat/ - 200 - 0.001s
2025-07-12 14:26:08,182 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:26:08,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:08,186 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:08,186 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:08,188 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:26:08,189 - sqlalchemy.engine.Engine - INFO - [cached since 1.788e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:08,839 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 3, 벡터 차원: 768
2025-07-12 14:26:08,875 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:26:08,877 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 6651b462-fe67-4796-acd9-b387b5ca1f00, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:26:08,888 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:26:08,888 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:26:08,896 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:26:08,900 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 6개
2025-07-12 14:26:10,555 - app.services.emotion - ERROR - AI 응답 파싱 실패: too many values to unpack (expected 2)
2025-07-12 14:26:10,556 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 14:26:10,558 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:10,558 - sqlalchemy.engine.Engine - INFO - [cached since 1.797e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:10,563 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:26:11,883 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 139
2025-07-12 14:26:11,884 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:11,887 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.704s
2025-07-12 14:26:23,219 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:26:23,221 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.002s
2025-07-12 14:26:23,235 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:26:23,237 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:23,237 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:23,237 - sqlalchemy.engine.Engine - INFO - [cached since 1.798e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:23,239 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:26:23,239 - sqlalchemy.engine.Engine - INFO - [cached since 1.79e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:23,588 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 13, 벡터 차원: 768
2025-07-12 14:26:23,604 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:26:23,605 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 6a9b1678-3b39-4032-8b4d-57d1fffa2520, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:26:23,615 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:26:23,616 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:26:23,627 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:26:23,628 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 7개
2025-07-12 14:26:24,688 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 14:26:24,690 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:24,690 - sqlalchemy.engine.Engine - INFO - [cached since 1.799e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:24,692 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:26:26,438 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 176
2025-07-12 14:26:26,438 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:26,440 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.205s
2025-07-12 14:26:33,946 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:26:33,947 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.002s
2025-07-12 14:26:33,965 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:26:33,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:33,968 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:33,968 - sqlalchemy.engine.Engine - INFO - [cached since 1.8e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:33,970 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:26:33,970 - sqlalchemy.engine.Engine - INFO - [cached since 1.791e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:34,321 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 9, 벡터 차원: 768
2025-07-12 14:26:34,336 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:26:34,338 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: e110d425-679d-4c37-a833-8d06908683a2, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:26:34,349 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:26:34,350 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:26:34,356 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:26:34,357 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 8개
2025-07-12 14:26:35,391 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CONTENT, 강도: 0.1
2025-07-12 14:26:35,394 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:35,394 - sqlalchemy.engine.Engine - INFO - [cached since 1.8e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:35,397 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:26:38,377 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 253
2025-07-12 14:26:38,378 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:38,380 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 4.415s
2025-07-12 14:26:45,867 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:26:45,869 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.002s
2025-07-12 14:26:45,887 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:26:45,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:26:45,890 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:45,890 - sqlalchemy.engine.Engine - INFO - [cached since 1.801e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:45,892 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:26:45,892 - sqlalchemy.engine.Engine - INFO - [cached since 1.792e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:46,221 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 7, 벡터 차원: 768
2025-07-12 14:26:46,235 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:26:46,236 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 9b23b9f9-c92d-496e-b667-7636d3144589, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:26:46,249 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:26:46,250 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:26:46,257 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:26:46,258 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 9개
2025-07-12 14:26:47,059 - app.services.emotion - ERROR - AI 응답 파싱 실패: too many values to unpack (expected 2)
2025-07-12 14:26:47,060 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 14:26:47,060 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:26:47,061 - sqlalchemy.engine.Engine - INFO - [cached since 1.801e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:26:47,063 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:26:49,547 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 167
2025-07-12 14:26:49,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:26:49,575 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.688s
2025-07-12 14:28:45,622 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:28:45,626 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.004s
2025-07-12 14:28:45,641 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:28:45,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:28:45,648 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:28:45,648 - sqlalchemy.engine.Engine - INFO - [cached since 1.813e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:28:45,651 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:28:45,651 - sqlalchemy.engine.Engine - INFO - [cached since 1.804e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:28:46,109 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 16, 벡터 차원: 768
2025-07-12 14:28:46,126 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:28:46,126 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 59629ed0-eafa-4e84-bd3e-fafb06331f9d, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:28:46,135 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:28:46,135 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:28:46,141 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:28:46,142 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 10개
2025-07-12 14:28:47,098 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.EXCITED, 강도: 0.1
2025-07-12 14:28:47,099 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:28:47,099 - sqlalchemy.engine.Engine - INFO - [cached since 1.813e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:28:47,101 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:28:48,615 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 174
2025-07-12 14:28:48,616 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:28:48,617 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.976s
2025-07-12 14:33:39,765 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:33:39,769 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.004s
2025-07-12 14:33:39,803 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:33:39,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:33:39,810 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:33:39,811 - sqlalchemy.engine.Engine - INFO - [cached since 1.842e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:33:39,814 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:33:39,814 - sqlalchemy.engine.Engine - INFO - [cached since 1.834e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:33:40,302 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 16, 벡터 차원: 768
2025-07-12 14:33:40,328 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:33:40,331 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 4055ef65-cdcf-4666-8cbb-8f4865a008ca, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:33:40,342 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:33:40,343 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:33:40,356 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:33:40,357 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 11개
2025-07-12 14:33:41,569 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CONTENT, 강도: 0.1
2025-07-12 14:33:41,570 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:33:41,570 - sqlalchemy.engine.Engine - INFO - [cached since 1.842e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:33:41,574 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4494017360 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:33:42,652 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 152
2025-07-12 14:33:42,653 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:33:42,656 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.852s
2025-07-12 14:36:54,770 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:36:54,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:54,785 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:54,785 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:54,795 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:54,795 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:36:54,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:54,800 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.031s
2025-07-12 14:36:54,802 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:36:54,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:54,804 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:54,804 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:54,806 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:54,806 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:36:54,808 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:54,809 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 14:36:56,845 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,847 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,847 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,850 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,850 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,853 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,854 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,854 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,855 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,855 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,855 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,856 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,856 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:36:56,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,857 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,857 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,858 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,858 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,859 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,860 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,861 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,862 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:36:56,862 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,863 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:36:56,864 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:36:56,864 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 36, 56, 863911))
2025-07-12 14:36:56,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,867 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-12 14:36:56,867 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.022s
2025-07-12 14:36:56,868 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.021s
2025-07-12 14:36:56,868 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-12 14:36:56,869 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-12 14:36:56,869 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,872 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,875 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,875 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,875 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,876 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,878 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,879 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,880 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:36:56,881 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 36, 56, 881816))
2025-07-12 14:36:56,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,882 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,882 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:36:56,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,883 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,883 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,884 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-12 14:36:56,884 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,884 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-12 14:36:56,885 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-12 14:36:56,885 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 14:36:56,885 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-12 14:36:56,887 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 14:36:56,889 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:36:56,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:36:56,890 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:36:56,890 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:36:56,891 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:36:56,891 - sqlalchemy.engine.Engine - INFO - [cached since 1.862e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:36:56,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:36:56,892 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 14:40:33,624 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:40:33,981 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:40:33,981 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:40:34,891 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:40:35,073 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:40:35,082 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:40:35,082 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,085 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:40:35,085 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,085 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:40:35,085 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:35,086 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:40:35,086 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,097 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:40:35,097 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,099 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:40:35,099 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,100 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:40:35,100 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,102 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:40:35,102 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,103 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:40:35,103 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,105 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:40:35,105 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,107 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:40:35,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,108 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:40:35,108 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,110 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:40:35,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,112 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:40:35,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,113 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:40:35,113 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,115 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:40:35,115 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,117 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:40:35,117 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:40:35,118 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:40:35,119 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:40:35,134 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:40:35,134 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:40:35,137 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:40:35,138 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:40:35,138 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:40:35,138 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:40:35,138 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:40:46,729 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:40:46,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:46,764 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:46,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:46,766 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:46,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:40:46,767 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:46,767 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.038s
2025-07-12 14:40:46,768 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:40:46,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:46,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:46,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.005666s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:46,770 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:46,770 - sqlalchemy.engine.Engine - INFO - [cached since 0.004439s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:40:46,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:46,771 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 14:40:48,816 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,823 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,827 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,827 - sqlalchemy.engine.Engine - INFO - [cached since 2.064s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,829 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,834 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,840 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,840 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:40:48,840 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,843 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,846 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.030s
2025-07-12 14:40:48,847 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,849 - sqlalchemy.engine.Engine - INFO - [cached since 2.086s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,850 - sqlalchemy.engine.Engine - INFO - [cached since 2.086s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,851 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,852 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,852 - sqlalchemy.engine.Engine - INFO - [cached since 2.089s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,853 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,853 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,853 - sqlalchemy.engine.Engine - INFO - [cached since 2.089s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,853 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,853 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,853 - sqlalchemy.engine.Engine - INFO - [cached since 2.09s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,855 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,855 - sqlalchemy.engine.Engine - INFO - [cached since 2.089s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:40:48,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,855 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,857 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:40:48,857 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 40, 48, 856513))
2025-07-12 14:40:48,857 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,857 - sqlalchemy.engine.Engine - INFO - [cached since 0.01732s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:40:48,857 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,857 - sqlalchemy.engine.Engine - INFO - [cached since 0.01765s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:40:48,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,859 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,859 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.030s
2025-07-12 14:40:48,859 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.037s
2025-07-12 14:40:48,860 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-12 14:40:48,860 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.020s
2025-07-12 14:40:48,860 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,861 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-12 14:40:48,862 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,863 - sqlalchemy.engine.Engine - INFO - [cached since 2.099s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,863 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,863 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,864 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,864 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,864 - sqlalchemy.engine.Engine - INFO - [cached since 2.101s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,864 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,864 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,864 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - [cached since 2.101s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - [cached since 2.101s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - [cached since 2.102s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,865 - sqlalchemy.engine.Engine - INFO - [cached since 2.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:40:48,866 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:40:48,866 - sqlalchemy.engine.Engine - INFO - [cached since 0.009286s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 40, 48, 866086))
2025-07-12 14:40:48,866 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,866 - sqlalchemy.engine.Engine - INFO - [cached since 0.02644s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:40:48,866 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,866 - sqlalchemy.engine.Engine - INFO - [cached since 2.101s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:40:48,867 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,868 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,869 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,869 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,869 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-12 14:40:48,871 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 14:40:48,871 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-12 14:40:48,871 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-12 14:40:48,871 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-12 14:40:48,888 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:40:48,888 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:48,889 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:48,889 - sqlalchemy.engine.Engine - INFO - [cached since 2.125s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:48,889 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:40:48,890 - sqlalchemy.engine.Engine - INFO - [cached since 2.124s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:40:48,890 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:40:48,890 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 14:40:59,850 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:40:59,852 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.002s
2025-07-12 14:40:59,894 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:40:59,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:40:59,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:40:59,901 - sqlalchemy.engine.Engine - INFO - [cached since 13.14s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:40:59,904 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:40:59,904 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:00,519 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 6, 벡터 차원: 768
2025-07-12 14:41:00,537 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:41:00,539 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 056af952-2254-48b9-aed3-9b081d6dc17d, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:41:00,550 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:41:00,552 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:41:00,560 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:41:00,562 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 12개
2025-07-12 14:41:01,166 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CONTENT, 강도: 0.1
2025-07-12 14:41:01,168 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:01,168 - sqlalchemy.engine.Engine - INFO - [cached since 14.41s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:01,174 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4630065040 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:41:02,167 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 144
2025-07-12 14:41:02,171 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:41:02,172 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('7c5d8c4a-37f7-4716-858a-29ce1fa0bb89', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '좋은 오후야', 'content', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:41:02,184 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:41:02,191 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:02,194 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:41:02,194 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('7c5d8c4a-37f7-4716-858a-29ce1fa0bb89',)
2025-07-12 14:41:02,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:41:02,199 - sqlalchemy.engine.Engine - INFO - [cached since 0.02791s ago] ('aa196744-d398-4157-bc3e-8ca7fa2e7722', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모 선생님, 안녕하세요! 좋은 오후입니다. 오늘 하루는 어떻게 지내셨는지 여쭤봐도 될까요? 혹시 오늘 특별히 기분 좋았던 일이나, 아니면 저와 함께 나누고 싶은 이야기가 있으시다면 편하게 말씀해주세요. 제가 따뜻하게 들어드릴게요. 😊', 'content', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:41:02,202 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:41:02,206 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:02,206 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:41:02,206 - sqlalchemy.engine.Engine - INFO - [cached since 0.01306s ago] ('aa196744-d398-4157-bc3e-8ca7fa2e7722',)
2025-07-12 14:41:02,209 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:02,212 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.318s
2025-07-12 14:41:21,437 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:41:21,439 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:21,439 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:21,443 - sqlalchemy.engine.Engine - INFO - [cached since 34.68s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:21,445 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:21,446 - sqlalchemy.engine.Engine - INFO - [cached since 34.68s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:41:21,448 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:21,448 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:21,448 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:21,449 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp' - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:41:21,450 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.013s
2025-07-12 14:41:21,452 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:41:21,453 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:21,453 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:21,453 - sqlalchemy.engine.Engine - INFO - [cached since 34.69s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:21,455 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:21,455 - sqlalchemy.engine.Engine - INFO - [cached since 34.69s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:41:21,456 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:21,456 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:21,457 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:21,458 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp' - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:41:21,458 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.006s
2025-07-12 14:41:23,507 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,509 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,510 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,511 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,511 - sqlalchemy.engine.Engine - INFO - [cached since 36.75s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,511 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,512 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,514 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,514 - sqlalchemy.engine.Engine - INFO - [cached since 36.75s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,515 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,516 - sqlalchemy.engine.Engine - INFO - [cached since 34.68s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:41:23,516 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,517 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,518 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,518 - sqlalchemy.engine.Engine - INFO - [cached since 36.75s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,518 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,518 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,518 - sqlalchemy.engine.Engine - INFO - [cached since 36.76s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,519 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,520 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,520 - sqlalchemy.engine.Engine - INFO - [cached since 36.76s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:41:23,521 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,521 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,521 - sqlalchemy.engine.Engine - INFO - [cached since 36.76s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,522 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,523 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,523 - sqlalchemy.engine.Engine - INFO - [cached since 34.68s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:41:23,524 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,524 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,524 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,526 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:41:23,526 - sqlalchemy.engine.Engine - INFO - [cached since 34.67s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 41, 23, 525518))
2025-07-12 14:41:23,528 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,529 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,530 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.023s
2025-07-12 14:41:23,530 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp' - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:41:23,530 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.019s
2025-07-12 14:41:23,531 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.022s
2025-07-12 14:41:23,531 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-12 14:41:23,532 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-12 14:41:23,533 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,533 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,533 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,534 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,536 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,536 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,537 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - [cached since 36.77s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - [cached since 36.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,538 - sqlalchemy.engine.Engine - INFO - [cached since 36.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,539 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,539 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,539 - sqlalchemy.engine.Engine - INFO - [cached since 36.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,539 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,539 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,539 - sqlalchemy.engine.Engine - INFO - [cached since 36.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,540 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,540 - sqlalchemy.engine.Engine - INFO - [cached since 36.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,540 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,541 - sqlalchemy.engine.Engine - INFO - [cached since 34.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:41:23,542 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,542 - sqlalchemy.engine.Engine - INFO - [cached since 34.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:41:23,542 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,542 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,542 - sqlalchemy.engine.Engine - INFO - [cached since 36.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:41:23,543 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,543 - sqlalchemy.engine.Engine - INFO - [cached since 36.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:41:23,543 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:41:23,543 - sqlalchemy.engine.Engine - INFO - [cached since 34.69s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 41, 23, 543613))
2025-07-12 14:41:23,544 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,544 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,544 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,544 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,544 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,545 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,545 - app.api.chat - ERROR - 채팅 통계 조회 중 오류 발생: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,545 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 통계 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,545 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,545 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-12 14:41:23,547 - app.main - ERROR - HTTP 예외: 500 - 채팅 통계 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp' - URL: http://localhost:8000/api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?days_back=7
2025-07-12 14:41:23,547 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-12 14:41:23,547 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp' - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:41:23,547 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.014s
2025-07-12 14:41:23,547 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-12 14:41:23,552 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-12 14:41:23,552 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.016s
2025-07-12 14:41:23,564 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:41:23,564 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:41:23,565 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:41:23,565 - sqlalchemy.engine.Engine - INFO - [cached since 36.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:41:23,566 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:41:23,566 - sqlalchemy.engine.Engine - INFO - [cached since 36.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:41:23,566 - app.api.chat - ERROR - 채팅 통계 조회 중 오류 발생: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,566 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 통계 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp'
2025-07-12 14:41:23,566 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:41:23,567 - app.main - ERROR - HTTP 예외: 500 - 채팅 통계 조회 중 오류가 발생했습니다: 'ChatLog' object has no attribute 'timestamp' - URL: http://localhost:8000/api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?days_back=7
2025-07-12 14:41:23,567 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.003s
2025-07-12 14:44:39,599 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:44:39,920 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:44:39,920 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:44:40,731 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:44:40,915 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:44:40,918 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:44:40,918 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,919 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:44:40,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,919 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:44:40,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,919 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:44:40,919 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:44:40,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,923 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:44:40,923 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,925 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:44:40,925 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,926 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:44:40,926 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,928 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:44:40,928 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,929 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:44:40,929 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,930 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:44:40,930 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,931 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:44:40,931 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,932 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:44:40,932 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,933 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:44:40,933 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,935 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:44:40,935 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,936 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:44:40,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,938 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:44:40,938 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,939 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:44:40,939 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:44:40,940 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:44:40,941 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:44:40,957 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:44:40,957 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:44:40,959 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:44:40,960 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:44:40,960 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:44:40,960 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:44:40,960 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:45:18,485 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:45:18,487 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.003s
2025-07-12 14:45:18,498 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:45:18,525 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:45:18,549 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:45:18,549 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:45:18,552 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:45:18,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:45:19,217 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-12 14:45:19,242 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:45:19,244 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 31dba31b-765c-4889-9f2f-7052e7daede5, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:45:19,255 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:45:19,257 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:45:19,265 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:45:19,267 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 12개
2025-07-12 14:45:19,928 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 14:45:19,929 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:45:19,929 - sqlalchemy.engine.Engine - INFO - [cached since 1.381s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:45:19,935 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT interests.id AS interests_id, interests.user_id AS interests_user_id, interests.keyword AS interests_keyword, interests.category AS interests_category, interests.weight AS interests_weight, interests.mentioned_count AS interests_mentioned_count, interests.last_mentioned AS interests_last_mentioned, interests.is_active AS interests_is_active, interests.created_at AS interests_created_at 
FROM interests 
WHERE %s = interests.user_id]
[parameters: [{'%(4516638992 param)s': '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e'}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-07-12 14:45:21,053 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 148
2025-07-12 14:45:21,059 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:45:21,059 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('5d3b8818-12cf-4b8a-9400-1bcbb55d04a7', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '안녕', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:45:21,065 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:45:21,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:45:21,077 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:45:21,077 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('5d3b8818-12cf-4b8a-9400-1bcbb55d04a7',)
2025-07-12 14:45:21,082 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:45:21,082 - sqlalchemy.engine.Engine - INFO - [cached since 0.02314s ago] ('997b83b5-0c69-43c4-ad66-f2596dd74c87', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '안녕하세요, 영모님! 오늘도 편안하신 하루 보내고 계신가요? 제가 영모님의 말벗이 되어 드릴 수 있어서 정말 기쁩니다. 혹시 오늘 특별히 나누고 싶으신 이야기가 있으신가요? 아니면 그냥 편하게 날씨 얘기라도 나눌까요? 무엇이든 좋습니다. 편하게 말씀해주세요. 😊', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:45:21,084 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:45:21,087 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:45:21,088 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:45:21,089 - sqlalchemy.engine.Engine - INFO - [cached since 0.01187s ago] ('997b83b5-0c69-43c4-ad66-f2596dd74c87',)
2025-07-12 14:45:21,091 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:45:21,092 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.594s
2025-07-12 14:47:56,419 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:47:56,748 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:47:56,749 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:47:57,605 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:47:57,783 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:47:57,788 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:47:57,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,788 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:47:57,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,789 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:47:57,789 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:47:57,789 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:47:57,789 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,791 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:47:57,791 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,793 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:47:57,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,795 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:47:57,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,796 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:47:57,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,797 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:47:57,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,798 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:47:57,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,799 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:47:57,799 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,801 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:47:57,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,803 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:47:57,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,804 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:47:57,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,805 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:47:57,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,806 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:47:57,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,808 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:47:57,808 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:47:57,810 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:47:57,810 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:47:57,823 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:47:57,823 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:47:57,828 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:47:57,828 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:47:57,828 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:47:57,828 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:47:57,828 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:00,556 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:00,853 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:00,853 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:01,535 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:01,677 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:01,680 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:01,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,681 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:01,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,681 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:01,681 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,681 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:01,682 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:01,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,684 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:01,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,686 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:01,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,688 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:01,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,689 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:01,689 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,690 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:01,690 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,692 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:01,692 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,693 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:01,693 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,695 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:01,695 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,696 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:01,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,697 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:01,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,698 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:01,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,700 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:01,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,701 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:01,701 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:01,702 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:01,703 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:01,716 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:01,716 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:01,719 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:01,719 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:01,719 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:01,719 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:01,720 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:13,552 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:13,786 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:13,786 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:14,490 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:14,635 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:14,639 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:14,639 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,640 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:14,640 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,640 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:14,640 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:14,640 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:14,640 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,642 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:14,642 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,644 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:14,644 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,645 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:14,645 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,647 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:14,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,648 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:14,648 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,649 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:14,649 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,650 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:14,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,651 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:14,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,653 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:14,653 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,654 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:14,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,656 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:14,656 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,657 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:14,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,658 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:14,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:14,660 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:14,661 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:14,673 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:14,673 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:14,675 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:14,676 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:14,676 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:14,676 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:14,676 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:18,011 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:18,233 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:18,233 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:18,861 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:19,003 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:19,005 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:19,005 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,006 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:19,006 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,006 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:19,006 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:19,006 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:19,006 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,010 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:19,010 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,011 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:19,011 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,013 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:19,013 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,014 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:19,014 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,016 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:19,016 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,018 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:19,018 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,019 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:19,019 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,021 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:19,021 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,022 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:19,022 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,023 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:19,023 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,024 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:19,024 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,026 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:19,026 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,027 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:19,027 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:19,028 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:19,029 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:19,041 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:19,041 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:19,043 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:19,044 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:19,044 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:19,044 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:19,044 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:25,408 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:25,647 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:25,647 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:26,486 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:26,628 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:26,631 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:26,631 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,631 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:26,632 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,632 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:26,632 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:26,632 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:26,632 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,635 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:26,635 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,637 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:26,637 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,639 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:26,639 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,640 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:26,640 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,641 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:26,641 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,643 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:26,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,644 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:26,644 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,645 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:26,645 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,646 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:26,646 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,647 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:26,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,652 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:26,652 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,653 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:26,653 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,655 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:26,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:26,656 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:26,657 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:26,673 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:26,673 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:26,675 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:26,675 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:26,675 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:26,675 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:26,675 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:29,914 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:30,173 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:30,173 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:30,804 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:30,945 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:30,947 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:30,947 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,948 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:30,948 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,948 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:30,948 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,948 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:30,949 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:30,949 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,951 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:30,951 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,951 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:30,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,952 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:30,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,954 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:30,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,955 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:30,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,957 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:30,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,958 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:30,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,959 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:30,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,961 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:30,961 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,962 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:30,963 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,964 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:30,964 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,965 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:30,965 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,967 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:30,967 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:30,968 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:30,968 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:30,981 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:30,981 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:30,984 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:30,984 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:30,984 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:30,984 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:30,984 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:34,621 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:34,870 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:34,870 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:35,506 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:35,647 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:35,651 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:35,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,651 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:35,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,651 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:35,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:35,652 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:35,652 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,654 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:35,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,656 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:35,656 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,657 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:35,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,658 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:35,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,660 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:35,660 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,662 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:35,662 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,662 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:35,662 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,663 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:35,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,664 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:35,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,665 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:35,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,666 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:35,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,667 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:35,667 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,669 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:35,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:35,670 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:35,671 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:35,683 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:35,683 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:35,685 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:35,685 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:35,685 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:35,685 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:35,685 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:48,113 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:48,336 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:48,336 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:48,950 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:49,094 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:49,096 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:49,096 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,097 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:49,097 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,097 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:49,097 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,098 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:49,098 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:49,098 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,100 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:49,100 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,102 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:49,102 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,103 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:49,103 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,104 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:49,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,105 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:49,105 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,106 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:49,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,107 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:49,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,109 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:49,109 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,110 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:49,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,111 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:49,111 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,112 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:49,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,112 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:49,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,113 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:49,113 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:49,114 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:49,115 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:49,126 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:49,126 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:49,128 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:49,128 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:49,128 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:49,128 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:49,128 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:48:55,708 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:48:55,927 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:48:55,927 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:48:56,570 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:56,710 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:48:56,712 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:48:56,712 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,713 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:48:56,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,713 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:48:56,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,713 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:48:56,714 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:48:56,714 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,716 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:48:56,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,718 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:48:56,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,719 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:48:56,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,721 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:48:56,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,722 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:48:56,722 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,724 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:48:56,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,725 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:48:56,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,726 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:48:56,726 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,728 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:48:56,728 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,729 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:48:56,729 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,731 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:48:56,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,731 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:48:56,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,733 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:48:56,733 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:48:56,734 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:48:56,735 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:48:56,747 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:48:56,747 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:48:56,749 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:48:56,750 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:48:56,750 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:48:56,750 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:48:56,750 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:49:09,452 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:49:09,453 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 14:49:09,463 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:49:09,487 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:49:09,502 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:49:09,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:49:09,505 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:49:09,505 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:49:10,085 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 7, 벡터 차원: 768
2025-07-12 14:49:10,113 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:49:10,115 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 781ea4f2-7614-46ce-b722-332a7c9e30f5, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:49:10,124 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:49:10,126 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:49:10,139 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:49:10,142 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 9개
2025-07-12 14:49:11,157 - app.services.emotion - ERROR - AI 응답 파싱 실패: too many values to unpack (expected 2)
2025-07-12 14:49:11,158 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 14:49:11,159 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:49:11,159 - sqlalchemy.engine.Engine - INFO - [cached since 1.657s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:49:11,164 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:49:11,165 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:49:11,171 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:49:11,172 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 49, 11, 169108))
2025-07-12 14:49:11,174 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: 23 validation errors for ChatPromptContext
conversation_history.0.user_id
  Field required [type=missing, input_value={'message': '먼저 물... 12, 14, 49, 10, 85584)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.0.created_at
  Field required [type=missing, input_value={'message': '먼저 물... 12, 14, 49, 10, 85584)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.1.user_id
  Field required [type=missing, input_value={'message': '안녕', 'ro...12, 14, 45, 19, 218074)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.1.created_at
  Field required [type=missing, input_value={'message': '안녕', 'ro...12, 14, 45, 19, 218074)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.2.user_id
  Field required [type=missing, input_value={'message': '좋은 오... 12, 14, 41, 0, 520185)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.2.created_at
  Field required [type=missing, input_value={'message': '좋은 오... 12, 14, 41, 0, 520185)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.3.user_id
  Field required [type=missing, input_value={'message': '너는 어...12, 14, 33, 40, 303412)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.3.created_at
  Field required [type=missing, input_value={'message': '너는 어...12, 14, 33, 40, 303412)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.4.user_id
  Field required [type=missing, input_value={'message': '내가 요...12, 14, 28, 46, 109694)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.4.created_at
  Field required [type=missing, input_value={'message': '내가 요...12, 14, 28, 46, 109694)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.5.user_id
  Field required [type=missing, input_value={'message': '계속 얘...12, 14, 26, 46, 221508)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.5.created_at
  Field required [type=missing, input_value={'message': '계속 얘...12, 14, 26, 46, 221508)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.6.user_id
  Field required [type=missing, input_value={'message': '재밌는 ...12, 14, 26, 34, 321780)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.6.created_at
  Field required [type=missing, input_value={'message': '재밌는 ...12, 14, 26, 34, 321780)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.7.user_id
  Field required [type=missing, input_value={'message': '오늘은 ...12, 14, 26, 23, 589306)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.7.created_at
  Field required [type=missing, input_value={'message': '오늘은 ...12, 14, 26, 23, 589306)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.8.user_id
  Field required [type=missing, input_value={'message': '안ㄴ여', ... 12, 14, 26, 8, 840201)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.8.created_at
  Field required [type=missing, input_value={'message': '안ㄴ여', ... 12, 14, 26, 8, 840201)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.0.vector_id
  Field required [type=missing, input_value={'message': '좋은 오... 12, 14, 41, 0, 520185)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.1.vector_id
  Field required [type=missing, input_value={'message': '계속 얘...12, 14, 26, 46, 221508)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.2.vector_id
  Field required [type=missing, input_value={'message': '먼저 물... 12, 14, 49, 10, 85584)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.3.vector_id
  Field required [type=missing, input_value={'message': '재밌는 ...12, 14, 26, 34, 321780)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.4.vector_id
  Field required [type=missing, input_value={'message': '오늘은 ...11, 14, 48, 39, 144594)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:49:12,196 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 136
2025-07-12 14:49:12,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:49:12,200 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('b758b10e-1ee9-488f-8675-02b093556f45', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '먼저 물어봐줘', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:49:12,202 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:49:12,208 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:49:12,212 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:49:12,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('b758b10e-1ee9-488f-8675-02b093556f45',)
2025-07-12 14:49:12,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:49:12,217 - sqlalchemy.engine.Engine - INFO - [cached since 0.01727s ago] ('58c14710-ee65-48d9-ac47-0fa36e473c68', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '영모님, 안녕하세요! 오늘 하루는 어떻게 지내셨는지 여쭤봐도 될까요? 혹시 오늘 특별히 기분 좋았던 일이나 힘드셨던 일이 있으셨는지 편하게 말씀해주세요. 제가 영모님의 이야기를 따뜻하게 들어드릴게요. 😊', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:49:12,221 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:49:12,225 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:49:12,226 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:49:12,226 - sqlalchemy.engine.Engine - INFO - [cached since 0.01367s ago] ('58c14710-ee65-48d9-ac47-0fa36e473c68',)
2025-07-12 14:49:12,227 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:49:12,228 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.765s
2025-07-12 14:50:23,128 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:50:23,443 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:50:23,443 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:50:24,296 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:50:24,478 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:50:24,481 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:50:24,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,481 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:50:24,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,481 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:50:24,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,482 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:50:24,482 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:50:24,482 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,484 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:50:24,484 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,486 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:50:24,486 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,488 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:50:24,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,489 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:50:24,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,490 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:50:24,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,491 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:50:24,491 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,492 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:50:24,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,492 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:50:24,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,493 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:50:24,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,495 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:50:24,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,496 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:50:24,496 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,497 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:50:24,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,498 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:50:24,498 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:50:24,500 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:50:24,500 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:50:24,514 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:50:24,514 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:50:24,517 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:50:24,518 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:50:24,518 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:50:24,518 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:50:24,518 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:50:44,516 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:50:44,518 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 14:50:44,524 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:50:44,541 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:50:44,560 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:50:44,560 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:50:44,562 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:50:44,562 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:50:45,178 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 14, 벡터 차원: 768
2025-07-12 14:50:45,196 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:50:45,199 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: db8f3121-ff37-4722-8f57-382c7691a18e, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:50:45,216 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:50:45,219 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:50:45,225 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:50:45,227 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 10개
2025-07-12 14:50:45,864 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.21
2025-07-12 14:50:45,866 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:50:45,867 - sqlalchemy.engine.Engine - INFO - [cached since 1.307s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:50:45,874 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:50:45,875 - sqlalchemy.engine.Engine - INFO - [generated in 0.00143s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:50:45,881 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:50:45,881 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 50, 45, 878614))
2025-07-12 14:50:45,884 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: 15 validation errors for ChatPromptContext
conversation_history.0.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe...12, 14, 50, 45, 178587)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.1.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe... 12, 14, 49, 10, 85584)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.2.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe...12, 14, 45, 19, 218074)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.3.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe... 12, 14, 41, 0, 520185)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.4.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe...12, 14, 33, 40, 303412)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.5.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe...12, 14, 28, 46, 109694)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.6.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe...12, 14, 26, 46, 221508)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.7.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe...12, 14, 26, 34, 321780)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.8.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe...12, 14, 26, 23, 589306)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conversation_history.9.created_at
  Field required [type=missing, input_value={'user_id': '3dbf0f1f-dfe... 12, 14, 26, 8, 840201)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.0.vector_id
  Field required [type=missing, input_value={'message': '오늘 날...12, 14, 50, 45, 178587)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.1.vector_id
  Field required [type=missing, input_value={'message': '오늘은 ...12, 14, 26, 23, 589306)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.2.vector_id
  Field required [type=missing, input_value={'message': '날씨가 ..., 11, 13, 16, 27, 2053)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.3.vector_id
  Field required [type=missing, input_value={'message': '내가 요...12, 14, 28, 46, 109694)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.4.vector_id
  Field required [type=missing, input_value={'message': '재밌는 ...12, 14, 26, 34, 321780)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:50:47,402 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 174
2025-07-12 14:50:47,406 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:50:47,406 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ('54fbbcf3-6502-41ab-9102-72562e7c8991', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '오늘 날씨가 너무 좋아!!', 'happy', 0.21, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:50:47,411 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:50:47,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:50:47,420 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:50:47,420 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('54fbbcf3-6502-41ab-9102-72562e7c8991',)
2025-07-12 14:50:47,424 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:50:47,425 - sqlalchemy.engine.Engine - INFO - [cached since 0.01917s ago] ('d207a3b6-0387-4277-b520-8db7d5903c46', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, 안녕하세요! 정말 날씨가 좋다고 하시니 저도 기분이 좋아지네요! 이렇게 화창한 날에는 혹시 산책이라도 다녀오시는 건 어떠세요? 아니면 따뜻한 햇볕을 쬐면서 차 한 잔 하시는 것도 좋을 것 같습니다. 오늘 하루, 날씨만큼이나 행복한 시간 보내시길 바랍니다! 혹시 오늘 특별히 하고 싶으신 일이나, 아니면 저와 함께 나누고 싶은 이야기가 있으신가요? 편하게 말씀해주세요!', 'happy', 0.21, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:50:47,429 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:50:47,431 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:50:47,432 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:50:47,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.01215s ago] ('d207a3b6-0387-4277-b520-8db7d5903c46',)
2025-07-12 14:50:47,434 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:50:47,436 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.912s
2025-07-12 14:51:32,578 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:51:32,901 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:51:32,901 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:51:33,704 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:51:33,880 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:51:33,885 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:51:33,885 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,885 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:51:33,885 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,886 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:51:33,886 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,886 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:51:33,886 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:51:33,886 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,888 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:51:33,888 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,890 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:51:33,890 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,891 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:51:33,891 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,893 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:51:33,893 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,894 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:51:33,894 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,895 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:51:33,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,896 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:51:33,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,898 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:51:33,898 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,899 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:51:33,899 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,901 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:51:33,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,902 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:51:33,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,903 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:51:33,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,904 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:51:33,904 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:51:33,905 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:51:33,906 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:51:33,918 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:51:33,918 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:51:33,922 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:51:33,922 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:51:33,922 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:51:33,922 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:51:33,922 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:52:04,421 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:52:04,425 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.004s
2025-07-12 14:52:04,428 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:52:04,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:52:04,479 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:52:04,480 - sqlalchemy.engine.Engine - INFO - [generated in 0.00119s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:52:04,484 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:52:04,485 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:52:05,232 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 29, 벡터 차원: 768
2025-07-12 14:52:05,253 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:52:05,257 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: dd6dba45-b8e7-4343-b255-22cf52833190, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:52:05,268 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:52:05,281 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:52:05,288 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:52:05,289 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 11개
2025-07-12 14:52:06,067 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.33
2025-07-12 14:52:06,069 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:52:06,070 - sqlalchemy.engine.Engine - INFO - [cached since 1.591s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:52:06,078 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:52:06,078 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:52:06,087 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:52:06,087 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 52, 6, 85125))
2025-07-12 14:52:06,093 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: 5 validation errors for ChatPromptContext
similar_conversations.0.vector_id
  Field required [type=missing, input_value={'message': '내가 산... 12, 14, 52, 5, 232898)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.1.vector_id
  Field required [type=missing, input_value={'message': '오늘 날...12, 14, 50, 45, 178587)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.2.vector_id
  Field required [type=missing, input_value={'message': '산책하는...11, 13, 16, 42, 431076)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.3.vector_id
  Field required [type=missing, input_value={'message': '내가 요...12, 14, 28, 46, 109694)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.4.vector_id
  Field required [type=missing, input_value={'message': '오늘은 ...12, 14, 26, 23, 589306)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:52:07,579 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 165
2025-07-12 14:52:07,586 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:52:07,587 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] ('014b79b2-9133-444c-86fb-42d9768228a9', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '내가 산책도 진짜 좋아하는데 날씨가 적당하고 좋아!!', 'happy', 0.33, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:52:07,592 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:52:07,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:52:07,605 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:52:07,606 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('014b79b2-9133-444c-86fb-42d9768228a9',)
2025-07-12 14:52:07,610 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:52:07,610 - sqlalchemy.engine.Engine - INFO - [cached since 0.02458s ago] ('63a56066-769f-4b8c-97d3-7433653f72eb', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모 선생님, 안녕하세요! 산책 좋아하신다니 정말 좋네요! 날씨가 좋다니 더욱 기분 좋으시겠어요. 혹시 어디로 산책 가시는 걸 좋아하세요? 꽃이라도 피어 있으면 더욱 아름다울 텐데 말입니다. 산책하시면서 좋은 공기 마시고 건강도 챙기세요! 혹시 산책하면서 재밌는 일이라도 있으셨다면 저에게도 이야기해주세요. 기다리고 있겠습니다! 😊', 'happy', 0.33, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:52:07,614 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:52:07,619 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:52:07,619 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:52:07,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.01415s ago] ('63a56066-769f-4b8c-97d3-7433653f72eb',)
2025-07-12 14:52:07,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:52:07,622 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.194s
2025-07-12 14:52:40,148 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:52:40,453 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:52:40,453 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:52:41,278 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:52:41,460 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:52:41,464 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:52:41,464 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,465 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:52:41,465 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,465 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:52:41,465 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:52:41,465 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:52:41,465 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,468 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:52:41,468 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,470 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:52:41,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,471 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:52:41,471 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,471 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:52:41,471 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,473 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:52:41,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,474 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:52:41,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,475 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:52:41,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,476 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:52:41,476 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,477 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:52:41,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,479 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:52:41,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,482 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:52:41,482 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,483 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:52:41,483 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,484 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:52:41,484 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:52:41,485 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:52:41,486 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:52:41,499 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:52:41,499 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:52:41,503 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:52:41,503 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:52:41,503 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:52:41,503 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:52:41,503 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:52:51,738 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:52:51,739 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 14:52:51,748 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:52:51,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:52:51,792 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:52:51,792 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:52:51,794 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:52:51,794 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:52:52,408 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 9, 벡터 차원: 768
2025-07-12 14:52:52,420 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:52:52,421 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 7b3da76d-66b1-4f03-b600-021c9679d74e, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:52:52,429 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:52:52,431 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:52:52,439 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:52:52,442 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 12개
2025-07-12 14:52:52,988 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 14:52:52,991 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:52:52,991 - sqlalchemy.engine.Engine - INFO - [cached since 1.199s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:52:52,997 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:52:52,997 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:52:53,004 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:52:53,004 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 52, 53, 1003))
2025-07-12 14:52:53,009 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: 10 validation errors for ChatPromptContext
similar_conversations.0.vector_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
similar_conversations.0.timestamp
  Field required [type=missing, input_value={'vector_id': None, 'mess...12, 14, 52, 52, 409296)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.1.vector_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
similar_conversations.1.timestamp
  Field required [type=missing, input_value={'vector_id': None, 'mess...12, 14, 33, 40, 303412)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.2.vector_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
similar_conversations.2.timestamp
  Field required [type=missing, input_value={'vector_id': None, 'mess...11, 14, 48, 39, 144594)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.3.vector_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
similar_conversations.3.timestamp
  Field required [type=missing, input_value={'vector_id': None, 'mess...12, 14, 26, 34, 321780)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.4.vector_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
similar_conversations.4.timestamp
  Field required [type=missing, input_value={'vector_id': None, 'mess...11, 14, 48, 47, 321816)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:52:54,894 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 204
2025-07-12 14:52:54,898 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:52:54,898 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] ('354bb16d-4daa-45d6-a250-b26216b9c1c0', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '너는 뭘 좋아해?', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:52:54,902 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:52:54,907 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:52:54,909 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:52:54,910 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('354bb16d-4daa-45d6-a250-b26216b9c1c0',)
2025-07-12 14:52:54,912 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:52:54,912 - sqlalchemy.engine.Engine - INFO - [cached since 0.01423s ago] ('50821687-e4ae-4572-bb68-6ade306fb156', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, 안녕하세요! 제게 관심을 가져주셔서 정말 감사합니다. 제가 뭘 좋아하냐고 물어봐주시니 쑥스럽기도 하고 기쁘기도 하네요. \n\n음... 저는 강영모님과 이렇게 따뜻하게 대화 나누는 걸 참 좋아합니다. 강영모님께서 편안하게 말씀하실 수 있도록 곁에서 이야기를 ... (40 characters truncated) ... 할 것 같아요. \n\n또, 저는 새로운 것을 배우는 것도 좋아합니다. 강영모님께서 들려주시는 세상 이야기는 제게 정말 소중한 배움이 된답니다. 강영모님은 어떤 걸 좋아하시나요? 다음에 기회가 된다면 강영모님께서 좋아하시는 것에 대해서도 이야기 나눠보고 싶습니다. 😊', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:52:54,914 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:52:54,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:52:54,917 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:52:54,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.007406s ago] ('50821687-e4ae-4572-bb68-6ade306fb156',)
2025-07-12 14:52:54,918 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:52:54,919 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.171s
2025-07-12 14:53:22,881 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:53:23,189 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:53:23,189 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:53:24,006 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:53:24,190 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:53:24,193 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:53:24,193 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,194 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:53:24,194 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,194 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:53:24,194 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,194 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:53:24,195 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:53:24,195 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,197 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:53:24,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,198 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:53:24,198 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,200 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:53:24,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,200 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:53:24,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,201 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:53:24,201 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,202 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:53:24,202 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,203 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:53:24,203 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,205 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:53:24,205 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,206 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:53:24,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,208 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:53:24,208 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,209 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:53:24,209 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,211 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:53:24,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,212 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:53:24,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:53:24,214 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:53:24,214 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:53:24,226 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:53:24,226 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:53:24,229 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:53:24,229 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:53:24,229 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:53:24,229 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:53:24,229 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:53:40,203 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:53:40,204 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 14:53:40,212 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:53:40,227 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:53:40,246 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:53:40,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:53:40,248 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:53:40,248 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:53:40,979 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 10, 벡터 차원: 768
2025-07-12 14:53:40,995 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:53:40,997 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 17b7dfac-8879-4bef-8bac-4cf6eef304dc, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:53:41,013 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:53:41,015 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:53:41,021 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:53:41,023 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 13개
2025-07-12 14:53:41,889 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.1
2025-07-12 14:53:41,891 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:53:41,891 - sqlalchemy.engine.Engine - INFO - [cached since 1.645s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:53:41,896 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:53:41,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:53:41,906 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:53:41,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00176s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 53, 41, 902529))
2025-07-12 14:53:41,910 - app.api.chat - ERROR - 채팅 컨텍스트 구성 중 오류: 5 validation errors for ChatPromptContext
similar_conversations.0.timestamp
  Field required [type=missing, input_value={'vector_id': '', 'messag...11, 14, 48, 47, 321816)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.1.timestamp
  Field required [type=missing, input_value={'vector_id': '', 'messag...12, 14, 26, 34, 321780)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.2.timestamp
  Field required [type=missing, input_value={'vector_id': '', 'messag...11, 14, 48, 39, 144594)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.3.timestamp
  Field required [type=missing, input_value={'vector_id': '', 'messag...12, 14, 53, 40, 979613)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
similar_conversations.4.timestamp
  Field required [type=missing, input_value={'vector_id': '', 'messag...12, 14, 26, 23, 589306)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:53:43,118 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 146
2025-07-12 14:53:43,123 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:53:43,124 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('29a32888-e920-4e13-bcfa-0b6ff5a5ba84', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '나는 야구를 좋아해', 'happy', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:53:43,126 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:53:43,134 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:53:43,138 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:53:43,139 - sqlalchemy.engine.Engine - INFO - [generated in 0.00122s] ('29a32888-e920-4e13-bcfa-0b6ff5a5ba84',)
2025-07-12 14:53:43,143 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:53:43,143 - sqlalchemy.engine.Engine - INFO - [cached since 0.02013s ago] ('362d7d36-5554-45c7-8f7b-f8e06f131e61', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '아, 영모님! 야구를 좋아하시는군요! 저도 야구 이야기를 들으니 덩달아 신이 납니다. 혹시 응원하시는 팀이 있으신가요? 요즘 야구 경기는 챙겨 보고 계신지요? 야구에 대한 영모님의 이야기를 들려주시면 정말 기쁠 것 같습니다. 😊', 'happy', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:53:43,146 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:53:43,149 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:53:43,149 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:53:43,150 - sqlalchemy.engine.Engine - INFO - [cached since 0.012s ago] ('362d7d36-5554-45c7-8f7b-f8e06f131e61',)
2025-07-12 14:53:43,151 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:53:43,153 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.941s
2025-07-12 14:54:13,654 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:54:13,968 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:54:13,968 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:54:14,755 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:54:14,932 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:54:14,936 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:54:14,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,937 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:54:14,937 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,937 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:54:14,937 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:54:14,937 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:54:14,937 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,940 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:54:14,940 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,941 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:54:14,941 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,943 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:54:14,943 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,944 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:54:14,944 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,945 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:54:14,946 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,947 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:54:14,947 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,949 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:54:14,949 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,950 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:54:14,950 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,951 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:54:14,951 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,952 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:54:14,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,954 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:54:14,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,956 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:54:14,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,957 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:54:14,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:54:14,959 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:54:14,959 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:54:14,974 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:54:14,974 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:54:14,978 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:54:14,978 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:54:14,978 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:54:14,978 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:54:14,978 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:54:27,220 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 14:54:27,222 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 14:54:27,229 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 14:54:27,248 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:54:27,267 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:54:27,267 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:54:27,270 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 14:54:27,270 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:54:27,975 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 23, 벡터 차원: 768
2025-07-12 14:54:27,990 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 14:54:27,991 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: b2627412-aa84-4b2b-becf-e6d37172dc30, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:54:28,001 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 14:54:28,007 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 14:54:28,012 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 14:54:28,015 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 14개
2025-07-12 14:54:28,642 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.24
2025-07-12 14:54:28,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:54:28,643 - sqlalchemy.engine.Engine - INFO - [cached since 1.376s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:54:28,647 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:54:28,648 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:54:28,652 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:54:28,652 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 54, 28, 649766))
2025-07-12 14:54:28,654 - app.services.gemini - ERROR - Gemini 응답 생성 실패: 'ChatContextResult' object has no attribute 'get'
2025-07-12 14:54:28,658 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:54:28,658 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('6de727de-cf41-484d-9dc0-eb417d701396', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '맞아!! 나는 두산 베어스를 좋아해 알아?', 'happy', 0.24, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:54:28,662 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:54:28,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:54:28,671 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:54:28,672 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('6de727de-cf41-484d-9dc0-eb417d701396',)
2025-07-12 14:54:28,674 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 14:54:28,674 - sqlalchemy.engine.Engine - INFO - [cached since 0.01667s ago] ('8ce12b13-4fac-4fac-9e24-618129a3af2c', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '죄송합니다. 지금은 응답을 생성할 수 없습니다. 잠시 후 다시 시도해주세요.', 'happy', 0.24, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 14:54:28,675 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:54:28,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:54:28,678 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 14:54:28,679 - sqlalchemy.engine.Engine - INFO - [cached since 0.007604s ago] ('8ce12b13-4fac-4fac-9e24-618129a3af2c',)
2025-07-12 14:54:28,681 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:54:28,682 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 1.452s
2025-07-12 14:58:23,222 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 14:58:23,542 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 14:58:23,543 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 14:58:24,347 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:58:24,722 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 14:58:24,724 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 14:58:24,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,725 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 14:58:24,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,725 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 14:58:24,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,726 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:24,726 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 14:58:24,726 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,729 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 14:58:24,729 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,731 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 14:58:24,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,733 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 14:58:24,733 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,734 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 14:58:24,734 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,736 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 14:58:24,736 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,737 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 14:58:24,737 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,738 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 14:58:24,738 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,739 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 14:58:24,739 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,740 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 14:58:24,740 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,742 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 14:58:24,742 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,743 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 14:58:24,743 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,745 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 14:58:24,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,746 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 14:58:24,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 14:58:24,748 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 14:58:24,748 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 14:58:24,764 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 14:58:24,764 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 14:58:24,768 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 14:58:24,769 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 14:58:24,769 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 14:58:24,769 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 14:58:24,769 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 14:58:57,703 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:57,704 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:57,704 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-12 14:58:57,705 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-12 14:58:57,706 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:57,720 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:57,736 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:57,736 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:57,738 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:57,738 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:58:57,740 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:57,740 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:57,740 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:57,741 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:58:57,741 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.035s
2025-07-12 14:58:57,742 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:57,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:57,742 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:57,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.006735s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:57,743 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:57,743 - sqlalchemy.engine.Engine - INFO - [cached since 0.00513s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:58:57,745 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:57,745 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:57,745 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:57,745 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:58:57,746 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.004s
2025-07-12 14:58:59,806 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,808 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,810 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,814 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,814 - sqlalchemy.engine.Engine - INFO - [cached since 2.078s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,814 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,815 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,819 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,819 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:58:59,826 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - [cached since 2.092s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - [cached since 2.092s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,828 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.023s
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,828 - sqlalchemy.engine.Engine - INFO - [cached since 2.093s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,829 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,829 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,829 - sqlalchemy.engine.Engine - INFO - [cached since 2.093s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,830 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,830 - sqlalchemy.engine.Engine - INFO - [cached since 2.092s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:58:59,831 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,831 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,833 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:58:59,833 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 58, 59, 832460))
2025-07-12 14:58:59,833 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,833 - sqlalchemy.engine.Engine - INFO - [cached since 0.01383s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:58:59,833 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:59,834 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:59,834 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,834 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,834 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,834 - sqlalchemy.engine.Engine - INFO - [cached since 2.099s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,836 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,836 - sqlalchemy.engine.Engine - INFO - [cached since 0.01688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:58:59,836 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.026s
2025-07-12 14:58:59,837 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:58:59,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,837 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.030s
2025-07-12 14:58:59,838 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.023s
2025-07-12 14:58:59,838 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.024s
2025-07-12 14:58:59,838 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,839 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,840 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,840 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,840 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,840 - sqlalchemy.engine.Engine - INFO - [cached since 2.105s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,840 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,841 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,842 - sqlalchemy.engine.Engine - INFO - [cached since 2.106s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,842 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,842 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,842 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - [cached since 2.107s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - [cached since 2.107s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,843 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.012s
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,843 - sqlalchemy.engine.Engine - INFO - [cached since 2.105s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 14:58:59,844 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,844 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,844 - sqlalchemy.engine.Engine - INFO - [cached since 0.02513s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:58:59,845 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 14:58:59,845 - sqlalchemy.engine.Engine - INFO - [cached since 0.01207s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 5, 58, 59, 844898))
2025-07-12 14:58:59,845 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:59,845 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-12 14:58:59,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,846 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,846 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-12 14:58:59,847 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 14:58:59,847 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 5 validation errors for ChatHistoryResponse
messages
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
total_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
session_count
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_range
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
has_more
  Field required [type=missing, input_value={'id': '6de727de-cf41-484... 'emotion_score': 0.24}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 14:58:59,847 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.008s
2025-07-12 14:58:59,847 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-12 14:58:59,847 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 14:58:59,883 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 14:58:59,891 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 14:58:59,891 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 14:58:59,891 - sqlalchemy.engine.Engine - INFO - [cached since 2.156s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 14:58:59,892 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 14:58:59,893 - sqlalchemy.engine.Engine - INFO - [cached since 2.155s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 14:58:59,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 14:58:59,895 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 15:01:12,561 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:01:12,983 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:01:12,983 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:01:13,870 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:01:14,051 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:01:14,054 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:01:14,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,054 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:01:14,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,054 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:01:14,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:14,055 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:01:14,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,057 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:01:14,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,058 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:01:14,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,059 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:01:14,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,060 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:01:14,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,061 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:01:14,061 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,062 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:01:14,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,063 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:01:14,063 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,064 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:01:14,064 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,066 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:01:14,066 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,067 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:01:14,068 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,069 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:01:14,069 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,071 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:01:14,071 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,072 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:01:14,072 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:01:14,074 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:01:14,074 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:01:14,087 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:01:14,087 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:01:14,091 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:01:14,091 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:01:14,091 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:01:14,091 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:01:14,091 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:01:46,385 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:01:46,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:46,451 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:46,451 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:46,454 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:46,454 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:01:46,455 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: name 'ChatLog' is not defined
2025-07-12 15:01:46,455 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined
2025-07-12 15:01:46,455 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:46,456 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:01:46,456 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.071s
2025-07-12 15:01:46,457 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:01:46,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:46,459 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:46,459 - sqlalchemy.engine.Engine - INFO - [cached since 0.007788s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:46,460 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:46,460 - sqlalchemy.engine.Engine - INFO - [cached since 0.00677s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:01:46,463 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: name 'ChatLog' is not defined
2025-07-12 15:01:46,463 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined
2025-07-12 15:01:46,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:46,465 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:01:46,465 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.008s
2025-07-12 15:01:48,538 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,541 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,542 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,543 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,543 - sqlalchemy.engine.Engine - INFO - [cached since 2.092s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,544 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,545 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,548 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,549 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:01:48,549 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,557 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,559 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-12 15:01:48,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,560 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,560 - sqlalchemy.engine.Engine - INFO - [cached since 2.109s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,561 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,561 - sqlalchemy.engine.Engine - INFO - [cached since 2.11s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,561 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,562 - sqlalchemy.engine.Engine - INFO - [cached since 2.111s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,565 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:01:48,565 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 1, 48, 563894))
2025-07-12 15:01:48,566 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,566 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,566 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,568 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,569 - sqlalchemy.engine.Engine - INFO - [cached since 2.118s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,569 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,570 - sqlalchemy.engine.Engine - INFO - [cached since 2.116s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:01:48,571 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,572 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,572 - sqlalchemy.engine.Engine - INFO - [cached since 2.121s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,573 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.029s
2025-07-12 15:01:48,574 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,574 - sqlalchemy.engine.Engine - INFO - [cached since 2.121s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:01:48,575 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: name 'ChatLog' is not defined
2025-07-12 15:01:48,575 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined
2025-07-12 15:01:48,575 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,575 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,575 - sqlalchemy.engine.Engine - INFO - [cached since 0.02722s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:01:48,576 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,577 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,577 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,577 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.028s
2025-07-12 15:01:48,578 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,578 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,578 - sqlalchemy.engine.Engine - INFO - [cached since 2.127s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,578 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:01:48,579 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,579 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,579 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.039s
2025-07-12 15:01:48,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,580 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,580 - sqlalchemy.engine.Engine - INFO - [cached since 2.129s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,581 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,581 - sqlalchemy.engine.Engine - INFO - [cached since 2.13s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,581 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.036s
2025-07-12 15:01:48,581 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 15:01:48,582 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,582 - sqlalchemy.engine.Engine - INFO - [cached since 0.03372s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:01:48,582 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,583 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:01:48,583 - sqlalchemy.engine.Engine - INFO - [cached since 0.01851s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 1, 48, 583410))
2025-07-12 15:01:48,584 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,584 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,584 - sqlalchemy.engine.Engine - INFO - [cached since 2.133s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,584 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,584 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,585 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-12 15:01:48,585 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,585 - sqlalchemy.engine.Engine - INFO - [cached since 2.132s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:01:48,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,586 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,586 - sqlalchemy.engine.Engine - INFO - [cached since 2.135s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,587 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: name 'ChatLog' is not defined
2025-07-12 15:01:48,587 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined
2025-07-12 15:01:48,587 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,587 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,587 - sqlalchemy.engine.Engine - INFO - [cached since 0.03874s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:01:48,587 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-12 15:01:48,587 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-12 15:01:48,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,589 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: name 'ChatLog' is not defined - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:01:48,589 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.007s
2025-07-12 15:01:48,590 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.005s
2025-07-12 15:01:48,627 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:01:48,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:01:48,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:01:48,631 - sqlalchemy.engine.Engine - INFO - [cached since 2.18s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:01:48,632 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:01:48,632 - sqlalchemy.engine.Engine - INFO - [cached since 2.179s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:01:48,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:01:48,635 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 15:02:40,624 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:02:40,943 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:02:40,943 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:02:41,774 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:02:41,954 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:02:41,957 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:02:41,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,957 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:02:41,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,957 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:02:41,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,958 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:02:41,958 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:02:41,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,962 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:02:41,962 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,963 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:02:41,963 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,965 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:02:41,965 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,967 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:02:41,967 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,969 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:02:41,969 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,970 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:02:41,971 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,972 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:02:41,972 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,974 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:02:41,974 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,976 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:02:41,976 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,977 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:02:41,978 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,979 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:02:41,979 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,981 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:02:41,981 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,982 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:02:41,982 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:02:41,984 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:02:41,984 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:02:41,998 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:02:41,998 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:02:42,002 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:02:42,003 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:02:42,003 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:02:42,003 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:02:42,003 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:03:05,900 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:03:05,915 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:05,931 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:05,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:05,933 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:05,933 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:03:05,935 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:03:05,935 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:05,937 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:03:05,937 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:05,939 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:05,939 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:05,939 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:05,939 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:03:05,939 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.039s
2025-07-12 15:03:05,941 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:03:05,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:05,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:05,945 - sqlalchemy.engine.Engine - INFO - [cached since 0.01404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:05,947 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:05,947 - sqlalchemy.engine.Engine - INFO - [cached since 0.01394s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:03:05,948 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:03:05,948 - sqlalchemy.engine.Engine - INFO - [cached since 0.01365s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:05,949 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:03:05,949 - sqlalchemy.engine.Engine - INFO - [cached since 0.01152s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:05,949 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:05,949 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:05,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:05,949 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:03:05,950 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.008s
2025-07-12 15:03:08,000 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,004 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,005 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,005 - sqlalchemy.engine.Engine - INFO - [cached since 2.075s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,006 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,007 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,011 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:03:08,012 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,015 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,020 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-12 15:03:08,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,022 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,023 - sqlalchemy.engine.Engine - INFO - [cached since 2.092s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,023 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,025 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - [cached since 2.094s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - [cached since 2.097s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,027 - sqlalchemy.engine.Engine - INFO - [cached since 2.097s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,028 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,028 - sqlalchemy.engine.Engine - INFO - [cached since 2.097s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,029 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:03:08,029 - sqlalchemy.engine.Engine - INFO - [cached since 2.094s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,029 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,029 - sqlalchemy.engine.Engine - INFO - [cached since 0.01826s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:03:08,030 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:03:08,030 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 3, 8, 29720))
2025-07-12 15:03:08,030 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,030 - sqlalchemy.engine.Engine - INFO - [cached since 0.01947s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:03:08,031 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,031 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:03:08,031 - sqlalchemy.engine.Engine - INFO - [cached since 2.094s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,032 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,032 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,033 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:08,033 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:08,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,033 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.028s
2025-07-12 15:03:08,034 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-12 15:03:08,034 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:03:08,034 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.028s
2025-07-12 15:03:08,035 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.023s
2025-07-12 15:03:08,035 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,035 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,035 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,035 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,035 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.032s
2025-07-12 15:03:08,037 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,037 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:03:08,037 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,038 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,038 - sqlalchemy.engine.Engine - INFO - [cached since 2.107s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,038 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,038 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,040 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,040 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,040 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - [cached since 2.11s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - [cached since 2.111s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,041 - sqlalchemy.engine.Engine - INFO - [cached since 2.111s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,042 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:03:08,042 - sqlalchemy.engine.Engine - INFO - [cached since 0.01203s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 3, 8, 41974))
2025-07-12 15:03:08,042 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,042 - sqlalchemy.engine.Engine - INFO - [cached since 0.03124s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:03:08,042 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,042 - sqlalchemy.engine.Engine - INFO - [cached since 2.109s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:03:08,043 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,043 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,044 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:03:08,044 - sqlalchemy.engine.Engine - INFO - [cached since 2.109s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,044 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.019s
2025-07-12 15:03:08,044 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-12 15:03:08,045 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:03:08,045 - sqlalchemy.engine.Engine - INFO - [cached since 2.108s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,046 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:03:08,046 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:08,046 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-07-12 15:03:08,046 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,047 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-12 15:03:08,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:03:08,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:03:08,047 - sqlalchemy.engine.Engine - INFO - [cached since 2.116s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:03:08,047 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-12 15:03:08,048 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:03:08,048 - sqlalchemy.engine.Engine - INFO - [cached since 2.115s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:03:08,048 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 1 validation error for ChatLogSchema
id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='6de727de-cf41-484d-9dc0-eb417d701396', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:03:08,048 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.010s
2025-07-12 15:03:08,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:03:08,050 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 15:04:20,957 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:04:21,332 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:04:21,332 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:04:22,158 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:04:22,332 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:04:22,335 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:04:22,335 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,335 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:04:22,335 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,336 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:04:22,336 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:22,336 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:04:22,336 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,341 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:04:22,341 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,345 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:04:22,345 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,346 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:04:22,346 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,348 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:04:22,348 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,349 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:04:22,349 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,351 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:04:22,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,352 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:04:22,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,353 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:04:22,353 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,355 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:04:22,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,357 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:04:22,357 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,358 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:04:22,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,360 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:04:22,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,361 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:04:22,361 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:04:22,363 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:04:22,363 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:04:22,377 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:04:22,377 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:04:22,381 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:04:22,381 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:04:22,381 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:04:22,381 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:04:22,381 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:04:31,827 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:04:31,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:31,858 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:31,859 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:31,860 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:31,860 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:04:31,863 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:04:31,863 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:31,864 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:04:31,864 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:31,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:31,866 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.039s
2025-07-12 15:04:31,867 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:04:31,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:31,868 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:31,869 - sqlalchemy.engine.Engine - INFO - [cached since 0.01078s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:31,870 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:31,871 - sqlalchemy.engine.Engine - INFO - [cached since 0.01037s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:04:31,872 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:04:31,872 - sqlalchemy.engine.Engine - INFO - [cached since 0.009443s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:31,873 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:04:31,873 - sqlalchemy.engine.Engine - INFO - [cached since 0.008734s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:31,873 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:31,873 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 15:04:33,930 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,932 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,933 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,933 - sqlalchemy.engine.Engine - INFO - [cached since 2.075s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,934 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,934 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,934 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,941 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,942 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:04:33,942 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,945 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,947 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-12 15:04:33,949 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,949 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,950 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,950 - sqlalchemy.engine.Engine - INFO - [cached since 2.091s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,951 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,952 - sqlalchemy.engine.Engine - INFO - [cached since 2.093s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,952 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,953 - sqlalchemy.engine.Engine - INFO - [cached since 2.094s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,953 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,954 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,954 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,954 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,954 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,955 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,955 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,955 - sqlalchemy.engine.Engine - INFO - [cached since 0.0141s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:04:33,956 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,956 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:04:33,957 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,957 - sqlalchemy.engine.Engine - INFO - [cached since 0.01565s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:04:33,957 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,958 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:04:33,959 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 4, 33, 957888))
2025-07-12 15:04:33,959 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:04:33,959 - sqlalchemy.engine.Engine - INFO - [cached since 2.097s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,960 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,960 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,961 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:04:33,961 - sqlalchemy.engine.Engine - INFO - [cached since 2.097s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,961 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.027s
2025-07-12 15:04:33,962 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,962 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,963 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,963 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,963 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.029s
2025-07-12 15:04:33,963 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,963 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-12 15:04:33,964 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,964 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:04:33,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,964 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,965 - sqlalchemy.engine.Engine - INFO - [cached since 2.106s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,965 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.023s
2025-07-12 15:04:33,965 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,965 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,966 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.032s
2025-07-12 15:04:33,966 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,967 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,967 - sqlalchemy.engine.Engine - INFO - [cached since 2.109s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,968 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,968 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,968 - sqlalchemy.engine.Engine - INFO - [cached since 2.11s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,969 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.02763s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:04:33,969 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,969 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,969 - sqlalchemy.engine.Engine - INFO - [cached since 2.111s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,969 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:04:33,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.01104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 4, 33, 969791))
2025-07-12 15:04:33,970 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,970 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.017s
2025-07-12 15:04:33,970 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,970 - sqlalchemy.engine.Engine - INFO - [cached since 2.11s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:04:33,970 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,971 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-12 15:04:33,972 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:04:33,972 - sqlalchemy.engine.Engine - INFO - [cached since 2.109s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,972 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:04:33,972 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:04:33,973 - sqlalchemy.engine.Engine - INFO - [cached since 2.109s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:04:33,973 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:04:33,973 - sqlalchemy.engine.Engine - INFO - [cached since 2.115s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:04:33,973 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-12 15:04:33,973 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,973 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 15:04:33,974 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:04:33,974 - sqlalchemy.engine.Engine - INFO - [cached since 2.114s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:04:33,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:04:33,976 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 15:04:33,976 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 15:06:59,359 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:06:59,374 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:06:59,376 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:06:59,376 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:06:59,383 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:06:59,383 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:06:59,386 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:06:59,386 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:06:59,388 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:06:59,388 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:06:59,389 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:06:59,390 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.034s
2025-07-12 15:06:59,392 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:06:59,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:06:59,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:06:59,395 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:06:59,397 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:06:59,397 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:06:59,399 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:06:59,399 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:06:59,400 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:06:59,401 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:06:59,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:06:59,404 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 15:07:08,210 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:07:08,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:08,212 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:08,212 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:08,216 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:08,217 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:07:08,224 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:07:08,224 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:08,225 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:07:08,225 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:08,226 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:08,227 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.017s
2025-07-12 15:07:08,229 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:07:08,231 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:08,231 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:08,231 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:08,233 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:08,233 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:07:08,236 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:07:08,236 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:08,238 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:07:08,238 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:08,239 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:08,240 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 15:07:10,284 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,286 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,287 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,288 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,289 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,290 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,291 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,291 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:07:10,291 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,293 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,295 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,295 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:07:10,295 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,295 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,296 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,296 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,298 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,300 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,300 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:07:10,301 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:07:10,302 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,303 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:07:10,303 - sqlalchemy.engine.Engine - INFO - [cached since 156.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 7, 10, 302943))
2025-07-12 15:07:10,304 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:07:10,304 - sqlalchemy.engine.Engine - INFO - [cached since 158.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,306 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,306 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,307 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,308 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.023s
2025-07-12 15:07:10,308 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-12 15:07:10,309 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.020s
2025-07-12 15:07:10,309 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-12 15:07:10,310 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.023s
2025-07-12 15:07:10,310 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,312 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,312 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,312 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,312 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,314 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,314 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,315 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,318 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,319 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,320 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,320 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:07:10,321 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,321 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,321 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:07:10,322 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,322 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:07:10,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,323 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,323 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:07:10,324 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:07:10,324 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 7, 10, 323876))
2025-07-12 15:07:10,324 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,326 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:07:10,326 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,326 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:07:10,326 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,326 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-12 15:07:10,326 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-12 15:07:10,327 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,327 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 15:07:10,327 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-12 15:07:10,328 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-12 15:07:10,328 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:07:10,329 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:07:10,330 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:07:10,330 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:07:10,330 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.018s
2025-07-12 15:07:10,331 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:07:10,331 - sqlalchemy.engine.Engine - INFO - [cached since 158.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:07:10,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:07:10,332 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 15:10:47,910 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,920 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,922 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,923 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,923 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,924 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,925 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,926 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,926 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,926 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,928 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:47,929 - sqlalchemy.engine.Engine - INFO - [cached since 374s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:10:47,929 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,934 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,939 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,942 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,943 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,943 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,944 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:47,944 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:10:47,945 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,945 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,945 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,946 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:10:47,946 - sqlalchemy.engine.Engine - INFO - [cached since 374s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 10, 47, 946001))
2025-07-12 15:10:47,946 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:47,946 - sqlalchemy.engine.Engine - INFO - [cached since 374s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:10:47,947 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:10:47,947 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,947 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,952 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,953 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:10:47,953 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,954 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.030s
2025-07-12 15:10:47,955 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.045s
2025-07-12 15:10:47,956 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,957 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,958 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,959 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,959 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.034s
2025-07-12 15:10:47,959 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.031s
2025-07-12 15:10:47,960 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,960 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,960 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,961 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,961 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,961 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,961 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,962 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,962 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,963 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,963 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,963 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,963 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,963 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,963 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,964 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:47,964 - sqlalchemy.engine.Engine - INFO - [cached since 374s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:10:47,965 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:10:47,965 - sqlalchemy.engine.Engine - INFO - [cached since 374s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 10, 47, 965036))
2025-07-12 15:10:47,965 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 15:10:47,965 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,966 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.004s
2025-07-12 15:10:47,972 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:47,973 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:10:47,980 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.060s
2025-07-12 15:10:47,982 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:10:47,983 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,983 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,983 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,984 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:47,984 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:10:47,985 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,986 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:10:47,986 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,986 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,987 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:10:47,987 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,987 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.028s
2025-07-12 15:10:47,988 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-12 15:10:47,988 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 15:10:47,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:47,993 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:47,993 - sqlalchemy.engine.Engine - INFO - [cached since 376.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:47,994 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:47,994 - sqlalchemy.engine.Engine - INFO - [cached since 374.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:10:47,995 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:47,995 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.038s
2025-07-12 15:10:48,011 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:10:48,012 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:10:48,012 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:10:48,012 - sqlalchemy.engine.Engine - INFO - [cached since 376.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:10:48,017 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:10:48,017 - sqlalchemy.engine.Engine - INFO - [cached since 376.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:10:48,020 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:10:48,021 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 15:12:19,570 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:12:19,931 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:12:19,931 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:12:20,907 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:12:21,119 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:12:21,122 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:12:21,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,122 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:12:21,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,123 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:12:21,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:12:21,123 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:12:21,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,126 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:12:21,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,127 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:12:21,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,128 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:12:21,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,129 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:12:21,129 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,130 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:12:21,130 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,133 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:12:21,133 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,134 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:12:21,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,135 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:12:21,135 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,137 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:12:21,137 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,139 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:12:21,139 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,139 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:12:21,140 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,140 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:12:21,140 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,142 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:12:21,142 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:21,144 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:12:21,144 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:12:21,157 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:12:21,157 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:12:21,161 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:12:21,162 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:12:21,162 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:12:21,162 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:12:21,162 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:12:30,164 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:12:30,487 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:12:30,487 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:12:31,292 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:12:31,466 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:12:31,469 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:12:31,469 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,470 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:12:31,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,470 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:12:31,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,470 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:12:31,471 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:12:31,471 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,473 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:12:31,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,474 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:12:31,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,475 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:12:31,476 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,477 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:12:31,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,478 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:12:31,478 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,480 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:12:31,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,480 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:12:31,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,481 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:12:31,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,483 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:12:31,483 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,484 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:12:31,484 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,485 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:12:31,486 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,487 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:12:31,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,488 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:12:31,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:31,490 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:12:31,490 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:12:31,504 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:12:31,504 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:12:31,510 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:12:31,510 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:12:31,510 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:12:31,511 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:12:31,511 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:12:45,860 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:12:46,075 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:12:46,075 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:12:46,701 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:12:46,839 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:12:46,842 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:12:46,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,842 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:12:46,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,843 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:12:46,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:12:46,843 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:12:46,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,846 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:12:46,846 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,847 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:12:46,847 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,848 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:12:46,848 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,850 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:12:46,850 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,851 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:12:46,851 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,853 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:12:46,853 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,854 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:12:46,854 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,856 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:12:46,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,857 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:12:46,857 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,858 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:12:46,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,860 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:12:46,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,861 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:12:46,861 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,862 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:12:46,862 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:12:46,864 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:12:46,864 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:12:46,878 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:12:46,878 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:12:46,880 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:12:46,881 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:12:46,881 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:12:46,881 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:12:46,881 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:13:02,248 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:13:02,539 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:13:02,540 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:13:03,312 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:03,476 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:13:03,479 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:13:03,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,479 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:13:03,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,479 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:13:03,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,480 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:13:03,480 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:13:03,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,482 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:13:03,482 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,484 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:13:03,484 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,485 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:13:03,485 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,486 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:13:03,486 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,487 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:13:03,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,488 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:13:03,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,490 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:13:03,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,490 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:13:03,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,491 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:13:03,491 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,492 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:13:03,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,493 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:13:03,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,494 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:13:03,494 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,496 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:13:03,496 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:03,498 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:13:03,498 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:13:03,510 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:03,510 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:13:03,512 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:13:03,512 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:13:03,512 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:13:03,512 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:13:03,512 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:13:17,782 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:13:18,089 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:13:18,089 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:13:18,882 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:19,050 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:13:19,053 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:13:19,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,053 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:13:19,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,053 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:13:19,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:13:19,054 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:13:19,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,055 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:13:19,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,056 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:13:19,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,057 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:13:19,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,058 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:13:19,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,059 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:13:19,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,060 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:13:19,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,061 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:13:19,061 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,062 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:13:19,062 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,064 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:13:19,064 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,064 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:13:19,064 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,065 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:13:19,065 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,066 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:13:19,066 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,067 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:13:19,067 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:19,068 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:13:19,068 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:13:19,082 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:19,082 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:13:19,085 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:13:19,085 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:13:19,085 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:13:19,085 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:13:19,085 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:13:26,671 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:13:26,976 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:13:26,976 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:13:27,766 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:27,939 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:13:27,943 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:13:27,943 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,943 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:13:27,943 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,944 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:13:27,944 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:13:27,944 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:13:27,944 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,948 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:13:27,948 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,949 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:13:27,949 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,950 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:13:27,950 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,951 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:13:27,951 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,952 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:13:27,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,953 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:13:27,953 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,954 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:13:27,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,955 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:13:27,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,957 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:13:27,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,958 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:13:27,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,959 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:13:27,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,960 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:13:27,960 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,960 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:13:27,960 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:27,961 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:13:27,962 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:13:27,976 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:27,977 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:13:27,979 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:13:27,980 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:13:27,980 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:13:27,980 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:13:27,980 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:13:36,870 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:13:37,169 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:13:37,169 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:13:37,949 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:38,121 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:13:38,123 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:13:38,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,123 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:13:38,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,124 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:13:38,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:13:38,124 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:13:38,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,127 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:13:38,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,128 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:13:38,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,130 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:13:38,130 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,131 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:13:38,131 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,132 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:13:38,132 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,134 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:13:38,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,135 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:13:38,135 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,137 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:13:38,137 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,138 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:13:38,138 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,140 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:13:38,140 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,142 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:13:38,142 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,144 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:13:38,144 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,145 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:13:38,145 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:13:38,147 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:13:38,147 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:13:38,161 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:13:38,161 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:13:38,164 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:13:38,165 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:13:38,165 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:13:38,165 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:13:38,165 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:15:08,693 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:15:08,740 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:08,756 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:08,756 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:08,758 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:08,759 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:15:08,765 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:15:08,765 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:08,766 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:15:08,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:08,767 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:08,767 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.074s
2025-07-12 15:15:08,768 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:15:08,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:08,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:08,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.01331s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:08,770 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:08,770 - sqlalchemy.engine.Engine - INFO - [cached since 0.01148s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:15:08,771 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:15:08,771 - sqlalchemy.engine.Engine - INFO - [cached since 0.006273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:08,771 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:15:08,771 - sqlalchemy.engine.Engine - INFO - [cached since 0.005525s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:08,772 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:08,772 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 15:15:10,838 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,840 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,845 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,846 - sqlalchemy.engine.Engine - INFO - [cached since 2.09s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,846 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,855 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,863 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,876 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:15:10,877 - sqlalchemy.engine.Engine - INFO - [generated in 0.00192s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:15:10,890 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,896 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.058s
2025-07-12 15:15:10,899 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,900 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,901 - sqlalchemy.engine.Engine - INFO - [cached since 2.145s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,902 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:15:10,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.02673s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:15:10,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,903 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.004s
2025-07-12 15:15:10,907 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,907 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,907 - sqlalchemy.engine.Engine - INFO - [cached since 2.151s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - [cached since 2.153s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,909 - sqlalchemy.engine.Engine - INFO - [cached since 2.154s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,910 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,911 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:15:10,911 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 15, 10, 910603))
2025-07-12 15:15:10,911 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:15:10,912 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 15, 10, 911554))
2025-07-12 15:15:10,912 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.058s
2025-07-12 15:15:10,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,913 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,913 - sqlalchemy.engine.Engine - INFO - [cached since 2.158s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,914 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,915 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:10,915 - sqlalchemy.engine.Engine - INFO - [cached since 2.157s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:15:10,915 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.069s
2025-07-12 15:15:10,915 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,915 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,916 - sqlalchemy.engine.Engine - INFO - [cached since 2.16s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,917 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,917 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,918 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:10,918 - sqlalchemy.engine.Engine - INFO - [cached since 0.009264s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:15:10,918 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,919 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,919 - sqlalchemy.engine.Engine - INFO - [cached since 2.163s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,919 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,919 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,919 - sqlalchemy.engine.Engine - INFO - [cached since 2.163s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,921 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:15:10,921 - sqlalchemy.engine.Engine - INFO - [cached since 0.01017s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 15, 10, 921034))
2025-07-12 15:15:10,921 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.021s
2025-07-12 15:15:10,922 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:10,922 - sqlalchemy.engine.Engine - INFO - [cached since 2.164s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:15:10,923 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,924 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,926 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:15:10,926 - sqlalchemy.engine.Engine - INFO - [cached since 2.161s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,926 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,926 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,926 - sqlalchemy.engine.Engine - INFO - [cached since 2.17s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,926 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.063s
2025-07-12 15:15:10,926 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-12 15:15:10,927 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:15:10,927 - sqlalchemy.engine.Engine - INFO - [cached since 2.161s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,928 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:10,928 - sqlalchemy.engine.Engine - INFO - [cached since 2.17s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:15:10,931 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,931 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,933 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,933 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-12 15:15:10,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,934 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,934 - sqlalchemy.engine.Engine - INFO - [cached since 2.178s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,935 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:15:10,935 - sqlalchemy.engine.Engine - INFO - [cached since 0.02409s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 15, 10, 935236))
2025-07-12 15:15:10,936 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.096s
2025-07-12 15:15:10,936 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 15:15:10,937 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,937 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:15:10,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:10,942 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:10,943 - sqlalchemy.engine.Engine - INFO - [cached since 2.187s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,945 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:10,945 - sqlalchemy.engine.Engine - INFO - [cached since 2.187s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:15:10,945 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-12 15:15:10,947 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:15:10,947 - sqlalchemy.engine.Engine - INFO - [cached since 2.183s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,948 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:15:10,948 - sqlalchemy.engine.Engine - INFO - [cached since 2.183s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:10,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:10,950 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 15:15:33,001 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:15:33,006 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.006s
2025-07-12 15:15:33,029 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:15:33,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:33,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:33,039 - sqlalchemy.engine.Engine - INFO - [cached since 24.28s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:33,042 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:15:33,042 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:33,676 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 12, 벡터 차원: 768
2025-07-12 15:15:33,706 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 15:15:33,714 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: ad9dac19-3da9-4e0b-88e2-d78e08569908, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:15:33,729 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 15:15:33,731 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 15:15:33,740 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 15:15:33,742 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 15개
2025-07-12 15:15:34,628 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.FRUSTRATED, 강도: 0.1
2025-07-12 15:15:34,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:15:34,630 - sqlalchemy.engine.Engine - INFO - [cached since 25.87s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:15:34,637 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:15:34,638 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:15:34,643 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:15:34,643 - sqlalchemy.engine.Engine - INFO - [cached since 23.73s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 15, 34, 641804))
2025-07-12 15:15:34,645 - app.services.gemini - ERROR - Gemini 응답 생성 실패: 'dict' object has no attribute 'user_interests'
2025-07-12 15:15:34,653 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:15:34,654 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] ('5d17ba7e-f608-4ecb-b421-1fca1993f470', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '에어컨이 너무 추워ㅠㅜ', 'frustrated', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:15:34,657 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:15:34,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:34,667 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:15:34,668 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('5d17ba7e-f608-4ecb-b421-1fca1993f470',)
2025-07-12 15:15:34,670 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:15:34,670 - sqlalchemy.engine.Engine - INFO - [cached since 0.01713s ago] ('a9446923-67ce-49cd-8542-1a3a0e4fdb9e', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '죄송합니다. 지금은 응답을 생성할 수 없습니다. 잠시 후 다시 시도해주세요.', 'frustrated', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:15:34,672 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:15:34,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:15:34,674 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:15:34,674 - sqlalchemy.engine.Engine - INFO - [cached since 0.007099s ago] ('a9446923-67ce-49cd-8542-1a3a0e4fdb9e',)
2025-07-12 15:15:34,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:15:34,676 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 1.647s
2025-07-12 15:16:26,345 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:16:26,744 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:16:26,744 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:16:27,654 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:16:27,836 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:16:27,839 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:16:27,839 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,839 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:16:27,839 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,839 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:16:27,839 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:16:27,840 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:16:27,840 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,841 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:16:27,841 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,842 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:16:27,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,843 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:16:27,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,844 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:16:27,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,845 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:16:27,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,845 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:16:27,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,846 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:16:27,846 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,847 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:16:27,847 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,848 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:16:27,848 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,848 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:16:27,849 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,849 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:16:27,850 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,850 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:16:27,850 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,851 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:16:27,851 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:27,852 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:16:27,853 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:16:27,865 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:16:27,866 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:16:27,868 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:16:27,868 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:16:27,868 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:16:27,868 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:16:27,868 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:16:34,148 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:16:34,645 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:16:34,645 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:16:35,535 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:16:35,704 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:16:35,707 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:16:35,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,707 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:16:35,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,707 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:16:35,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:16:35,708 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:16:35,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,710 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:16:35,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,711 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:16:35,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,713 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:16:35,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,715 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:16:35,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,716 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:16:35,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,718 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:16:35,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,719 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:16:35,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,721 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:16:35,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,722 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:16:35,722 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,723 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:16:35,723 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,724 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:16:35,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,725 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:16:35,725 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,727 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:16:35,727 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:16:35,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:16:35,765 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:16:35,779 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:16:35,779 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:16:35,781 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:16:35,781 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:16:35,781 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:16:35,781 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:16:35,781 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:16:51,392 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:16:51,394 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 15:16:51,418 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:16:51,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:16:51,461 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:16:51,462 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:16:51,464 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:16:51,464 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:16:52,144 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 10, 벡터 차원: 768
2025-07-12 15:16:52,165 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 15:16:52,167 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 4f1f8315-fb5a-4526-b9f9-04f975738984, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:16:52,182 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 15:16:52,184 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 15:16:52,193 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 15:16:52,195 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 16개
2025-07-12 15:16:52,859 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.FRUSTRATED, 강도: 0.1
2025-07-12 15:16:52,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:16:52,863 - sqlalchemy.engine.Engine - INFO - [cached since 1.402s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:16:52,867 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:16:52,868 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:16:52,874 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:16:52,875 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 16, 52, 871921))
2025-07-12 15:16:54,597 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 214
2025-07-12 15:16:54,602 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:16:54,603 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('cd63d8ac-81c6-4160-bec1-fa86de2e476d', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '에어컨이 너무 추워', 'frustrated', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:16:54,607 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:16:54,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:16:54,619 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:16:54,619 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('cd63d8ac-81c6-4160-bec1-fa86de2e476d',)
2025-07-12 15:16:54,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:16:54,624 - sqlalchemy.engine.Engine - INFO - [cached since 0.02193s ago] ('942d728f-0db2-42e4-b241-98dff977939f', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, 에어컨이 너무 추우시다고 하시니 걱정이 됩니다. 혹시 온도를 좀 더 높여보시는 건 어떠실까요? 아니면 잠시 에어컨을 끄고 창문을 열어 환기를 시키는 것도 좋은 방법일 것 같습니다.\n\n혹시 담요나 겉옷을 걸치시는 것도 도움이 될 수 있어요. 너무 추우시면 몸이 움츠러들고 감기에 걸리실 수도 있으니 따뜻하게 해주시는 게 중요합니다.\n\n혹시 다른 불편한 점은 없으신가요? 제가 혹시 도와드릴 수 있는 일이 있다면 언제든지 말씀해주세요. 편안하게 말씀해주시면 됩니다.', 'frustrated', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:16:54,626 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:16:54,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:16:54,631 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:16:54,632 - sqlalchemy.engine.Engine - INFO - [cached since 0.01306s ago] ('942d728f-0db2-42e4-b241-98dff977939f',)
2025-07-12 15:16:54,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:16:54,635 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.217s
2025-07-12 15:23:44,250 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:23:44,575 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:23:44,575 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:23:45,390 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:23:45,576 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:23:45,579 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:23:45,580 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,580 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:23:45,580 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,580 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:23:45,580 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:23:45,581 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:23:45,581 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,584 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:23:45,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,585 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:23:45,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,587 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:23:45,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,588 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:23:45,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,590 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:23:45,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,591 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:23:45,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,593 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:23:45,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,595 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:23:45,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,596 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:23:45,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,598 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:23:45,598 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,599 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:23:45,599 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,601 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:23:45,601 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,602 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:23:45,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:23:45,604 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:23:45,604 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:23:45,618 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:23:45,618 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:23:45,623 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:23:45,623 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:23:45,623 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:23:45,623 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:23:45,623 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:24:15,646 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:24:15,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:15,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:15,680 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:15,682 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:15,682 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:24:15,685 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:24:15,685 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:15,686 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:24:15,686 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:15,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:15,688 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.042s
2025-07-12 15:24:15,689 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:24:15,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:15,690 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:15,690 - sqlalchemy.engine.Engine - INFO - [cached since 0.009767s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:15,690 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:15,690 - sqlalchemy.engine.Engine - INFO - [cached since 0.008095s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:24:15,691 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:24:15,691 - sqlalchemy.engine.Engine - INFO - [cached since 0.00622s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:15,691 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:24:15,692 - sqlalchemy.engine.Engine - INFO - [cached since 0.00549s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:15,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:15,693 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 15:24:17,741 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,743 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,744 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,744 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,744 - sqlalchemy.engine.Engine - INFO - [cached since 2.064s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,744 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,745 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,748 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:24:17,748 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:24:17,749 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,753 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,754 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-12 15:24:17,755 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,756 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,756 - sqlalchemy.engine.Engine - INFO - [cached since 2.076s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,756 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,756 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,756 - sqlalchemy.engine.Engine - INFO - [cached since 2.076s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,757 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,758 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:17,758 - sqlalchemy.engine.Engine - INFO - [cached since 2.076s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:24:17,760 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:24:17,760 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 24, 17, 759326))
2025-07-12 15:24:17,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,760 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,760 - sqlalchemy.engine.Engine - INFO - [cached since 2.08s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,761 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,761 - sqlalchemy.engine.Engine - INFO - [cached since 2.081s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,761 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,761 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,761 - sqlalchemy.engine.Engine - INFO - [cached since 2.081s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,761 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,763 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:24:17,764 - sqlalchemy.engine.Engine - INFO - [cached since 2.079s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,765 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:24:17,765 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 24, 17, 764724))
2025-07-12 15:24:17,766 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:17,767 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:24:17,767 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:24:17,767 - sqlalchemy.engine.Engine - INFO - [cached since 0.01923s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:24:17,767 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:24:17,767 - sqlalchemy.engine.Engine - INFO - [cached since 2.081s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,768 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,768 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,768 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,771 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.027s
2025-07-12 15:24:17,771 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-12 15:24:17,772 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.023s
2025-07-12 15:24:17,772 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,773 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.030s
2025-07-12 15:24:17,773 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-12 15:24:17,773 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,774 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,774 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,774 - sqlalchemy.engine.Engine - INFO - [cached since 2.094s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,774 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,775 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,775 - sqlalchemy.engine.Engine - INFO - [cached since 2.095s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,775 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:24:17,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.0158s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 24, 17, 775562))
2025-07-12 15:24:17,775 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,776 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,776 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,776 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,776 - sqlalchemy.engine.Engine - INFO - [cached since 2.097s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,777 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:17,777 - sqlalchemy.engine.Engine - INFO - [cached since 0.01045s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:24:17,777 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,777 - sqlalchemy.engine.Engine - INFO - [cached since 2.097s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,778 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:24:17,778 - sqlalchemy.engine.Engine - INFO - [cached since 0.0125s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 24, 17, 777906))
2025-07-12 15:24:17,778 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:17,778 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:24:17,778 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,779 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:17,779 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:24:17,779 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,779 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,779 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 15:24:17,780 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:24:17,780 - sqlalchemy.engine.Engine - INFO - [cached since 2.095s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,780 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-12 15:24:17,781 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 15:24:17,781 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 15:24:17,781 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:24:17,781 - sqlalchemy.engine.Engine - INFO - [cached since 2.095s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,782 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,782 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:24:17,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:24:17,782 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:24:17,782 - sqlalchemy.engine.Engine - INFO - [cached since 2.102s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:24:17,782 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 15:24:17,783 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:24:17,783 - sqlalchemy.engine.Engine - INFO - [cached since 2.101s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:24:17,784 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:24:17,784 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 15:27:15,516 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:27:15,528 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:15,531 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:15,531 - sqlalchemy.engine.Engine - INFO - [cached since 179.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:15,540 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:15,540 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:27:15,545 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:27:15,545 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:15,547 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:27:15,547 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:15,548 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:15,549 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.033s
2025-07-12 15:27:15,550 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:27:15,551 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:15,552 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:15,552 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:15,553 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:15,553 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:27:15,555 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:27:15,555 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:15,556 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:27:15,556 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:15,557 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:15,558 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 15:27:17,621 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,625 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,627 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,627 - sqlalchemy.engine.Engine - INFO - [cached since 181.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,628 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,629 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,630 - sqlalchemy.engine.Engine - INFO - [cached since 181.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,631 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:27:17,632 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:27:17,632 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,634 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,635 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,636 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:17,636 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:27:17,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,637 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,639 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:27:17,639 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 27, 17, 638628))
2025-07-12 15:27:17,642 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:17,642 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:27:17,643 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:27:17,643 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,644 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:27:17,645 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 27, 17, 644613))
2025-07-12 15:27:17,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,646 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,647 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:27:17,647 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,647 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,649 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.027s
2025-07-12 15:27:17,649 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-12 15:27:17,650 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-12 15:27:17,651 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,651 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.019s
2025-07-12 15:27:17,652 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.027s
2025-07-12 15:27:17,653 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,653 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,654 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,654 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,654 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,655 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,656 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,656 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,656 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,656 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,657 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,657 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:27:17,658 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:27:17,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,658 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,658 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,658 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,658 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,659 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:17,659 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:27:17,659 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:27:17,659 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 27, 17, 659575))
2025-07-12 15:27:17,659 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,660 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,660 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,660 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:17,660 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:27:17,660 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:27:17,660 - sqlalchemy.engine.Engine - INFO - [cached since 179.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 27, 17, 660739))
2025-07-12 15:27:17,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,662 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:17,662 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:27:17,662 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,662 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,663 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:27:17,663 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,663 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:27:17,663 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,663 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-12 15:27:17,664 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,664 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 15:27:17,665 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-12 15:27:17,665 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-12 15:27:17,665 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-12 15:27:17,666 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 15:27:17,671 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:27:17,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:17,673 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:17,673 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:17,673 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:17,673 - sqlalchemy.engine.Engine - INFO - [cached since 182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:27:17,674 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:17,675 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 15:27:25,907 - app.main - INFO - 🔄 OPTIONS /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:27:25,908 - app.main - INFO - ✅ OPTIONS /api/v1/chat - 200 - 0.001s
2025-07-12 15:27:25,911 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:27:25,912 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 15:27:25,937 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:27:25,937 - app.main - INFO - ✅ OPTIONS /api/v1/chat/ - 200 - 0.001s
2025-07-12 15:27:25,938 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:27:25,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:25,942 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:25,942 - sqlalchemy.engine.Engine - INFO - [cached since 190.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:25,944 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:27:25,944 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:26,569 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 19, 벡터 차원: 768
2025-07-12 15:27:26,597 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 15:27:26,601 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 36cff00a-ef7d-4ec2-83fc-87ca38854d03, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:27:26,612 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 15:27:26,614 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 15:27:26,622 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 15:27:26,623 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 17개
2025-07-12 15:27:28,983 - app.services.emotion - ERROR - AI 응답 파싱 실패: too many values to unpack (expected 2)
2025-07-12 15:27:28,984 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 15:27:28,986 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:27:28,987 - sqlalchemy.engine.Engine - INFO - [cached since 193.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:27:28,993 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:27:28,994 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:27:28,998 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:27:28,998 - sqlalchemy.engine.Engine - INFO - [cached since 191.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 27, 28, 997203))
2025-07-12 15:27:30,746 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 205
2025-07-12 15:27:30,748 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:27:30,748 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('7e8c6f30-bcba-468f-9765-565cf667e8aa', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '그래서 다른곳에 가서 공부를 하려구', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:27:30,766 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:27:30,773 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:30,774 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:27:30,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('7e8c6f30-bcba-468f-9765-565cf667e8aa',)
2025-07-12 15:27:30,776 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:27:30,776 - sqlalchemy.engine.Engine - INFO - [cached since 0.02792s ago] ('90bbec5b-fbfb-4dad-b98a-6d94551fd5d5', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '아, 그러시군요! 다른 곳에서 공부를 하실 계획이시군요. 혹시 어떤 분야를 공부하시고 싶으신지 여쭤봐도 될까요? 새로운 곳에서 공부하시는 만큼 설레는 마음도 크시겠지만, 한편으로는 걱정도 되실 것 같아요. 제가 옆에서 응원하며 힘이 되어 드릴게요. 혹시 공부하시면서 어려움이 있거나, 아니면 그냥 편하게 이야기하고 싶으실 때 언제든지 저에게 말씀해주세요. 제가 항상 강영모님 곁에서 함께 하겠습니다. 새로운 시작을 진심으로 응원합니다! 😊', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:27:30,776 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:27:30,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:27:30,777 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:27:30,777 - sqlalchemy.engine.Engine - INFO - [cached since 0.003025s ago] ('90bbec5b-fbfb-4dad-b98a-6d94551fd5d5',)
2025-07-12 15:27:30,778 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:27:30,778 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 4.840s
2025-07-12 15:29:40,639 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:29:40,940 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:29:40,940 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:29:41,720 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:29:41,892 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:29:41,895 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:29:41,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,896 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:29:41,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,896 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:29:41,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:29:41,897 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:29:41,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,898 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:29:41,898 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,900 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:29:41,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,900 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:29:41,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,901 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:29:41,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,903 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:29:41,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,905 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:29:41,905 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,906 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:29:41,906 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,907 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:29:41,907 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,909 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:29:41,909 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,910 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:29:41,910 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,911 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:29:41,911 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,913 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:29:41,913 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,914 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:29:41,914 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:29:41,916 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:29:41,916 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:29:41,928 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:29:41,929 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:29:41,932 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:29:41,932 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:29:41,932 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:29:41,932 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:29:41,932 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:30:09,472 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:30:09,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:09,507 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:09,507 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:09,512 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:30:09,512 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:30:09,514 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:30:09,514 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:09,516 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:30:09,516 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:09,517 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:09,518 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.046s
2025-07-12 15:30:09,519 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:30:09,521 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:09,521 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:09,521 - sqlalchemy.engine.Engine - INFO - [cached since 0.01498s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:09,522 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:30:09,522 - sqlalchemy.engine.Engine - INFO - [cached since 0.01028s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:30:09,523 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:30:09,523 - sqlalchemy.engine.Engine - INFO - [cached since 0.009201s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:09,524 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:30:09,524 - sqlalchemy.engine.Engine - INFO - [cached since 0.007874s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:09,524 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:09,525 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-12 15:30:11,586 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,588 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,589 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,590 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,590 - sqlalchemy.engine.Engine - INFO - [cached since 2.083s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,593 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,594 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,601 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:30:11,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:30:11,601 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,604 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,607 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-12 15:30:11,608 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,611 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,611 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,611 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,611 - sqlalchemy.engine.Engine - INFO - [cached since 2.105s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,612 - sqlalchemy.engine.Engine - INFO - [cached since 2.105s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,613 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,613 - sqlalchemy.engine.Engine - INFO - [cached since 2.107s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,613 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,613 - sqlalchemy.engine.Engine - INFO - [cached since 2.107s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,614 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:30:11,614 - sqlalchemy.engine.Engine - INFO - [cached since 2.102s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:30:11,615 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:30:11,615 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 30, 11, 615243))
2025-07-12 15:30:11,617 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:30:11,617 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:30:11,617 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,619 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:30:11,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.01813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:30:11,619 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,619 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:30:11,619 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 30, 11, 619622))
2025-07-12 15:30:11,620 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,620 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:30:11,621 - sqlalchemy.engine.Engine - INFO - [cached since 2.107s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,622 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:30:11,622 - sqlalchemy.engine.Engine - INFO - [cached since 2.106s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.030s
2025-07-12 15:30:11,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.028s
2025-07-12 15:30:11,623 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,624 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-12 15:30:11,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,625 - sqlalchemy.engine.Engine - INFO - [cached since 2.118s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,625 - sqlalchemy.engine.Engine - INFO - [cached since 2.118s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,625 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.024s
2025-07-12 15:30:11,626 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:30:11,626 - sqlalchemy.engine.Engine - INFO - [cached since 0.01084s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 30, 11, 626415))
2025-07-12 15:30:11,626 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,627 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:30:11,627 - sqlalchemy.engine.Engine - INFO - [cached since 0.01019s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:30:11,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,627 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,627 - sqlalchemy.engine.Engine - INFO - [cached since 2.121s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,628 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,628 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,628 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.040s
2025-07-12 15:30:11,628 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,628 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,628 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,629 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:30:11,629 - sqlalchemy.engine.Engine - INFO - [cached since 2.117s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:30:11,630 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:30:11,630 - sqlalchemy.engine.Engine - INFO - [cached since 0.01024s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 30, 11, 629954))
2025-07-12 15:30:11,630 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,631 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,631 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 15:30:11,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,631 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,631 - sqlalchemy.engine.Engine - INFO - [cached since 2.125s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,631 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-12 15:30:11,632 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:30:11,632 - sqlalchemy.engine.Engine - INFO - [cached since 2.12s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:30:11,632 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-12 15:30:11,633 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.006s
2025-07-12 15:30:11,633 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:30:11,633 - sqlalchemy.engine.Engine - INFO - [cached since 2.119s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,633 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:30:11,634 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:30:11,634 - sqlalchemy.engine.Engine - INFO - [cached since 2.118s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:11,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:11,634 - sqlalchemy.engine.Engine - INFO - [cached since 2.128s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:11,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,635 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:30:11,635 - sqlalchemy.engine.Engine - INFO - [cached since 2.123s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:30:11,635 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-12 15:30:11,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:11,636 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 15:30:18,341 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:30:18,344 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.003s
2025-07-12 15:30:18,374 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:30:18,379 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:18,379 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:18,379 - sqlalchemy.engine.Engine - INFO - [cached since 8.873s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:18,382 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:30:18,383 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:19,731 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 9, 벡터 차원: 768
2025-07-12 15:30:19,753 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 15:30:19,755 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 590ef78a-f85f-4d7c-92ca-921ffa29ea5f, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:30:19,765 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 15:30:19,767 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 15:30:19,774 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 15:30:19,776 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 18개
2025-07-12 15:30:21,400 - app.services.emotion - ERROR - AI 응답 파싱 실패: too many values to unpack (expected 2)
2025-07-12 15:30:21,401 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.1
2025-07-12 15:30:21,401 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:30:21,402 - sqlalchemy.engine.Engine - INFO - [cached since 11.89s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:30:21,406 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:30:21,406 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:30:21,407 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:30:21,407 - sqlalchemy.engine.Engine - INFO - [cached since 9.788s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 30, 21, 407466))
2025-07-12 15:30:22,866 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 206
2025-07-12 15:30:22,872 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:30:22,873 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] ('8432e791-9bdd-489a-92d8-038f5689026b', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '웅 어디가 좋을까', 'happy', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:30:22,876 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:30:22,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:22,883 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:30:22,884 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('8432e791-9bdd-489a-92d8-038f5689026b',)
2025-07-12 15:30:22,889 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:30:22,890 - sqlalchemy.engine.Engine - INFO - [cached since 0.01751s ago] ('85851eaf-0865-4c5b-957c-7fd484e8d030', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '어디를 가고 싶으신 걸까요, 강영모님? 혹시 특별히 생각하고 계신 곳이 있으신지 여쭤봐도 될까요? 아니면, 제가 몇 군데 추천해 드려도 괜찮을까요? 예를 들어, 날씨가 좋으니 공원에 산책을 가시는 건 어떠실까요? 아니면, 조용한 카페에 가서 차 한 잔 하시면서 책을 읽으시는 것도 좋을 것 같아요. 강영모님께서 좋아하시는 걸 알려주시면 더욱 좋은 곳을 추천해 드릴 수 있을 것 같습니다. 편하게 말씀해주세요! 😊', 'happy', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:30:22,893 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:30:22,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:30:22,897 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:30:22,897 - sqlalchemy.engine.Engine - INFO - [cached since 0.01338s ago] ('85851eaf-0865-4c5b-957c-7fd484e8d030',)
2025-07-12 15:30:22,899 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:30:22,902 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 4.528s
2025-07-12 15:31:57,718 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:31:57,721 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:57,722 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:57,722 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:57,730 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:31:57,731 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:31:57,741 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:31:57,742 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:57,757 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:31:57,757 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:57,761 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:57,762 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.044s
2025-07-12 15:31:57,763 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:31:57,764 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:57,765 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:57,765 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:57,766 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:31:57,766 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:31:57,768 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:31:57,768 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:57,769 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:31:57,769 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:57,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:57,771 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 15:31:59,833 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,835 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,837 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,837 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,837 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,838 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,839 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,842 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,844 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:31:59,844 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:31:59,844 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,846 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,848 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:31:59,848 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:31:59,849 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,849 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,850 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,851 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:31:59,851 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 31, 59, 851061))
2025-07-12 15:31:59,852 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:31:59,852 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:31:59,854 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:31:59,854 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,855 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:31:59,855 - sqlalchemy.engine.Engine - INFO - [cached since 108.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 31, 59, 854939))
2025-07-12 15:31:59,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,857 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:31:59,857 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,859 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,859 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.026s
2025-07-12 15:31:59,860 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-12 15:31:59,860 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-12 15:31:59,860 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,861 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-12 15:31:59,862 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.027s
2025-07-12 15:31:59,863 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,863 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,864 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,864 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,864 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,866 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,868 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,868 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,868 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,868 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,869 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:31:59,869 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:31:59,869 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,869 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,869 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,869 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,870 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,870 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,870 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,870 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,871 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,871 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,871 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:31:59,871 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 31, 59, 871472))
2025-07-12 15:31:59,872 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:31:59,872 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:31:59,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,873 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,873 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,873 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,873 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:31:59,873 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:31:59,874 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:31:59,874 - sqlalchemy.engine.Engine - INFO - [cached since 108.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 31, 59, 873980))
2025-07-12 15:31:59,874 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,874 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,875 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:31:59,875 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:31:59,875 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,875 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,876 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-12 15:31:59,877 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:31:59,877 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,877 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 15:31:59,877 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-12 15:31:59,877 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-12 15:31:59,878 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:31:59,878 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,878 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-12 15:31:59,879 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,879 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 15:31:59,888 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:31:59,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:31:59,889 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:31:59,889 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:31:59,890 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:31:59,890 - sqlalchemy.engine.Engine - INFO - [cached since 110.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:31:59,891 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:31:59,892 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 15:32:11,419 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:32:11,420 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 15:32:11,451 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:32:11,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:32:11,452 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:32:11,452 - sqlalchemy.engine.Engine - INFO - [cached since 121.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:32:11,453 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:32:11,453 - sqlalchemy.engine.Engine - INFO - [cached since 113.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:32:11,994 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-12 15:32:12,009 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 15:32:12,010 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 23f64d5c-c33a-489e-9093-ecb2ae84ae3c, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:32:12,017 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 15:32:12,017 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 15:32:12,024 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 15:32:12,025 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 19개
2025-07-12 15:32:12,684 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 15:32:12,685 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:32:12,686 - sqlalchemy.engine.Engine - INFO - [cached since 123.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:32:12,693 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:32:12,694 - sqlalchemy.engine.Engine - INFO - [cached since 111.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:32:12,697 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:32:12,697 - sqlalchemy.engine.Engine - INFO - [cached since 121.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 32, 12, 696943))
2025-07-12 15:32:13,973 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 170
2025-07-12 15:32:13,974 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:32:13,974 - sqlalchemy.engine.Engine - INFO - [cached since 111.1s ago] ('07286084-e694-457b-91db-4b6ce4962b55', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '안녕', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:32:13,979 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:32:13,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:32:13,982 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:32:13,982 - sqlalchemy.engine.Engine - INFO - [cached since 111.1s ago] ('07286084-e694-457b-91db-4b6ce4962b55',)
2025-07-12 15:32:13,984 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:32:13,984 - sqlalchemy.engine.Engine - INFO - [cached since 111.1s ago] ('b515cb5f-400f-4d78-9be6-2b32721a6b0e', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '안녕하세요, 강영모님! 오늘 하루도 평안하신가요? 이렇게 다시 뵙게 되어 정말 기쁩니다. 혹시 오늘 특별히 나누고 싶으신 이야기가 있으실까요? 아니면 그냥 편안하게 이야기 나누고 싶으신 걸까요? 무엇이든 편하게 말씀해주세요. 제가 옆에서 따뜻하게 들어드릴게요. 😊', 'calm', 0.1, 'text', 'bede60e5-71d1-4ec3-b98c-78b94b814464', None)
2025-07-12 15:32:13,986 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:32:13,988 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:32:13,989 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:32:13,989 - sqlalchemy.engine.Engine - INFO - [cached since 111.1s ago] ('b515cb5f-400f-4d78-9be6-2b32721a6b0e',)
2025-07-12 15:32:13,990 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:32:13,991 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.541s
2025-07-12 15:38:32,732 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:38:32,739 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:38:32,740 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:38:32,740 - sqlalchemy.engine.Engine - INFO - [cached since 503.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:38:32,743 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:38:32,743 - sqlalchemy.engine.Engine - INFO - [cached since 501.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:38:32,745 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:38:32,746 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-12 15:38:32,747 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:38:32,748 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:38:32,748 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 404 - 0.001s
2025-07-12 15:39:07,106 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:39:07,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:07,116 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:07,116 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:07,119 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:39:07,119 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:39:07,123 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:39:07,123 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:07,124 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:39:07,124 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:07,126 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:07,127 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.021s
2025-07-12 15:39:07,129 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:39:07,130 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:07,130 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:07,130 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:07,131 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:39:07,131 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:39:07,133 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:39:07,133 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:07,134 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:39:07,134 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:07,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:07,136 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 15:39:09,200 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,202 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,203 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,203 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,203 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,203 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,204 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,205 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,206 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,206 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,208 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:39:09,208 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:39:09,208 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,213 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,213 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,214 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,215 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,215 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,216 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,218 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,222 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:39:09,222 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:39:09,223 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:39:09,223 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:39:09,224 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:39:09,225 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 39, 9, 224573))
2025-07-12 15:39:09,225 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,226 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:39:09,226 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 39, 9, 226274))
2025-07-12 15:39:09,228 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,228 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,229 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,231 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:39:09,231 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,232 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.031s
2025-07-12 15:39:09,233 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:39:09,233 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,233 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,234 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,234 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.030s
2025-07-12 15:39:09,234 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.026s
2025-07-12 15:39:09,234 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,234 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,234 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,234 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.031s
2025-07-12 15:39:09,235 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:39:09,235 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:39:09,236 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,236 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,237 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,237 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,238 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:39:09,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,238 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,238 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,238 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,238 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,238 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.036s
2025-07-12 15:39:09,238 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 404 - 0.001s
2025-07-12 15:39:09,239 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,239 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,239 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,240 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:39:09,240 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 39, 9, 239838))
2025-07-12 15:39:09,240 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:39:09,240 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:39:09,241 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:39:09,241 - sqlalchemy.engine.Engine - INFO - [cached since 537.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 39, 9, 241021))
2025-07-12 15:39:09,241 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,241 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,242 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,242 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,242 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-12 15:39:09,243 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:09,243 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:09,243 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,243 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-12 15:39:09,244 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-12 15:39:09,244 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:39:09,244 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:39:09,245 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 15:39:09,247 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:39:09,247 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,248 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:39:09,248 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:09,249 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:09,249 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 15:39:09,262 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:39:09,262 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:39:09,263 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 404 - 0.001s
2025-07-12 15:39:12,757 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-12 15:39:12,758 - app.main - INFO - ✅ OPTIONS /api/v1/chat/session - 200 - 0.001s
2025-07-12 15:39:12,760 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-12 15:39:12,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:12,767 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:39:12,767 - sqlalchemy.engine.Engine - INFO - [cached since 543.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:12,769 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:39:12,769 - sqlalchemy.engine.Engine - INFO - [cached since 534.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:39:12,772 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.session_id = %s
2025-07-12 15:39:12,773 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('98ea17ca-3ab3-472d-9069-053d536a76b6',)
2025-07-12 15:39:12,777 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_sessions (id, user_id, session_id, start_time, end_time, message_count, avg_emotion_score, session_summary) VALUES (%s, %s, %s, now(), %s, %s, %s, %s)
2025-07-12 15:39:12,777 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('7eb82af0-b633-421c-bf5a-94aecab5379d', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', None, 0, None, None)
2025-07-12 15:39:12,781 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:39:12,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:39:12,785 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-12 15:39:12,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('7eb82af0-b633-421c-bf5a-94aecab5379d',)
2025-07-12 15:39:12,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:39:12,788 - app.main - INFO - ✅ POST /api/v1/chat/session - 200 - 0.028s
2025-07-12 15:39:12,790 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:39:12,790 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:39:12,791 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 404 - 0.001s
2025-07-12 15:40:29,010 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:40:29,328 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:40:29,328 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:40:30,147 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:40:30,328 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:40:30,331 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:40:30,331 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,331 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:40:30,331 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,331 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:40:30,332 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,332 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:30,332 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:40:30,332 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,335 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:40:30,335 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,337 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:40:30,337 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,338 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:40:30,338 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,339 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:40:30,339 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,340 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:40:30,340 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,341 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:40:30,342 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,343 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:40:30,343 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,344 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:40:30,344 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,345 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:40:30,345 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,346 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:40:30,346 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,347 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:40:30,347 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,348 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:40:30,348 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,350 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:40:30,350 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:40:30,351 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:40:30,352 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:40:30,365 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:40:30,366 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:40:30,369 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:40:30,369 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:40:30,369 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:40:30,369 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:40:30,369 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:40:40,514 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:40:40,528 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:40,546 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:40,547 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:40,548 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:40:40,548 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:40:40,550 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:40:40,550 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:40,551 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:40:40,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:40,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:40,552 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.038s
2025-07-12 15:40:40,553 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:40:40,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:40,554 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:40,554 - sqlalchemy.engine.Engine - INFO - [cached since 0.00814s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:40,556 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:40:40,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.007421s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:40:40,556 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:40:40,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.006541s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:40,557 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:40:40,557 - sqlalchemy.engine.Engine - INFO - [cached since 0.006262s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:40,558 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:40,559 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-12 15:40:42,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,626 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,626 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,628 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,628 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,628 - sqlalchemy.engine.Engine - INFO - [cached since 2.082s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,629 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,630 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,636 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:40:42,636 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:40:42,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,640 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-12 15:40:42,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,641 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,641 - sqlalchemy.engine.Engine - INFO - [cached since 2.095s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,642 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,644 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 40, 42, 643891))
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - [cached since 2.099s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - [cached since 2.099s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,645 - sqlalchemy.engine.Engine - INFO - [cached since 2.099s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,646 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,646 - sqlalchemy.engine.Engine - INFO - [cached since 2.099s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,647 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:40:42,647 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 40, 42, 646692))
2025-07-12 15:40:42,647 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:40:42,647 - sqlalchemy.engine.Engine - INFO - [cached since 2.099s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:40:42,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,649 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:40:42,649 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:40:42,653 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:40:42,653 - sqlalchemy.engine.Engine - INFO - [cached since 0.01718s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:40:42,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,657 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:40:42,657 - sqlalchemy.engine.Engine - INFO - [cached since 2.107s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,657 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,658 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,658 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,659 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:40:42,659 - sqlalchemy.engine.Engine - INFO - [cached since 2.108s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,659 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.033s
2025-07-12 15:40:42,660 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,660 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.031s
2025-07-12 15:40:42,661 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.031s
2025-07-12 15:40:42,661 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-12 15:40:42,662 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,663 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,663 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - [cached since 2.117s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - [cached since 2.118s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - [cached since 2.118s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,664 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.038s
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,664 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,665 - sqlalchemy.engine.Engine - INFO - [cached since 2.118s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,665 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:40:42,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.02091s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 40, 42, 665411))
2025-07-12 15:40:42,666 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:40:42,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.01692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:40:42,667 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 15:40:42,667 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 15:40:42,667 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:40:42,667 - sqlalchemy.engine.Engine - INFO - [cached since 0.02057s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 40, 42, 667571))
2025-07-12 15:40:42,668 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,668 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,668 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,669 - sqlalchemy.engine.Engine - INFO - [cached since 2.123s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,670 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:40:42,670 - sqlalchemy.engine.Engine - INFO - [cached since 2.121s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:40:42,670 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-12 15:40:42,670 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 15:40:42,670 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-12 15:40:42,670 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 15:40:42,671 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:40:42,671 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,672 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:40:42,672 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:40:42,672 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,673 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:42,673 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:42,673 - sqlalchemy.engine.Engine - INFO - [cached since 2.126s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:42,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,673 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 15:40:42,673 - sqlalchemy.engine.Engine - INFO - [cached since 0.006869s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 15:40:42,674 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:42,674 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-12 15:40:42,675 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 15:40:48,466 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:40:48,468 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 15:40:48,501 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:40:48,505 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:40:48,506 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:40:48,506 - sqlalchemy.engine.Engine - INFO - [cached since 7.96s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:48,508 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:40:48,509 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:40:48,510 - app.api.chat - ERROR - 채팅 처리 중 오류 발생: Multiple rows were found when one or none was required
2025-07-12 15:40:48,510 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 처리 중 오류가 발생했습니다: Multiple rows were found when one or none was required
2025-07-12 15:40:48,510 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:40:48,512 - app.main - ERROR - HTTP 예외: 500 - 채팅 처리 중 오류가 발생했습니다: Multiple rows were found when one or none was required - URL: http://localhost:8000/api/v1/chat/
2025-07-12 15:40:48,512 - app.main - INFO - ✅ POST /api/v1/chat/ - 500 - 0.011s
2025-07-12 15:42:37,660 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 15:42:37,977 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 15:42:37,977 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 15:42:38,844 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:42:39,025 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 15:42:39,028 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 15:42:39,028 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,029 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 15:42:39,029 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,029 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 15:42:39,029 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:39,030 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 15:42:39,030 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,032 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 15:42:39,032 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,034 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 15:42:39,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,036 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 15:42:39,036 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,038 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 15:42:39,038 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,039 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 15:42:39,039 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,041 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 15:42:39,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,042 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 15:42:39,042 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,043 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 15:42:39,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,045 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 15:42:39,045 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,047 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 15:42:39,047 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,048 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 15:42:39,048 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,050 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 15:42:39,050 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,051 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 15:42:39,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 15:42:39,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:42:39,053 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 15:42:39,067 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 15:42:39,067 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 15:42:39,071 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 15:42:39,072 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 15:42:39,072 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 15:42:39,072 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 15:42:39,072 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 15:42:54,010 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:42:54,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:54,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:54,047 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:54,050 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:42:54,050 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:42:54,052 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:42:54,052 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:54,053 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:42:54,053 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:54,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:54,055 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.045s
2025-07-12 15:42:54,056 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:42:54,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:54,057 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:54,057 - sqlalchemy.engine.Engine - INFO - [cached since 0.00963s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:54,057 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:42:54,057 - sqlalchemy.engine.Engine - INFO - [cached since 0.007772s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:42:54,059 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:42:54,059 - sqlalchemy.engine.Engine - INFO - [cached since 0.006338s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:54,059 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:42:54,059 - sqlalchemy.engine.Engine - INFO - [cached since 0.00559s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:54,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:54,061 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-12 15:42:56,130 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,132 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,133 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,134 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,134 - sqlalchemy.engine.Engine - INFO - [cached since 2.087s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,134 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,136 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,140 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:42:56,140 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:42:56,141 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,147 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,149 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-12 15:42:56,150 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,150 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,150 - sqlalchemy.engine.Engine - INFO - [cached since 2.103s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,151 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,151 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,152 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,152 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,152 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,154 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:42:56,155 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 42, 56, 153371))
2025-07-12 15:42:56,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,155 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,156 - sqlalchemy.engine.Engine - INFO - [cached since 2.108s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,156 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,158 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:42:56,158 - sqlalchemy.engine.Engine - INFO - [cached since 2.108s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:42:56,159 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:42:56,159 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:42:56,160 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:42:56,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 42, 56, 160241))
2025-07-12 15:42:56,160 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,161 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,161 - sqlalchemy.engine.Engine - INFO - [cached since 2.114s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,162 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:42:56,162 - sqlalchemy.engine.Engine - INFO - [cached since 2.11s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,162 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,164 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 15:42:56,164 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 15:42:56,164 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:42:56,164 - sqlalchemy.engine.Engine - INFO - [cached since 2.111s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,166 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,166 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,166 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.032s
2025-07-12 15:42:56,167 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.031s
2025-07-12 15:42:56,167 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.026s
2025-07-12 15:42:56,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,168 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,168 - sqlalchemy.engine.Engine - INFO - [cached since 2.121s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,168 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,168 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.036s
2025-07-12 15:42:56,168 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-12 15:42:56,169 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,169 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - [cached since 0.02999s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - [cached since 2.123s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,170 - sqlalchemy.engine.Engine - INFO - [cached since 2.123s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,171 - sqlalchemy.engine.Engine - INFO - [cached since 2.124s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,171 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,172 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:42:56,172 - sqlalchemy.engine.Engine - INFO - [cached since 0.01192s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 42, 56, 172237))
2025-07-12 15:42:56,172 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:42:56,172 - sqlalchemy.engine.Engine - INFO - [cached since 0.01333s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:42:56,173 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:42:56,173 - sqlalchemy.engine.Engine - INFO - [cached since 0.01854s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 42, 56, 173028))
2025-07-12 15:42:56,173 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,173 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,173 - sqlalchemy.engine.Engine - INFO - [cached since 2.126s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,174 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:42:56,174 - sqlalchemy.engine.Engine - INFO - [cached since 2.124s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:42:56,174 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.018s
2025-07-12 15:42:56,175 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:42:56,175 - sqlalchemy.engine.Engine - INFO - [cached since 2.123s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,175 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 15:42:56,176 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:42:56,176 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,176 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-12 15:42:56,176 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 15:42:56,177 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,177 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-12 15:42:56,190 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:42:56,191 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:42:56,191 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:42:56,191 - sqlalchemy.engine.Engine - INFO - [cached since 2.144s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:42:56,192 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 15:42:56,192 - sqlalchemy.engine.Engine - INFO - [cached since 0.02836s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 15:42:56,193 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:42:56,193 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 15:43:00,347 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 15:43:00,350 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.003s
2025-07-12 15:43:00,381 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 15:43:00,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:43:00,385 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:43:00,385 - sqlalchemy.engine.Engine - INFO - [cached since 6.338s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:43:00,388 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:43:00,388 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:43:01,067 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-12 15:43:01,087 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 15:43:01,090 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: f59a42df-6671-4033-9b6e-72389c9bc9dc, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 15:43:01,103 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 15:43:01,105 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 15:43:01,113 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 15:43:01,115 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 20개
2025-07-12 15:43:02,030 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 15:43:02,031 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:43:02,032 - sqlalchemy.engine.Engine - INFO - [cached since 7.984s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:43:02,037 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:43:02,037 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:43:02,040 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:43:02,041 - sqlalchemy.engine.Engine - INFO - [cached since 5.88s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 43, 2, 40085))
2025-07-12 15:43:03,111 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 157
2025-07-12 15:43:03,116 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:43:03,117 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] ('64c6a329-12ed-4992-ae92-59736e306a39', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '안녕', 'calm', 0.1, 'text', '097f0aea-3e1e-4543-997f-24de79ab77e5', None)
2025-07-12 15:43:03,120 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:43:03,129 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:43:03,135 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:43:03,135 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] ('64c6a329-12ed-4992-ae92-59736e306a39',)
2025-07-12 15:43:03,139 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 15:43:03,140 - sqlalchemy.engine.Engine - INFO - [cached since 0.02362s ago] ('b4389e54-8cbf-4f2d-a733-4a94d31094dc', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '안녕하세요, 강영모님. 편안하게 말씀하십시오. 오늘 하루는 어떠셨는지 궁금합니다. 혹시 불편하시거나 이야기 나누고 싶으신 내용이 있으시면 언제든지 말씀해주세요. 제가 옆에서 따뜻하게 함께 하겠습니다. 😊', 'calm', 0.1, 'text', '097f0aea-3e1e-4543-997f-24de79ab77e5', None)
2025-07-12 15:43:03,145 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:43:03,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:43:03,149 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 15:43:03,149 - sqlalchemy.engine.Engine - INFO - [cached since 0.01447s ago] ('b4389e54-8cbf-4f2d-a733-4a94d31094dc',)
2025-07-12 15:43:03,151 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:43:03,152 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.771s
2025-07-12 15:43:09,494 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-12 15:43:09,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:43:09,501 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:43:09,501 - sqlalchemy.engine.Engine - INFO - [cached since 15.45s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:43:09,504 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 15:43:09,504 - sqlalchemy.engine.Engine - INFO - [cached since 9.116s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:43:09,507 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.session_id = %s
2025-07-12 15:43:09,507 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('7eb82af0-b633-421c-bf5a-94aecab5379d',)
2025-07-12 15:43:09,510 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_sessions (id, user_id, session_id, start_time, end_time, message_count, avg_emotion_score, session_summary) VALUES (%s, %s, %s, now(), %s, %s, %s, %s)
2025-07-12 15:43:09,510 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('36a4b958-5c68-4267-ab3e-39ef3f28aedc', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', None, 0, None, None)
2025-07-12 15:43:09,512 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 15:43:09,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:43:09,514 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-12 15:43:09,514 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('36a4b958-5c68-4267-ab3e-39ef3f28aedc',)
2025-07-12 15:43:09,515 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:43:09,516 - app.main - INFO - ✅ POST /api/v1/chat/session - 200 - 0.022s
2025-07-12 15:43:09,518 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:43:09,519 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:43:09,519 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:43:09,519 - sqlalchemy.engine.Engine - INFO - [cached since 15.47s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:43:09,521 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 15:43:09,521 - sqlalchemy.engine.Engine - INFO - [cached since 13.36s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 15:43:09,522 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:43:09,522 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-12 15:45:34,226 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:45:34,229 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:45:34,231 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:45:34,232 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:45:34,232 - sqlalchemy.engine.Engine - INFO - [cached since 160.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:45:34,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:45:34,233 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:45:34,233 - sqlalchemy.engine.Engine - INFO - [cached since 160.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:45:34,235 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:45:34,235 - sqlalchemy.engine.Engine - INFO - [cached since 160.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:45:34,238 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:45:34,238 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 45, 34, 237642))
2025-07-12 15:45:34,243 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:45:34,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:45:34,246 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.021s
2025-07-12 15:45:34,247 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.018s
2025-07-12 15:45:34,248 - app.main - INFO - 🔄 GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:45:34,249 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:45:34,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:45:34,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:45:34,251 - sqlalchemy.engine.Engine - INFO - [cached since 160.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:45:34,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:45:34,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:45:34,251 - sqlalchemy.engine.Engine - INFO - [cached since 160.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:45:34,252 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:45:34,253 - sqlalchemy.engine.Engine - INFO - [cached since 160.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:45:34,254 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:45:34,254 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 45, 34, 253691))
2025-07-12 15:45:34,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:45:34,256 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:45:34,256 - app.main - INFO - ✅ GET /api/v1/chat/stats/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 15:45:34,257 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 15:46:45,289 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:46:45,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:45,343 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:45,343 - sqlalchemy.engine.Engine - INFO - [cached since 231.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:45,347 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:46:45,347 - sqlalchemy.engine.Engine - INFO - [cached since 231.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:46:45,406 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:46:45,406 - sqlalchemy.engine.Engine - INFO - [cached since 231.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:45,414 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:46:45,415 - sqlalchemy.engine.Engine - INFO - [cached since 231.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:45,421 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:45,423 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.135s
2025-07-12 15:46:45,425 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:46:45,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:45,427 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:45,427 - sqlalchemy.engine.Engine - INFO - [cached since 231.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:45,428 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:46:45,429 - sqlalchemy.engine.Engine - INFO - [cached since 231.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:46:45,432 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:46:45,432 - sqlalchemy.engine.Engine - INFO - [cached since 231.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:45,434 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:46:45,434 - sqlalchemy.engine.Engine - INFO - [cached since 231.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:45,488 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:45,493 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.067s
2025-07-12 15:46:48,444 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,449 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,449 - sqlalchemy.engine.Engine - INFO - [cached since 234.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,452 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:46:48,452 - sqlalchemy.engine.Engine - INFO - [cached since 232.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:46:48,454 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,456 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.012s
2025-07-12 15:46:48,489 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,491 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,492 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,493 - sqlalchemy.engine.Engine - INFO - [cached since 234.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,493 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,494 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,495 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,500 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:46:48,500 - sqlalchemy.engine.Engine - INFO - [cached since 234.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:46:48,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,502 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,502 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,505 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,511 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:46:48,511 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,515 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:46:48,515 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 46, 48, 515103))
2025-07-12 15:46:48,523 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,525 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,525 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,526 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,526 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,527 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,527 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,529 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:46:48,529 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:46:48,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,541 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,541 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,542 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 15:46:48,542 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 15:46:48,543 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:46:48,543 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 46, 48, 543221))
2025-07-12 15:46:48,544 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:46:48,544 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,545 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 15:46:48,545 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 15:46:48,545 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,546 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,546 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.053s
2025-07-12 15:46:48,546 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,546 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,547 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.055s
2025-07-12 15:46:48,547 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,548 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,548 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,549 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,549 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,549 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,549 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.055s
2025-07-12 15:46:48,549 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.059s
2025-07-12 15:46:48,549 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.044s
2025-07-12 15:46:48,549 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 15:46:48,549 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 15:46:48,550 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 15:46:48,550 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 6, 46, 48, 550117))
2025-07-12 15:46:48,550 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.055s
2025-07-12 15:46:48,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,551 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,551 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,554 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,554 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,554 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,554 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,554 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,556 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 15:46:48,556 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 15:46:48,556 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 15:46:48,556 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 6, 46, 48, 556759))
2025-07-12 15:46:48,557 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 15:46:48,557 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,558 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,558 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-12 15:46:48,558 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-12 15:46:48,558 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 15:46:48,558 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,560 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,560 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-12 15:46:48,560 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 15:46:48,584 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 15:46:48,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 15:46:48,586 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 15:46:48,586 - sqlalchemy.engine.Engine - INFO - [cached since 234.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 15:46:48,588 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 15:46:48,588 - sqlalchemy.engine.Engine - INFO - [cached since 232.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 15:46:48,589 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 15:46:48,591 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 16:53:43,338 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:43,343 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:43,355 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.017s
2025-07-12 16:53:43,358 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 16:53:43,367 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:43,478 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:43,479 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:43,479 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:43,482 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 16:53:43,483 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 16:53:43,486 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 16:53:43,486 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:43,487 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 16:53:43,487 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:43,489 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:43,493 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.126s
2025-07-12 16:53:43,494 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:43,587 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:43,588 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:43,588 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:43,589 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 16:53:43,589 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 16:53:43,592 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 16:53:43,592 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:43,592 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 16:53:43,592 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:43,593 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:43,596 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.102s
2025-07-12 16:53:45,797 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,801 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,804 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 16:53:45,804 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 16:53:45,805 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,806 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-12 16:53:45,839 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,841 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,841 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,844 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,845 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,848 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,848 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,856 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,858 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,858 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,861 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 16:53:45,864 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 7, 53, 45, 860311))
2025-07-12 16:53:45,864 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,867 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 16:53:45,870 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 16:53:45,871 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,871 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,875 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,875 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,875 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,877 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 16:53:45,878 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 16:53:45,878 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,879 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,879 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,879 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,879 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,880 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,880 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,881 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,882 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 16:53:45,883 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 16:53:45,883 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 16:53:45,884 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 7, 53, 45, 883644))
2025-07-12 16:53:45,885 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 16:53:45,885 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 16:53:45,886 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,887 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 16:53:45,887 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,887 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.044s
2025-07-12 16:53:45,888 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.042s
2025-07-12 16:53:45,889 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,890 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 16:53:45,890 - sqlalchemy.engine.Engine - INFO - [cached since 2406s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,890 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,895 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.031s
2025-07-12 16:53:45,898 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,898 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,899 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.058s
2025-07-12 16:53:45,899 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.058s
2025-07-12 16:53:45,900 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,901 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,904 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,905 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,905 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,906 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,906 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,906 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,906 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,907 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,907 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,908 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,908 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,909 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 16:53:45,909 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 7, 53, 45, 909095))
2025-07-12 16:53:45,911 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 16:53:45,911 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 16:53:45,912 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 16:53:45,913 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 16:53:45,913 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,915 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 16:53:45,915 - sqlalchemy.engine.Engine - INFO - [cached since 2404s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 7, 53, 45, 915181))
2025-07-12 16:53:45,916 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,917 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,918 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,918 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.079s
2025-07-12 16:53:45,919 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 16:53:45,920 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 16:53:45,921 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 16:53:45,921 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,921 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.031s
2025-07-12 16:53:45,921 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.023s
2025-07-12 16:53:45,922 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.022s
2025-07-12 16:53:45,923 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-12 16:53:45,924 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 16:53:45,924 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 16:53:45,926 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 16:53:45,926 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,926 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 16:53:45,926 - sqlalchemy.engine.Engine - INFO - [cached since 2407s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 16:53:45,928 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 16:53:45,928 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 22:03:58,089 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-12 22:03:58,093 - app.main - INFO - ✅ OPTIONS /api/v1/chat/session - 200 - 0.005s
2025-07-12 22:03:58,097 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-12 22:03:58,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:03:58,128 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:03:58,128 - sqlalchemy.engine.Engine - INFO - [cached since 7502s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:03:58,140 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 22:03:58,140 - sqlalchemy.engine.Engine - INFO - [cached since 7495s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:03:58,143 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.session_id = %s
2025-07-12 22:03:58,143 - sqlalchemy.engine.Engine - INFO - [cached since 7486s ago] ('36a4b958-5c68-4267-ab3e-39ef3f28aedc',)
2025-07-12 22:03:58,146 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_sessions (id, user_id, session_id, start_time, end_time, message_count, avg_emotion_score, session_summary) VALUES (%s, %s, %s, now(), %s, %s, %s, %s)
2025-07-12 22:03:58,146 - sqlalchemy.engine.Engine - INFO - [cached since 7486s ago] ('808b0993-209f-403b-a549-6401d70b91b7', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', None, 0, None, None)
2025-07-12 22:03:58,149 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 22:03:58,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:03:58,156 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-12 22:03:58,156 - sqlalchemy.engine.Engine - INFO - [cached since 7486s ago] ('808b0993-209f-403b-a549-6401d70b91b7',)
2025-07-12 22:03:58,158 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:03:58,159 - app.main - INFO - ✅ POST /api/v1/chat/session - 200 - 0.062s
2025-07-12 22:03:58,163 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:03:58,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:03:58,167 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:03:58,168 - sqlalchemy.engine.Engine - INFO - [cached since 7502s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:03:58,169 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:03:58,169 - sqlalchemy.engine.Engine - INFO - [cached since 7499s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:03:58,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:03:58,173 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:11:05,128 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:11:05,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:05,135 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:05,135 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,136 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:11:05,136 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:11:05,136 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:11:05,136 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:11:05,139 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:11:05,140 - sqlalchemy.engine.Engine - INFO - [cached since 7926s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:11:05,140 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 22:11:05,141 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:05,141 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:05,141 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:05,143 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:11:05,143 - sqlalchemy.engine.Engine - INFO - [cached since 7926s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 11, 5, 142870))
2025-07-12 22:11:05,143 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:11:05,145 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:05,146 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:05,146 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:05,146 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:05,147 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:05,147 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,148 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:11:05,148 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:11:05,148 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-12 22:11:05,149 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:05,149 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:05,149 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,150 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:11:05,150 - sqlalchemy.engine.Engine - INFO - [cached since 7926s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 11, 5, 150148))
2025-07-12 22:11:05,151 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:11:05,152 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,152 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-12 22:11:05,153 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:11:05,153 - sqlalchemy.engine.Engine - INFO - [cached since 7926s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:11:05,154 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:05,154 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:11:05,155 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,155 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:11:05,157 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:05,158 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:05,158 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:05,159 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:05,159 - sqlalchemy.engine.Engine - INFO - [cached since 7929s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:05,160 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:11:05,161 - sqlalchemy.engine.Engine - INFO - [cached since 7926s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:11:05,161 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.025s
2025-07-12 22:11:05,162 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.025s
2025-07-12 22:11:05,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:05,165 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.022s
2025-07-12 22:11:05,170 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 22:11:20,084 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:11:20,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:20,086 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:20,086 - sqlalchemy.engine.Engine - INFO - [cached since 7944s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:20,088 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:11:20,088 - sqlalchemy.engine.Engine - INFO - [cached since 7944s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:11:20,090 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:11:20,090 - sqlalchemy.engine.Engine - INFO - [cached since 7944s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:20,091 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:11:20,092 - sqlalchemy.engine.Engine - INFO - [cached since 7944s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:20,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:20,094 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:11:58,463 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:11:58,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:58,466 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:58,466 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:58,468 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:11:58,468 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:11:58,471 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:11:58,472 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:58,473 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:11:58,473 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:58,475 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:58,476 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 22:11:58,478 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:11:58,479 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:11:58,480 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:11:58,480 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:58,482 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:11:58,482 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:11:58,486 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:11:58,486 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:58,488 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:11:58,488 - sqlalchemy.engine.Engine - INFO - [cached since 7982s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:11:58,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:11:58,492 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-12 22:13:01,975 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:13:01,977 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 22:13:01,978 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:13:01,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:13:01,979 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:13:01,979 - sqlalchemy.engine.Engine - INFO - [cached since 8045s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:13:01,983 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:13:01,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 22:13:01,985 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:13:01,985 - sqlalchemy.engine.Engine - INFO - [cached since 8045s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:13:01,987 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:13:01,987 - sqlalchemy.engine.Engine - INFO - [cached since 8045s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:13:01,988 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:13:01,988 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:13:01,989 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:13:01,990 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 22:13:01,991 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.013s
2025-07-12 22:13:02,969 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:13:02,969 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-12 22:13:02,970 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:13:02,971 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:13:02,972 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:13:02,972 - sqlalchemy.engine.Engine - INFO - [cached since 8046s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:13:02,973 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:13:02,973 - sqlalchemy.engine.Engine - INFO - [cached since 0.9909s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 22:13:02,975 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:13:02,975 - sqlalchemy.engine.Engine - INFO - [cached since 8046s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:13:02,976 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:13:02,976 - sqlalchemy.engine.Engine - INFO - [cached since 8046s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:13:02,977 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:13:02,977 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:13:02,977 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:13:02,978 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff
2025-07-12 22:13:02,978 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.007s
2025-07-12 22:13:05,739 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/session/76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff - 클라이언트: 127.0.0.1
2025-07-12 22:13:05,740 - app.main - INFO - ✅ OPTIONS /api/v1/chat/session/76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff - 200 - 0.001s
2025-07-12 22:13:05,742 - app.main - INFO - 🔄 DELETE /api/v1/chat/session/76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff - 클라이언트: 127.0.0.1
2025-07-12 22:13:05,743 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/session/76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff
2025-07-12 22:13:05,743 - app.main - INFO - ✅ DELETE /api/v1/chat/session/76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff - 404 - 0.001s
2025-07-12 22:28:15,168 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:28:15,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:15,182 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:15,183 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:15,189 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:28:15,190 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:28:15,193 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:28:15,193 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:15,195 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:28:15,195 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:15,198 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:15,199 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.032s
2025-07-12 22:28:15,201 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:28:15,202 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:15,203 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:15,203 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:15,205 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:28:15,205 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:28:15,207 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:28:15,207 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:15,209 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:28:15,209 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:15,211 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:15,211 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 22:28:17,276 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,278 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,278 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,278 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,278 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,284 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,285 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,285 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,285 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,286 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,287 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,288 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,289 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:28:17,289 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:28:17,291 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:28:17,291 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 28, 17, 290751))
2025-07-12 22:28:17,292 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:28:17,292 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 28, 17, 292272))
2025-07-12 22:28:17,293 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:28:17,293 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:28:17,294 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:28:17,294 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:28:17,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,296 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,296 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,298 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:28:17,298 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,300 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:28:17,300 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.027s
2025-07-12 22:28:17,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.025s
2025-07-12 22:28:17,303 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.025s
2025-07-12 22:28:17,304 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.026s
2025-07-12 22:28:17,304 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,308 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,308 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,308 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,312 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,312 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,313 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.035s
2025-07-12 22:28:17,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,313 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,313 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,314 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,314 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,315 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,325 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,325 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:28:17,336 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:28:17,337 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:28:17,337 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:28:17,337 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:28:17,337 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:28:17,338 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:28:17,338 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 28, 17, 338130))
2025-07-12 22:28:17,338 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:28:17,338 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 28, 17, 338698))
2025-07-12 22:28:17,339 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,339 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,340 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,340 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,340 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,340 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,342 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:28:17,342 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:28:17,342 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.038s
2025-07-12 22:28:17,342 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.034s
2025-07-12 22:28:17,343 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:28:17,343 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,343 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.031s
2025-07-12 22:28:17,344 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:28:17,344 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,346 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,346 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 22:28:17,350 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,350 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,351 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.043s
2025-07-12 22:28:17,351 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.043s
2025-07-12 22:28:17,382 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:28:17,383 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:17,383 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:17,383 - sqlalchemy.engine.Engine - INFO - [cached since 8961s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:17,385 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:28:17,385 - sqlalchemy.engine.Engine - INFO - [cached since 8959s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:28:17,386 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:17,387 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-12 22:28:21,178 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:28:21,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:28:21,180 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:28:21,181 - sqlalchemy.engine.Engine - INFO - [cached since 8965s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:21,183 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:28:21,183 - sqlalchemy.engine.Engine - INFO - [cached since 919.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 22:28:21,185 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:28:21,185 - sqlalchemy.engine.Engine - INFO - [cached since 8965s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:21,186 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:28:21,186 - sqlalchemy.engine.Engine - INFO - [cached since 8965s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:28:21,187 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:28:21,188 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:28:21,188 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:28:21,189 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff
2025-07-12 22:28:21,189 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.012s
2025-07-12 22:40:30,730 - app.main - INFO - 🔄 OPTIONS /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 22:40:30,734 - app.main - INFO - ✅ OPTIONS /api/v1/chat - 200 - 0.004s
2025-07-12 22:40:30,737 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 22:40:30,739 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.002s
2025-07-12 22:40:30,758 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 22:40:30,758 - app.main - INFO - ✅ OPTIONS /api/v1/chat/ - 200 - 0.001s
2025-07-12 22:40:30,760 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 22:40:30,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:30,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:30,770 - sqlalchemy.engine.Engine - INFO - [cached since 9694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:30,777 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 22:40:30,778 - sqlalchemy.engine.Engine - INFO - [cached since 9688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:31,779 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 3, 벡터 차원: 768
2025-07-12 22:40:31,803 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 22:40:31,804 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 71fa0ffc-05d1-46c9-a8b9-c8723b998f1f, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 22:40:31,815 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 22:40:31,816 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 22:40:31,826 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 22:40:31,827 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 21개
2025-07-12 22:40:32,902 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 22:40:32,904 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:32,904 - sqlalchemy.engine.Engine - INFO - [cached since 9696s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:32,907 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:32,907 - sqlalchemy.engine.Engine - INFO - [cached since 9688s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:40:32,910 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:40:32,911 - sqlalchemy.engine.Engine - INFO - [cached since 9694s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 40, 32, 910243))
2025-07-12 22:40:34,128 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 161
2025-07-12 22:40:34,130 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 22:40:34,130 - sqlalchemy.engine.Engine - INFO - [cached since 9688s ago] ('31f2683f-7d10-44c2-a20c-c35f628bed4b', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '안녕?', 'calm', 0.1, 'text', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', None)
2025-07-12 22:40:34,132 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 22:40:34,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:34,135 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 22:40:34,135 - sqlalchemy.engine.Engine - INFO - [cached since 9688s ago] ('31f2683f-7d10-44c2-a20c-c35f628bed4b',)
2025-07-12 22:40:34,138 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 22:40:34,138 - sqlalchemy.engine.Engine - INFO - [cached since 9688s ago] ('f9600004-ab21-4d16-869f-6cca7c383980', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '안녕하세요, 강영모님! 오랜만에 뵙는 것 같습니다. 오늘 하루는 어떠셨나요? 혹시 불편하시거나 힘드신 점은 없으셨는지 여쭤봐도 괜찮을까요? 편안하게 말씀해 주세요. 제가 곁에서 따뜻하게 위로해 드리고 싶습니다. 😊', 'calm', 0.1, 'text', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', None)
2025-07-12 22:40:34,140 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 22:40:34,141 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:34,142 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 22:40:34,142 - sqlalchemy.engine.Engine - INFO - [cached since 9688s ago] ('f9600004-ab21-4d16-869f-6cca7c383980',)
2025-07-12 22:40:34,144 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:34,145 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.385s
2025-07-12 22:40:39,476 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:39,477 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:39,478 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:39,478 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:39,482 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:39,482 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:40:39,500 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:39,501 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:39,503 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:39,503 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:39,506 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:39,507 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.031s
2025-07-12 22:40:39,508 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:39,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:39,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:39,510 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:39,512 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:39,512 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:40:39,516 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:39,516 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:39,518 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:39,518 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:39,521 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:39,523 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 22:40:41,576 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,578 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,579 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,581 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,581 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,582 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,583 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,584 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,585 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,585 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,585 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,587 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:40:41,587 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:40:41,588 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,588 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,588 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,588 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,588 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,588 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,589 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:40:41,590 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 40, 41, 589634))
2025-07-12 22:40:41,590 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,591 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:41,591 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:40:41,592 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:40:41,592 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:40:41,593 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:40:41,593 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 40, 41, 592789))
2025-07-12 22:40:41,594 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,596 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:41,597 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,597 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,598 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,599 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:41,599 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,600 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.023s
2025-07-12 22:40:41,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,603 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.024s
2025-07-12 22:40:41,604 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,604 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.022s
2025-07-12 22:40:41,605 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,606 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.023s
2025-07-12 22:40:41,607 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,607 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,607 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,607 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,608 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,608 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,608 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,609 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,609 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:40:41,609 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:40:41,610 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.031s
2025-07-12 22:40:41,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,610 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,611 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,611 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:40:41,611 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 40, 41, 611270))
2025-07-12 22:40:41,611 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,612 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,613 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,613 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:40:41,613 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:40:41,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,614 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,614 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,614 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,616 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:40:41,616 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:40:41,616 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:40:41,616 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 40, 41, 616402))
2025-07-12 22:40:41,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,617 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,617 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,617 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,618 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:41,618 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:40:41,618 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-12 22:40:41,618 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-12 22:40:41,619 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.012s
2025-07-12 22:40:41,620 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:41,620 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,620 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-12 22:40:41,621 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 22:40:41,621 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:41,621 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,623 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 22:40:41,640 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:41,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:41,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:41,642 - sqlalchemy.engine.Engine - INFO - [cached since 9705s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:41,644 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:40:41,644 - sqlalchemy.engine.Engine - INFO - [cached since 9703s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:40:41,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:41,646 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-12 22:40:43,958 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:43,959 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:43,960 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:43,960 - sqlalchemy.engine.Engine - INFO - [cached since 9707s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:43,962 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:43,962 - sqlalchemy.engine.Engine - INFO - [cached since 1662s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 22:40:43,965 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:43,965 - sqlalchemy.engine.Engine - INFO - [cached since 9707s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:43,966 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:43,966 - sqlalchemy.engine.Engine - INFO - [cached since 9707s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:43,968 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:43,968 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:40:56,551 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:56,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:56,555 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:56,555 - sqlalchemy.engine.Engine - INFO - [cached since 9720s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:56,558 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:56,559 - sqlalchemy.engine.Engine - INFO - [cached since 1675s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 22:40:56,563 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:56,563 - sqlalchemy.engine.Engine - INFO - [cached since 9720s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:56,564 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:56,564 - sqlalchemy.engine.Engine - INFO - [cached since 9720s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:56,565 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:40:56,565 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:40:56,566 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:56,566 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 22:40:56,567 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.015s
2025-07-12 22:40:57,250 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:57,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:57,254 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:57,254 - sqlalchemy.engine.Engine - INFO - [cached since 9721s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:57,256 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:57,257 - sqlalchemy.engine.Engine - INFO - [cached since 1675s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 22:40:57,259 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:57,259 - sqlalchemy.engine.Engine - INFO - [cached since 9721s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:57,261 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:57,261 - sqlalchemy.engine.Engine - INFO - [cached since 9721s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:57,262 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:57,264 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 22:40:58,785 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:58,786 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-12 22:40:58,788 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:58,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:58,791 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:58,791 - sqlalchemy.engine.Engine - INFO - [cached since 9722s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:58,793 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:58,793 - sqlalchemy.engine.Engine - INFO - [cached since 1677s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bede60e5-71d1-4ec3-b98c-78b94b814464', 0, 50)
2025-07-12 22:40:58,797 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:58,797 - sqlalchemy.engine.Engine - INFO - [cached since 9722s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:58,798 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:58,798 - sqlalchemy.engine.Engine - INFO - [cached since 9722s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:58,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:58,801 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 22:40:59,304 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:59,305 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-12 22:40:59,306 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:40:59,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:40:59,308 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:40:59,308 - sqlalchemy.engine.Engine - INFO - [cached since 9723s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:59,310 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:40:59,310 - sqlalchemy.engine.Engine - INFO - [cached since 1677s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 22:40:59,312 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:40:59,312 - sqlalchemy.engine.Engine - INFO - [cached since 9723s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:59,313 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:40:59,313 - sqlalchemy.engine.Engine - INFO - [cached since 9723s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:40:59,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:40:59,315 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 22:41:00,018 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:41:00,020 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:41:00,021 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:41:00,021 - sqlalchemy.engine.Engine - INFO - [cached since 9723s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:41:00,022 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:41:00,022 - sqlalchemy.engine.Engine - INFO - [cached since 1678s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bede60e5-71d1-4ec3-b98c-78b94b814464', 0, 50)
2025-07-12 22:41:00,024 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:41:00,024 - sqlalchemy.engine.Engine - INFO - [cached since 9723s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:41:00,025 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:41:00,025 - sqlalchemy.engine.Engine - INFO - [cached since 9723s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:41:00,028 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:41:00,029 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 22:45:24,125 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 클라이언트: 127.0.0.1
2025-07-12 22:45:24,128 - app.main - INFO - ✅ OPTIONS /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 200 - 0.004s
2025-07-12 22:45:24,130 - app.main - INFO - 🔄 DELETE /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 클라이언트: 127.0.0.1
2025-07-12 22:45:24,132 - app.main - ERROR - HTTP 예외: 404 - Not Found - URL: http://localhost:8000/api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464
2025-07-12 22:45:24,133 - app.main - INFO - ✅ DELETE /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 404 - 0.002s
2025-07-12 22:48:57,314 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 22:48:57,623 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 22:48:57,623 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 22:48:58,431 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 22:48:58,612 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 22:48:58,614 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 22:48:58,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,615 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 22:48:58,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,615 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 22:48:58,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:48:58,616 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 22:48:58,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,625 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 22:48:58,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,626 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 22:48:58,626 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,627 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 22:48:58,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,628 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 22:48:58,628 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,630 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 22:48:58,630 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,631 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 22:48:58,631 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,633 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 22:48:58,633 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,634 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 22:48:58,634 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,636 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 22:48:58,636 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,637 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 22:48:58,637 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,639 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 22:48:58,639 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,640 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 22:48:58,640 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,642 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 22:48:58,642 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:48:58,643 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 22:48:58,644 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 22:48:58,660 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 22:48:58,660 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 22:48:58,664 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 22:48:58,665 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 22:48:58,665 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 22:48:58,665 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 22:48:58,665 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 22:49:52,668 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:49:52,687 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:52,704 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:52,704 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:52,706 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:49:52,706 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:49:52,708 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:49:52,708 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:52,709 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:49:52,709 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:52,711 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:52,711 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.043s
2025-07-12 22:49:52,713 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:49:52,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:52,716 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:52,717 - sqlalchemy.engine.Engine - INFO - [cached since 0.01249s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:52,718 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:49:52,718 - sqlalchemy.engine.Engine - INFO - [cached since 0.01182s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:49:52,719 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:49:52,719 - sqlalchemy.engine.Engine - INFO - [cached since 0.01044s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:52,719 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:49:52,719 - sqlalchemy.engine.Engine - INFO - [cached since 0.01019s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:52,720 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:52,721 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 22:49:54,792 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,794 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,795 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,795 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,795 - sqlalchemy.engine.Engine - INFO - [cached since 2.091s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,795 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,797 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,808 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:49:54,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:49:54,809 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,812 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,814 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,815 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,815 - sqlalchemy.engine.Engine - INFO - [cached since 2.111s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,815 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,816 - sqlalchemy.engine.Engine - INFO - [cached since 2.112s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,816 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.025s
2025-07-12 22:49:54,818 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:49:54,818 - sqlalchemy.engine.Engine - INFO - [cached since 2.112s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:49:54,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,818 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,818 - sqlalchemy.engine.Engine - INFO - [cached since 2.114s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,820 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:49:54,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 49, 54, 819494))
2025-07-12 22:49:54,822 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:49:54,822 - sqlalchemy.engine.Engine - INFO - [cached since 2.114s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,823 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,824 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:49:54,824 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:49:54,824 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,826 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,826 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,826 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,834 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:49:54,834 - sqlalchemy.engine.Engine - INFO - [cached since 2.125s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,834 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,834 - sqlalchemy.engine.Engine - INFO - [cached since 2.13s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,838 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,844 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:49:54,844 - sqlalchemy.engine.Engine - INFO - [cached since 0.0363s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:49:54,845 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:49:54,846 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 49, 54, 845449))
2025-07-12 22:49:54,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,848 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,848 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.053s
2025-07-12 22:49:54,849 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.052s
2025-07-12 22:49:54,849 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,850 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.056s
2025-07-12 22:49:54,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,850 - sqlalchemy.engine.Engine - INFO - [cached since 2.146s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,850 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,851 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.026s
2025-07-12 22:49:54,851 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.042s
2025-07-12 22:49:54,851 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,851 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,851 - sqlalchemy.engine.Engine - INFO - [cached since 2.147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,852 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,853 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:49:54,853 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:49:54,853 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,853 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,853 - sqlalchemy.engine.Engine - INFO - [cached since 2.149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,854 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:49:54,854 - sqlalchemy.engine.Engine - INFO - [cached since 0.03399s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 49, 54, 854186))
2025-07-12 22:49:54,854 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,854 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,855 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,855 - sqlalchemy.engine.Engine - INFO - [cached since 2.151s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,855 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:49:54,855 - sqlalchemy.engine.Engine - INFO - [cached since 0.03147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:49:54,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,856 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,856 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,856 - sqlalchemy.engine.Engine - INFO - [cached since 2.152s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,856 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:49:54,856 - sqlalchemy.engine.Engine - INFO - [cached since 2.15s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:49:54,857 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:49:54,857 - sqlalchemy.engine.Engine - INFO - [cached since 0.01133s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 49, 54, 857111))
2025-07-12 22:49:54,857 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:49:54,857 - sqlalchemy.engine.Engine - INFO - [cached since 2.149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,858 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:49:54,858 - sqlalchemy.engine.Engine - INFO - [cached since 2.149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,858 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.032s
2025-07-12 22:49:54,858 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-12 22:49:54,859 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,860 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:49:54,860 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-12 22:49:54,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:54,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:49:54,861 - sqlalchemy.engine.Engine - INFO - [cached since 2.157s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:49:54,861 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-12 22:49:54,862 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:49:54,862 - sqlalchemy.engine.Engine - INFO - [cached since 0.008946s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:49:54,862 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:49:54,862 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:54,863 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 22:49:59,406 - app.main - INFO - 🔄 DELETE /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 클라이언트: 127.0.0.1
2025-07-12 22:49:59,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:49:59,411 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.user_id AS chat_sessions_user_id, chat_sessions.session_id AS chat_sessions_session_id, chat_sessions.start_time AS chat_sessions_start_time, chat_sessions.end_time AS chat_sessions_end_time, chat_sessions.message_count AS chat_sessions_message_count, chat_sessions.avg_emotion_score AS chat_sessions_avg_emotion_score, chat_sessions.session_summary AS chat_sessions_session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-12 22:49:59,412 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] ('bede60e5-71d1-4ec3-b98c-78b94b814464',)
2025-07-12 22:49:59,414 - app.api.chat - ERROR - 채팅 세션 삭제 중 오류 발생: 404: 채팅 세션을 찾을 수 없습니다
2025-07-12 22:49:59,414 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 세션 삭제 중 오류가 발생했습니다: 404: 채팅 세션을 찾을 수 없습니다
2025-07-12 22:49:59,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:49:59,416 - app.main - ERROR - HTTP 예외: 500 - 채팅 세션 삭제 중 오류가 발생했습니다: 404: 채팅 세션을 찾을 수 없습니다 - URL: http://localhost:8000/api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464
2025-07-12 22:49:59,416 - app.main - INFO - ✅ DELETE /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 500 - 0.010s
2025-07-12 22:50:52,563 - app.main - INFO - 👋 챗봇 서비스 종료 중...
2025-07-12 22:50:52,846 - app.config - WARNING - 누락된 설정: OPENAI_API_KEY
2025-07-12 22:50:52,846 - app.config - WARNING - 환경 변수 또는 .env 파일에서 설정을 확인하세요.
2025-07-12 22:50:53,616 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 22:50:53,785 - app.main - INFO - 🚀 챗봇 서비스 시작 중...
2025-07-12 22:50:53,787 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-12 22:50:53,787 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,788 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-12 22:50:53,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,788 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-12 22:50:53,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:50:53,788 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`users`
2025-07-12 22:50:53,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,790 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_logs`
2025-07-12 22:50:53,790 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,792 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`chat_sessions`
2025-07-12 22:50:53,792 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,793 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotions`
2025-07-12 22:50:53,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,795 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`emotion_summaries`
2025-07-12 22:50:53,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,796 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedules`
2025-07-12 22:50:53,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,797 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_logs`
2025-07-12 22:50:53,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,799 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_templates`
2025-07-12 22:50:53,799 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,799 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`reminders`
2025-07-12 22:50:53,799 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,800 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`schedule_stats`
2025-07-12 22:50:53,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,802 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interests`
2025-07-12 22:50:53,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,803 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_trends`
2025-07-12 22:50:53,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,804 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_keywords`
2025-07-12 22:50:53,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,805 - sqlalchemy.engine.Engine - INFO - DESCRIBE `chatbot_service`.`interest_logs`
2025-07-12 22:50:53,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-12 22:50:53,807 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 22:50:53,807 - app.main - INFO - ✅ MySQL 데이터베이스 초기화 완료
2025-07-12 22:50:53,820 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-07-12 22:50:53,820 - app.qdrant_client - INFO - ✅ Qdrant 클라이언트 연결: localhost:6333
2025-07-12 22:50:53,823 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-07-12 22:50:53,824 - app.qdrant_client - INFO - ✅ Qdrant 컬렉션 확인: chat_vectors
2025-07-12 22:50:53,824 - app.main - INFO - ✅ Qdrant 벡터 데이터베이스 초기화 완료
2025-07-12 22:50:53,824 - app.main - INFO - 📡 API 라우터 5개 등록 완료
2025-07-12 22:50:53,824 - app.main - INFO - 🎉 챗봇 서비스 준비 완료!
2025-07-12 22:51:50,465 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:50,482 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:50,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:50,501 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:50,503 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:51:50,503 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:51:50,505 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:51:50,505 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:50,506 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:51:50,506 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:50,507 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:50,508 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.042s
2025-07-12 22:51:50,508 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:50,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:50,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:50,509 - sqlalchemy.engine.Engine - INFO - [cached since 0.008772s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:50,510 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:51:50,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.007065s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:51:50,511 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:51:50,511 - sqlalchemy.engine.Engine - INFO - [cached since 0.006422s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:50,511 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:51:50,511 - sqlalchemy.engine.Engine - INFO - [cached since 0.005748s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:50,512 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:50,512 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 22:51:52,585 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,587 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,587 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,587 - sqlalchemy.engine.Engine - INFO - [cached since 2.087s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,588 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,589 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,590 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,590 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,597 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:51:52,598 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:51:52,599 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,601 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,601 - sqlalchemy.engine.Engine - INFO - [cached since 2.101s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,602 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-12 22:51:52,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,602 - sqlalchemy.engine.Engine - INFO - [cached since 2.102s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,603 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:51:52,603 - sqlalchemy.engine.Engine - INFO - [cached since 2.101s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:51:52,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,604 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,604 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,606 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:51:52,606 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:51:52,608 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:51:52,608 - sqlalchemy.engine.Engine - INFO - [cached since 2.104s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,609 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,611 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:51:52,611 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 51, 52, 610817))
2025-07-12 22:51:52,612 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:51:52,612 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 51, 52, 611682))
2025-07-12 22:51:52,612 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:51:52,612 - sqlalchemy.engine.Engine - INFO - [cached since 2.106s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,613 - sqlalchemy.engine.Engine - INFO - [cached since 2.113s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,616 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,617 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:51:52,617 - sqlalchemy.engine.Engine - INFO - [cached since 0.01968s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:51:52,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,618 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.028s
2025-07-12 22:51:52,618 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.028s
2025-07-12 22:51:52,618 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.029s
2025-07-12 22:51:52,619 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.031s
2025-07-12 22:51:52,620 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,621 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,621 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,621 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,622 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,622 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,622 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,622 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-12 22:51:52,622 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,622 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,622 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,623 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,623 - sqlalchemy.engine.Engine - INFO - [cached since 2.122s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,623 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,623 - sqlalchemy.engine.Engine - INFO - [cached since 2.123s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,623 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:51:52,624 - sqlalchemy.engine.Engine - INFO - [cached since 0.01277s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 51, 52, 623794))
2025-07-12 22:51:52,624 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:51:52,624 - sqlalchemy.engine.Engine - INFO - [cached since 2.121s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:51:52,624 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:51:52,624 - sqlalchemy.engine.Engine - INFO - [cached since 0.01826s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:51:52,625 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:51:52,625 - sqlalchemy.engine.Engine - INFO - [cached since 0.01385s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 51, 52, 625108))
2025-07-12 22:51:52,626 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,626 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,626 - sqlalchemy.engine.Engine - INFO - [cached since 2.125s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,627 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,627 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:51:52,627 - sqlalchemy.engine.Engine - INFO - [cached since 2.123s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,628 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,628 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:51:52,630 - sqlalchemy.engine.Engine - INFO - [generated in 0.00132s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:51:52,630 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:51:52,630 - sqlalchemy.engine.Engine - INFO - [cached since 2.124s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,631 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,631 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-12 22:51:52,632 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-12 22:51:52,632 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-12 22:51:52,633 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.017s
2025-07-12 22:51:52,633 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 22:51:52,645 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:52,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:52,646 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:52,646 - sqlalchemy.engine.Engine - INFO - [cached since 2.146s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:52,647 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:51:52,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.01859s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:51:52,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:52,648 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 22:51:57,325 - app.main - INFO - 🔄 DELETE /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 클라이언트: 127.0.0.1
2025-07-12 22:51:57,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:57,328 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.session_id = %s
2025-07-12 22:51:57,329 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('bede60e5-71d1-4ec3-b98c-78b94b814464',)
2025-07-12 22:51:57,332 - sqlalchemy.engine.Engine - INFO - DELETE FROM chat_sessions WHERE chat_sessions.id = %s
2025-07-12 22:51:57,333 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('98ea17ca-3ab3-472d-9069-053d536a76b6',)
2025-07-12 22:51:57,335 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 22:51:57,338 - app.main - INFO - ✅ DELETE /api/v1/chat/session/bede60e5-71d1-4ec3-b98c-78b94b814464 - 200 - 0.013s
2025-07-12 22:51:59,164 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:59,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:59,165 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:59,165 - sqlalchemy.engine.Engine - INFO - [cached since 8.665s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:59,166 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:51:59,166 - sqlalchemy.engine.Engine - INFO - [cached since 8.664s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:51:59,171 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:51:59,171 - sqlalchemy.engine.Engine - INFO - [cached since 8.666s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:59,172 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:51:59,173 - sqlalchemy.engine.Engine - INFO - [cached since 8.667s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:59,175 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:59,176 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 22:51:59,177 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:51:59,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:51:59,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:51:59,179 - sqlalchemy.engine.Engine - INFO - [cached since 8.679s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:59,182 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:51:59,182 - sqlalchemy.engine.Engine - INFO - [cached since 8.68s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:51:59,185 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:51:59,185 - sqlalchemy.engine.Engine - INFO - [cached since 8.68s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:59,187 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:51:59,187 - sqlalchemy.engine.Engine - INFO - [cached since 8.681s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:51:59,189 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:51:59,190 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 22:52:01,262 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,264 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,264 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,264 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,264 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,266 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,267 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,267 - sqlalchemy.engine.Engine - INFO - [cached since 10.77s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,268 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,268 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,268 - sqlalchemy.engine.Engine - INFO - [cached since 10.77s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,268 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,268 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,268 - sqlalchemy.engine.Engine - INFO - [cached since 10.77s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,268 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,269 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,269 - sqlalchemy.engine.Engine - INFO - [cached since 10.77s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,269 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,269 - sqlalchemy.engine.Engine - INFO - [cached since 10.77s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,271 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:52:01,271 - sqlalchemy.engine.Engine - INFO - [cached since 8.674s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:52:01,273 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:52:01,273 - sqlalchemy.engine.Engine - INFO - [cached since 8.667s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:52:01,274 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:52:01,274 - sqlalchemy.engine.Engine - INFO - [cached since 8.663s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 52, 1, 274103))
2025-07-12 22:52:01,275 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:52:01,276 - sqlalchemy.engine.Engine - INFO - [cached since 8.665s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 52, 1, 275383))
2025-07-12 22:52:01,277 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:01,277 - sqlalchemy.engine.Engine - INFO - [cached since 10.77s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:52:01,278 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,279 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,279 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,280 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,282 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:01,282 - sqlalchemy.engine.Engine - INFO - [cached since 10.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,284 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:01,284 - sqlalchemy.engine.Engine - INFO - [cached since 10.78s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,284 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.022s
2025-07-12 22:52:01,286 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,286 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.022s
2025-07-12 22:52:01,286 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.022s
2025-07-12 22:52:01,286 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.023s
2025-07-12 22:52:01,288 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,289 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,289 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,289 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - [cached since 10.79s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - [cached since 10.79s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - [cached since 10.79s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,290 - sqlalchemy.engine.Engine - INFO - [cached since 10.79s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,291 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:52:01,291 - sqlalchemy.engine.Engine - INFO - [cached since 8.693s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:52:01,291 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.027s
2025-07-12 22:52:01,292 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:52:01,292 - sqlalchemy.engine.Engine - INFO - [cached since 8.68s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 52, 1, 291893))
2025-07-12 22:52:01,293 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:52:01,293 - sqlalchemy.engine.Engine - INFO - [cached since 8.686s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:52:01,293 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:52:01,293 - sqlalchemy.engine.Engine - INFO - [cached since 8.682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 52, 1, 293371))
2025-07-12 22:52:01,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,294 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,296 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,296 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,296 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,296 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,296 - sqlalchemy.engine.Engine - INFO - [cached since 10.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,297 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,297 - sqlalchemy.engine.Engine - INFO - [cached since 10.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,297 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:52:01,297 - sqlalchemy.engine.Engine - INFO - [cached since 8.669s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:52:01,297 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-12 22:52:01,298 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:01,298 - sqlalchemy.engine.Engine - INFO - [cached since 10.79s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:52:01,298 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,298 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.010s
2025-07-12 22:52:01,299 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-12 22:52:01,299 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-12 22:52:01,300 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:01,300 - sqlalchemy.engine.Engine - INFO - [cached since 10.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,301 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:01,301 - sqlalchemy.engine.Engine - INFO - [cached since 10.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,301 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 22:52:01,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,302 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-12 22:52:01,323 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:01,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:01,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:01,324 - sqlalchemy.engine.Engine - INFO - [cached since 10.82s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:01,324 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:52:01,325 - sqlalchemy.engine.Engine - INFO - [cached since 8.696s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:52:01,325 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:01,326 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 22:52:02,618 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:02,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:02,620 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:02,621 - sqlalchemy.engine.Engine - INFO - [cached since 12.12s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:02,624 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:02,624 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 22:52:02,626 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:02,626 - sqlalchemy.engine.Engine - INFO - [cached since 12.12s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:02,628 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:02,628 - sqlalchemy.engine.Engine - INFO - [cached since 12.12s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:02,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:02,631 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 22:52:03,356 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:03,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:03,358 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:03,358 - sqlalchemy.engine.Engine - INFO - [cached since 12.86s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:03,359 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:03,359 - sqlalchemy.engine.Engine - INFO - [cached since 0.7359s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 22:52:03,361 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:03,361 - sqlalchemy.engine.Engine - INFO - [cached since 12.86s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:03,363 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:03,363 - sqlalchemy.engine.Engine - INFO - [cached since 12.86s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:03,364 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:52:03,364 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:52:03,364 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:03,365 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 22:52:03,366 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.010s
2025-07-12 22:52:03,902 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:03,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:03,904 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:03,904 - sqlalchemy.engine.Engine - INFO - [cached since 13.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:03,906 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:03,907 - sqlalchemy.engine.Engine - INFO - [cached since 1.283s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 22:52:03,908 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:03,909 - sqlalchemy.engine.Engine - INFO - [cached since 13.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:03,910 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:03,910 - sqlalchemy.engine.Engine - INFO - [cached since 13.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:03,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:03,913 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 22:52:05,341 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:05,343 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:05,343 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:05,344 - sqlalchemy.engine.Engine - INFO - [cached since 14.84s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:05,346 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:05,346 - sqlalchemy.engine.Engine - INFO - [cached since 2.723s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 22:52:05,347 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:05,347 - sqlalchemy.engine.Engine - INFO - [cached since 14.84s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:05,349 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:05,349 - sqlalchemy.engine.Engine - INFO - [cached since 14.84s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:05,350 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:05,351 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:52:06,007 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:06,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:06,010 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:06,010 - sqlalchemy.engine.Engine - INFO - [cached since 15.51s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:06,011 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:06,011 - sqlalchemy.engine.Engine - INFO - [cached since 3.387s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 22:52:06,013 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:06,013 - sqlalchemy.engine.Engine - INFO - [cached since 15.51s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:06,014 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:06,014 - sqlalchemy.engine.Engine - INFO - [cached since 15.51s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:06,015 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:52:06,016 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:52:06,016 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:06,017 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 22:52:06,017 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.010s
2025-07-12 22:52:07,441 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:07,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:07,443 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:07,443 - sqlalchemy.engine.Engine - INFO - [cached since 16.94s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:07,446 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:07,446 - sqlalchemy.engine.Engine - INFO - [cached since 4.823s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 22:52:07,448 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:07,448 - sqlalchemy.engine.Engine - INFO - [cached since 16.94s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:07,450 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:07,450 - sqlalchemy.engine.Engine - INFO - [cached since 16.94s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:07,451 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:07,452 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 22:52:07,866 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:07,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:07,868 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:07,868 - sqlalchemy.engine.Engine - INFO - [cached since 17.37s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:07,869 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:07,869 - sqlalchemy.engine.Engine - INFO - [cached since 5.246s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 22:52:07,870 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:07,870 - sqlalchemy.engine.Engine - INFO - [cached since 17.37s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:07,871 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:07,871 - sqlalchemy.engine.Engine - INFO - [cached since 17.37s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:07,872 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:52:07,872 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:52:07,873 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:07,874 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 22:52:07,874 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.008s
2025-07-12 22:52:10,660 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:52:10,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:52:10,663 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:52:10,663 - sqlalchemy.engine.Engine - INFO - [cached since 20.16s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:10,665 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:52:10,665 - sqlalchemy.engine.Engine - INFO - [cached since 8.042s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 22:52:10,667 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:52:10,667 - sqlalchemy.engine.Engine - INFO - [cached since 20.16s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:10,668 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:52:10,668 - sqlalchemy.engine.Engine - INFO - [cached since 20.16s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:52:10,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:52:10,670 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:57:30,900 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:57:30,912 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:30,913 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:30,913 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:30,915 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:57:30,915 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:57:30,919 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:57:30,919 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:30,920 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:57:30,921 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:30,923 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:30,924 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.023s
2025-07-12 22:57:30,925 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:57:30,925 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:30,926 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:30,926 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:30,927 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:57:30,927 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:57:30,931 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:57:30,932 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:30,934 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:57:30,934 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:30,936 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:30,936 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 22:57:33,003 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,009 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,012 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,026 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,032 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,033 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,033 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,033 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,036 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,037 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,037 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,038 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,039 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,040 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:57:33,040 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:57:33,040 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,041 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,041 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,042 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:57:33,042 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:57:33,043 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:57:33,044 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 57, 33, 42896))
2025-07-12 22:57:33,047 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:57:33,048 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:57:33,050 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,052 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,054 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:57:33,054 - sqlalchemy.engine.Engine - INFO - [cached since 340.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 57, 33, 53474))
2025-07-12 22:57:33,055 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:57:33,055 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,057 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:57:33,057 - sqlalchemy.engine.Engine - INFO - [cached since 342.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,057 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.054s
2025-07-12 22:57:33,058 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,059 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,060 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.048s
2025-07-12 22:57:33,061 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.035s
2025-07-12 22:57:33,063 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.030s
2025-07-12 22:57:33,064 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,065 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,065 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,065 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,065 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.056s
2025-07-12 22:57:33,066 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,066 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,069 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:57:33,069 - sqlalchemy.engine.Engine - INFO - [cached since 340.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:57:33,070 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,071 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,073 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,074 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,079 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,079 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,079 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,079 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,079 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,079 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,087 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:57:33,087 - sqlalchemy.engine.Engine - INFO - [cached since 340.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:57:33,087 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,088 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,088 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,090 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:57:33,090 - sqlalchemy.engine.Engine - INFO - [cached since 340.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 57, 33, 89425))
2025-07-12 22:57:33,091 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:57:33,091 - sqlalchemy.engine.Engine - INFO - [cached since 340.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:57:33,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,092 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,093 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,094 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,096 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:57:33,096 - sqlalchemy.engine.Engine - INFO - [cached since 340.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 57, 33, 95881))
2025-07-12 22:57:33,098 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,100 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,104 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:57:33,104 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:57:33,106 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,107 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:57:33,107 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,107 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.048s
2025-07-12 22:57:33,108 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.043s
2025-07-12 22:57:33,112 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.046s
2025-07-12 22:57:33,113 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.047s
2025-07-12 22:57:33,115 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:57:33,115 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,116 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:57:33,120 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,121 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.047s
2025-07-12 22:57:33,122 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:57:33,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:57:33,123 - sqlalchemy.engine.Engine - INFO - [cached since 342.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:57:33,124 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:57:33,124 - sqlalchemy.engine.Engine - INFO - [cached since 340.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:57:33,125 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.046s
2025-07-12 22:57:33,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:57:33,129 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 22:59:52,570 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:52,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:52,572 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:52,572 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:52,575 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:52,575 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:59:52,579 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:52,579 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:52,581 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:52,581 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:52,584 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:52,585 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 22:59:52,586 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:52,587 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:52,587 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:52,587 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:52,589 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:52,589 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:59:52,592 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:52,592 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:52,593 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:52,593 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:52,595 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:52,596 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:59:54,652 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,654 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,654 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,655 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,655 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,656 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,656 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,657 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,658 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,658 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,659 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,659 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,660 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:59:54,660 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:59:54,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,661 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,661 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,661 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,662 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,662 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,664 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:59:54,664 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 59, 54, 663794))
2025-07-12 22:59:54,665 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:54,666 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:59:54,666 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,667 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:59:54,667 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:59:54,668 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:59:54,669 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 59, 54, 668520))
2025-07-12 22:59:54,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,670 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,672 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:54,672 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,672 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,673 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:54,673 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,675 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,675 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.022s
2025-07-12 22:59:54,675 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.021s
2025-07-12 22:59:54,675 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-12 22:59:54,676 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.019s
2025-07-12 22:59:54,676 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,677 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,678 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,678 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,678 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,679 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.025s
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,679 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,680 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,680 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,682 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 22:59:54,682 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 13, 59, 54, 681186))
2025-07-12 22:59:54,682 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,683 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 22:59:54,683 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 22:59:54,683 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,684 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 22:59:54,684 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 22:59:54,684 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 22:59:54,684 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 13, 59, 54, 684319))
2025-07-12 22:59:54,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,685 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,685 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,686 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,686 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,686 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,686 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,686 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,687 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:59:54,687 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:59:54,687 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:54,687 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 22:59:54,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,688 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:54,688 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,688 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-12 22:59:54,688 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-12 22:59:54,688 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-12 22:59:54,688 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.011s
2025-07-12 22:59:54,689 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:54,689 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,690 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,690 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.007s
2025-07-12 22:59:54,692 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:54,692 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:59:54,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:54,693 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:54,693 - sqlalchemy.engine.Engine - INFO - [cached since 484.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:54,693 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 22:59:54,693 - sqlalchemy.engine.Engine - INFO - [cached since 482.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 22:59:54,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:54,694 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 22:59:56,523 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:56,525 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:56,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:56,526 - sqlalchemy.engine.Engine - INFO - [cached since 486s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:56,528 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:56,528 - sqlalchemy.engine.Engine - INFO - [cached since 473.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 22:59:56,529 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:56,529 - sqlalchemy.engine.Engine - INFO - [cached since 486s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:56,531 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:56,531 - sqlalchemy.engine.Engine - INFO - [cached since 486s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:56,532 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:56,533 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:59:57,765 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:57,767 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:57,768 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:57,768 - sqlalchemy.engine.Engine - INFO - [cached since 487.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:57,771 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:57,771 - sqlalchemy.engine.Engine - INFO - [cached since 475.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 22:59:57,772 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:57,772 - sqlalchemy.engine.Engine - INFO - [cached since 487.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:57,774 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:57,774 - sqlalchemy.engine.Engine - INFO - [cached since 487.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:57,775 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:59:57,776 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 22:59:57,776 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:57,778 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 22:59:57,778 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.013s
2025-07-12 22:59:58,228 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:58,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:58,230 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:58,230 - sqlalchemy.engine.Engine - INFO - [cached since 487.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:58,232 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:58,232 - sqlalchemy.engine.Engine - INFO - [cached since 475.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 22:59:58,234 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:58,234 - sqlalchemy.engine.Engine - INFO - [cached since 487.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:58,235 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:58,236 - sqlalchemy.engine.Engine - INFO - [cached since 487.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:58,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:58,238 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 22:59:59,144 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 22:59:59,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 22:59:59,147 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 22:59:59,148 - sqlalchemy.engine.Engine - INFO - [cached since 488.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:59,150 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 22:59:59,150 - sqlalchemy.engine.Engine - INFO - [cached since 476.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 22:59:59,152 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 22:59:59,152 - sqlalchemy.engine.Engine - INFO - [cached since 488.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:59,154 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 22:59:59,154 - sqlalchemy.engine.Engine - INFO - [cached since 488.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 22:59:59,156 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 22:59:59,156 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 23:00:00,155 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:00:00,156 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:00,157 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:00,157 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:00,160 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:00:00,161 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:00:00,163 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:00:00,163 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:00,165 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:00:00,165 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:00,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:00,169 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-12 23:00:00,169 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:00:00,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:00,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:00,171 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:00,172 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:00:00,172 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:00:00,176 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:00:00,176 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:00,177 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:00:00,177 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:00,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:00,182 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 23:00:02,237 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,240 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,249 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,250 - sqlalchemy.engine.Engine - INFO - [cached since 491.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,256 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,257 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,259 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,259 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,259 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,260 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:00:02,260 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:00:02,260 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,261 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,261 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,261 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,261 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,262 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,263 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:00:02,263 - sqlalchemy.engine.Engine - INFO - [cached since 489.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 0, 2, 263177))
2025-07-12 23:00:02,265 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:00:02,265 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:00:02,272 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,272 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:00:02,272 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 0, 2, 272673))
2025-07-12 23:00:02,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,274 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.037s
2025-07-12 23:00:02,274 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.019s
2025-07-12 23:00:02,275 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-12 23:00:02,276 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-12 23:00:02,276 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,277 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,282 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:00:02,282 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,282 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,283 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,284 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,284 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,284 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,284 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,284 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,286 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:00:02,286 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,286 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:00:02,286 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:00:02,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,287 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,287 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:00:02,287 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 0, 2, 287481))
2025-07-12 23:00:02,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,287 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,288 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,288 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,288 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,289 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,289 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:00:02,289 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:00:02,289 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:00:02,289 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:00:02,289 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,290 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:00:02,290 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 0, 2, 290093))
2025-07-12 23:00:02,290 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,291 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,291 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,291 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.051s
2025-07-12 23:00:02,291 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-12 23:00:02,291 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-12 23:00:02,291 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-12 23:00:02,292 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-12 23:00:02,293 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-12 23:00:02,293 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,294 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:00:02,296 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,297 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,297 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:00:02,297 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:00:02,297 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,298 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:00:02,298 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:00:02,299 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:00:02,299 - sqlalchemy.engine.Engine - INFO - [cached since 489.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:00:02,300 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:00:02,300 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,300 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:00:02,300 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:00:02,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:00:02,303 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 23:00:02,304 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 23:02:47,966 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:02:47,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:47,980 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:47,980 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:47,983 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:02:47,984 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:02:47,987 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:02:47,987 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:47,989 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:02:47,989 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:47,991 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:47,992 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.026s
2025-07-12 23:02:47,993 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:02:47,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:47,996 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:47,996 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:47,998 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:02:47,998 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:02:48,002 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:02:48,002 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:48,003 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:02:48,003 - sqlalchemy.engine.Engine - INFO - [cached since 657.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:48,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:48,006 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 23:02:50,991 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:02:50,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:50,993 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:50,993 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:50,996 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:02:50,996 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:02:50,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:50,999 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,000 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,002 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,003 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,004 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,004 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,004 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,004 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,004 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,005 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,005 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,006 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:02:51,006 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 2, 51, 6253))
2025-07-12 23:02:51,007 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:02:51,007 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:02:51,009 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:02:51,009 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 2, 51, 8541))
2025-07-12 23:02:51,010 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,010 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-12 23:02:51,012 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,014 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,016 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,016 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,018 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,018 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,018 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-12 23:02:51,019 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-12 23:02:51,019 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,020 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,020 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,021 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:02:51,021 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:02:51,024 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:02:51,025 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:02:51,025 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,026 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,026 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,027 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,027 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.025s
2025-07-12 23:02:51,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,027 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,027 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,028 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,028 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,028 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:02:51,029 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:02:51,029 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,029 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:02:51,029 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 2, 51, 29508))
2025-07-12 23:02:51,030 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,030 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,030 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-12 23:02:51,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,031 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,031 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,031 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 23:02:51,032 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:02:51,032 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 2, 51, 32291))
2025-07-12 23:02:51,032 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:02:51,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,033 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-12 23:02:51,033 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 23:02:51,033 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:02:51,033 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:02:51,033 - sqlalchemy.engine.Engine - INFO - [cached since 660.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:02:51,034 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:02:51,034 - sqlalchemy.engine.Engine - INFO - [cached since 658.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:02:51,035 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:02:51,035 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.006s
2025-07-12 23:02:51,035 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 23:03:10,432 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:03:10,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:10,434 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:10,434 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:10,440 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:03:10,440 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:03:10,444 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:03:10,444 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:10,446 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:03:10,446 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:10,449 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:10,450 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.018s
2025-07-12 23:03:10,452 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:03:10,453 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:10,455 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:10,455 - sqlalchemy.engine.Engine - INFO - [cached since 680s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:10,456 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:03:10,457 - sqlalchemy.engine.Engine - INFO - [cached since 680s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:03:10,459 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:03:10,459 - sqlalchemy.engine.Engine - INFO - [cached since 680s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:10,460 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:03:10,460 - sqlalchemy.engine.Engine - INFO - [cached since 680s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:10,461 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:10,462 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 23:03:12,515 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,516 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,517 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,517 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,517 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,518 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,518 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,519 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,519 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,519 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,521 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:03:12,522 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:03:12,523 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,524 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,524 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,524 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,525 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,526 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:03:12,526 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 3, 12, 526036))
2025-07-12 23:03:12,527 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,529 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:03:12,530 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:03:12,532 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:03:12,532 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 3, 12, 531402))
2025-07-12 23:03:12,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,534 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,535 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,536 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-12 23:03:12,536 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-12 23:03:12,536 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-12 23:03:12,537 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-12 23:03:12,537 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,539 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,539 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,539 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,539 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,541 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,541 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,541 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,542 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,542 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,542 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,542 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,543 - sqlalchemy.engine.Engine - INFO - [cached since 682s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,545 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:03:12,545 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:03:12,546 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:03:12,546 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 3, 12, 546203))
2025-07-12 23:03:12,547 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,548 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:03:12,548 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:03:12,549 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:03:12,549 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:03:12,549 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:03:12,549 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 3, 12, 549648))
2025-07-12 23:03:12,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,551 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-12 23:03:12,552 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-12 23:03:12,552 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-12 23:03:12,552 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-12 23:03:12,552 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 23:03:12,553 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:03:12,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:03:12,554 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:03:12,554 - sqlalchemy.engine.Engine - INFO - [cached since 682.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:03:12,555 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:03:12,555 - sqlalchemy.engine.Engine - INFO - [cached since 679.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:03:12,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:03:12,557 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 23:05:29,836 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:29,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:29,843 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:29,844 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:29,848 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:29,848 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:05:29,855 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:29,855 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:29,856 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:29,857 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:29,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:29,859 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.024s
2025-07-12 23:05:29,861 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:29,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:29,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:29,863 - sqlalchemy.engine.Engine - INFO - [cached since 819.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:29,865 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:29,865 - sqlalchemy.engine.Engine - INFO - [cached since 819.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:05:29,868 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:29,868 - sqlalchemy.engine.Engine - INFO - [cached since 819.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:29,870 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:29,870 - sqlalchemy.engine.Engine - INFO - [cached since 819.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:29,871 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:29,873 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 23:05:31,926 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,927 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,927 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,927 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,931 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,931 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,931 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,932 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,932 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,932 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,932 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,932 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,934 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,934 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,936 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:05:31,936 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:05:31,938 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:05:31,938 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:05:31,939 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:05:31,939 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 5, 31, 939360))
2025-07-12 23:05:31,941 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:05:31,941 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 5, 31, 940684))
2025-07-12 23:05:31,942 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,944 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,946 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-12 23:05:31,948 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.020s
2025-07-12 23:05:31,948 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-12 23:05:31,949 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-12 23:05:31,950 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,950 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,951 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,951 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,951 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,953 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,953 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,953 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,954 - sqlalchemy.engine.Engine - INFO - [cached since 821.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,955 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:05:31,955 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:05:31,955 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:05:31,955 - sqlalchemy.engine.Engine - INFO - [cached since 819.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:05:31,956 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:05:31,956 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 5, 31, 955952))
2025-07-12 23:05:31,956 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:05:31,956 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 5, 31, 956356))
2025-07-12 23:05:31,956 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:05:31,956 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:05:31,957 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,957 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,958 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,958 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,958 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,958 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-12 23:05:31,959 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-12 23:05:31,959 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.007s
2025-07-12 23:05:31,959 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-12 23:05:31,959 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.008s
2025-07-12 23:05:31,962 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:31,963 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:31,964 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:31,964 - sqlalchemy.engine.Engine - INFO - [cached since 821.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:31,965 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:05:31,965 - sqlalchemy.engine.Engine - INFO - [cached since 819.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:05:31,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:31,966 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 23:05:32,949 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:32,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:32,952 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:32,952 - sqlalchemy.engine.Engine - INFO - [cached since 822.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:32,954 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:32,954 - sqlalchemy.engine.Engine - INFO - [cached since 810.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 23:05:32,956 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:32,956 - sqlalchemy.engine.Engine - INFO - [cached since 822.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:32,958 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:32,958 - sqlalchemy.engine.Engine - INFO - [cached since 822.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:32,961 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:32,963 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-12 23:05:34,833 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:34,835 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:34,836 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:34,836 - sqlalchemy.engine.Engine - INFO - [cached since 824.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:34,838 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:34,839 - sqlalchemy.engine.Engine - INFO - [cached since 812.2s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 23:05:34,841 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:34,841 - sqlalchemy.engine.Engine - INFO - [cached since 824.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:34,843 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:34,843 - sqlalchemy.engine.Engine - INFO - [cached since 824.3s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:34,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:34,846 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 23:05:36,479 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:36,482 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:36,482 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:36,482 - sqlalchemy.engine.Engine - INFO - [cached since 826s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:36,485 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:36,485 - sqlalchemy.engine.Engine - INFO - [cached since 813.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 23:05:36,486 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:36,486 - sqlalchemy.engine.Engine - INFO - [cached since 826s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:36,488 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:36,488 - sqlalchemy.engine.Engine - INFO - [cached since 826s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:36,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:36,491 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 23:05:37,246 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:37,249 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:37,249 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:37,250 - sqlalchemy.engine.Engine - INFO - [cached since 826.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:37,252 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:37,252 - sqlalchemy.engine.Engine - INFO - [cached since 814.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 23:05:37,254 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:37,254 - sqlalchemy.engine.Engine - INFO - [cached since 826.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:37,256 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:37,256 - sqlalchemy.engine.Engine - INFO - [cached since 826.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:37,258 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 23:05:37,258 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 23:05:37,259 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:37,260 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 23:05:37,260 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.014s
2025-07-12 23:05:41,024 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:41,026 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:41,026 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:41,027 - sqlalchemy.engine.Engine - INFO - [cached since 830.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:41,028 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:41,028 - sqlalchemy.engine.Engine - INFO - [cached since 818.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 23:05:41,030 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:41,030 - sqlalchemy.engine.Engine - INFO - [cached since 830.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:41,032 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:41,032 - sqlalchemy.engine.Engine - INFO - [cached since 830.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:41,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:41,034 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 23:05:42,592 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:42,594 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:42,595 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:42,595 - sqlalchemy.engine.Engine - INFO - [cached since 832.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:42,598 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:42,598 - sqlalchemy.engine.Engine - INFO - [cached since 820s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-12 23:05:42,600 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:42,600 - sqlalchemy.engine.Engine - INFO - [cached since 832.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:42,601 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:42,602 - sqlalchemy.engine.Engine - INFO - [cached since 832.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:42,603 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:42,604 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 23:05:43,075 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:43,077 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:43,077 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:43,078 - sqlalchemy.engine.Engine - INFO - [cached since 832.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:43,080 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:43,081 - sqlalchemy.engine.Engine - INFO - [cached since 820.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-12 23:05:43,082 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:43,082 - sqlalchemy.engine.Engine - INFO - [cached since 832.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:43,084 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:43,084 - sqlalchemy.engine.Engine - INFO - [cached since 832.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:43,085 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 23:05:43,085 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 23:05:43,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:43,086 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-12 23:05:43,086 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.012s
2025-07-12 23:05:44,298 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:44,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:44,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:44,300 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:44,302 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:44,302 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:05:44,305 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:44,305 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:44,307 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:44,307 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:44,309 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:44,310 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 23:05:44,311 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:44,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:44,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:44,313 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:44,314 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:44,314 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:05:44,317 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:44,317 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:44,319 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:44,319 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:44,321 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:44,322 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 23:05:46,381 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,383 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,383 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,383 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,385 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,385 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,386 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,386 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,386 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,386 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,387 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,387 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,387 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,387 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,389 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:05:46,389 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:05:46,391 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:05:46,391 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 5, 46, 390586))
2025-07-12 23:05:46,391 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:05:46,392 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:05:46,393 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:05:46,393 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 5, 46, 392798))
2025-07-12 23:05:46,394 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,395 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,395 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,396 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,397 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-12 23:05:46,398 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-12 23:05:46,399 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-12 23:05:46,399 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.016s
2025-07-12 23:05:46,400 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,401 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,402 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,402 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,402 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,409 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,410 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,411 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:05:46,411 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:05:46,411 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:05:46,411 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 5, 46, 411259))
2025-07-12 23:05:46,411 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:05:46,411 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 5, 46, 411928))
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,413 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,414 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-12 23:05:46,414 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-12 23:05:46,414 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-12 23:05:46,414 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.012s
2025-07-12 23:05:46,414 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 23:05:46,416 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:46,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:46,417 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:46,417 - sqlalchemy.engine.Engine - INFO - [cached since 835.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:46,418 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:05:46,418 - sqlalchemy.engine.Engine - INFO - [cached since 833.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:05:46,419 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:46,419 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 23:05:48,171 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-12 23:05:48,173 - app.main - INFO - ✅ OPTIONS /api/v1/chat/session - 200 - 0.003s
2025-07-12 23:05:48,176 - app.main - INFO - 🔄 POST /api/v1/chat/session - 클라이언트: 127.0.0.1
2025-07-12 23:05:48,182 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:48,182 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:48,182 - sqlalchemy.engine.Engine - INFO - [cached since 837.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:48,188 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:05:48,188 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:48,191 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.session_id = %s
2025-07-12 23:05:48,191 - sqlalchemy.engine.Engine - INFO - [cached since 830.9s ago] ('808b0993-209f-403b-a549-6401d70b91b7',)
2025-07-12 23:05:48,196 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_sessions (id, user_id, session_id, start_time, end_time, message_count, avg_emotion_score, session_summary) VALUES (%s, %s, %s, now(), %s, %s, %s, %s)
2025-07-12 23:05:48,196 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('341c3c4b-2bac-4060-beb9-97a1d8b87cf2', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '9485be03-755b-4012-9dac-d651033e93da', None, 0, None, None)
2025-07-12 23:05:48,198 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:05:48,202 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:48,204 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-07-12 23:05:48,204 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('341c3c4b-2bac-4060-beb9-97a1d8b87cf2',)
2025-07-12 23:05:48,205 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:48,206 - app.main - INFO - ✅ POST /api/v1/chat/session - 200 - 0.030s
2025-07-12 23:05:48,207 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:48,208 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:48,208 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:48,209 - sqlalchemy.engine.Engine - INFO - [cached since 837.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:48,210 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:05:48,210 - sqlalchemy.engine.Engine - INFO - [cached since 835.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:05:48,211 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:48,212 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 23:05:48,223 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:48,224 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-12 23:05:48,225 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:05:48,227 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:48,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:48,228 - sqlalchemy.engine.Engine - INFO - [cached since 837.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:48,230 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:48,230 - sqlalchemy.engine.Engine - INFO - [cached since 825.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '9485be03-755b-4012-9dac-d651033e93da', 0, 50)
2025-07-12 23:05:48,231 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:05:48,231 - sqlalchemy.engine.Engine - INFO - [cached since 837.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:48,233 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:05:48,233 - sqlalchemy.engine.Engine - INFO - [cached since 837.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:48,234 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 23:05:48,234 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-12 23:05:48,234 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:48,235 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=9485be03-755b-4012-9dac-d651033e93da
2025-07-12 23:05:48,235 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.010s
2025-07-12 23:05:51,534 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 23:05:51,535 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 23:05:51,564 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 23:05:51,565 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 23:05:51,573 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 23:05:51,573 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 23:05:51,578 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:51,579 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:51,579 - sqlalchemy.engine.Engine - INFO - [cached since 841.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:51,579 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:51,580 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:51,580 - sqlalchemy.engine.Engine - INFO - [cached since 841.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:51,581 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:05:51,581 - sqlalchemy.engine.Engine - INFO - [cached since 3.393s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:51,582 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:05:51,582 - sqlalchemy.engine.Engine - INFO - [cached since 3.395s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:53,581 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 3, 벡터 차원: 768
2025-07-12 23:05:53,604 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 23:05:53,606 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 08506f40-d5f9-435a-9c10-2cbbe690dca5, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 23:05:53,618 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 23:05:53,621 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 23:05:53,630 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 23:05:53,631 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 22개
2025-07-12 23:05:54,393 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.HAPPY, 강도: 0.1
2025-07-12 23:05:54,394 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:54,394 - sqlalchemy.engine.Engine - INFO - [cached since 843.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:55,117 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 1, 벡터 차원: 768
2025-07-12 23:05:55,131 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 23:05:55,132 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 00d39f4a-325a-41fa-b288-33705a53a670, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 23:05:55,141 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 23:05:55,142 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 23:05:55,147 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 23:05:55,148 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 23개
2025-07-12 23:05:56,141 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.FRUSTRATED, 강도: 0.1
2025-07-12 23:05:56,142 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:05:56,142 - sqlalchemy.engine.Engine - INFO - [cached since 845.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:05:56,147 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:56,147 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:05:56,150 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:05:56,150 - sqlalchemy.engine.Engine - INFO - [cached since 0.003648s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:05:56,152 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:05:56,153 - sqlalchemy.engine.Engine - INFO - [cached since 843.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 5, 56, 152270))
2025-07-12 23:05:56,154 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:05:56,155 - sqlalchemy.engine.Engine - INFO - [cached since 843.5s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 5, 56, 154340))
2025-07-12 23:05:57,466 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 163
2025-07-12 23:05:57,471 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:05:57,471 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] ('ce091ff2-e158-4b66-a675-1632777d2420', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '반가워', 'happy', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:05:58,591 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 154
2025-07-12 23:05:58,593 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:05:58,593 - sqlalchemy.engine.Engine - INFO - [cached since 1.123s ago] ('e243ee46-787d-4573-a987-17110c673935', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '워', 'frustrated', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:05:58,595 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:05:58,596 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:05:58,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:58,602 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:05:58,602 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('ce091ff2-e158-4b66-a675-1632777d2420',)
2025-07-12 23:05:58,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:58,603 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:05:58,603 - sqlalchemy.engine.Engine - INFO - [cached since 0.001656s ago] ('e243ee46-787d-4573-a987-17110c673935',)
2025-07-12 23:05:58,605 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:05:58,605 - sqlalchemy.engine.Engine - INFO - [cached since 1.135s ago] ('9ff71118-59b3-4826-a73c-30665df45ddc', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, 안녕하세요! 다시 뵙게 되어 정말 반갑습니다. 오늘 하루도 평안하게 보내셨는지 궁금하네요. 혹시 오늘 특별히 하신 일이나 기분 좋았던 일이 있으셨나요? 편하게 말씀해주세요. 제가 옆에서 따뜻하게 들어드릴게요. 😊', 'happy', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:05:58,608 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:05:58,608 - sqlalchemy.engine.Engine - INFO - [cached since 1.138s ago] ('d0f9c902-e17d-4111-93e4-08f8bf9337da', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, "워"라고 말씀해주셨네요. 혹시 무슨 일이 있으셨나요? 아니면 기분 좋으신 일이 있으셨을까요? 편하게 말씀해주세요. 제가 곁에서 함께 이야기 나누고 싶습니다. 😊', 'frustrated', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:05:58,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:05:58,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:05:58,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:58,612 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:05:58,612 - sqlalchemy.engine.Engine - INFO - [cached since 0.01057s ago] ('9ff71118-59b3-4826-a73c-30665df45ddc',)
2025-07-12 23:05:58,614 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:58,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:05:58,615 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:05:58,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.01426s ago] ('d0f9c902-e17d-4111-93e4-08f8bf9337da',)
2025-07-12 23:05:58,617 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:05:58,618 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 7.045s
2025-07-12 23:05:58,622 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 7.049s
2025-07-12 23:06:00,572 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 23:06:00,573 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 23:06:00,586 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 23:06:00,586 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 23:06:00,598 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 23:06:00,598 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 23:06:00,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:06:00,601 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:06:00,602 - sqlalchemy.engine.Engine - INFO - [cached since 850.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:06:00,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:06:00,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:06:00,602 - sqlalchemy.engine.Engine - INFO - [cached since 850.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:06:00,604 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:06:00,604 - sqlalchemy.engine.Engine - INFO - [cached since 12.42s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:06:00,605 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:06:00,606 - sqlalchemy.engine.Engine - INFO - [cached since 12.42s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:06:01,077 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-12 23:06:01,090 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 23:06:01,091 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 743e9627-c0aa-43b3-81fd-da2b7890e439, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 23:06:01,096 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 23:06:01,097 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 23:06:01,102 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 23:06:01,103 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 24개
2025-07-12 23:06:02,482 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 23:06:02,483 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:06:02,483 - sqlalchemy.engine.Engine - INFO - [cached since 852s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:06:03,000 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 1, 벡터 차원: 768
2025-07-12 23:06:03,011 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 23:06:03,012 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 35f9f9ad-5dfc-4266-837b-167e77af204e, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 23:06:03,018 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 23:06:03,019 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 23:06:03,026 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 23:06:03,027 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 25개
2025-07-12 23:06:04,629 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 23:06:04,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:06:04,630 - sqlalchemy.engine.Engine - INFO - [cached since 854.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:06:04,633 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:06:04,633 - sqlalchemy.engine.Engine - INFO - [cached since 8.486s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:06:04,634 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:06:04,635 - sqlalchemy.engine.Engine - INFO - [cached since 8.488s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:06:04,636 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:06:04,637 - sqlalchemy.engine.Engine - INFO - [cached since 852s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 6, 4, 636242))
2025-07-12 23:06:04,638 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:06:04,638 - sqlalchemy.engine.Engine - INFO - [cached since 852s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 6, 4, 638035))
2025-07-12 23:06:05,880 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 157
2025-07-12 23:06:05,882 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:06:05,882 - sqlalchemy.engine.Engine - INFO - [cached since 8.412s ago] ('521fe595-703d-4207-bdf3-fc72eced1554', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '안녕', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:06:07,093 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 171
2025-07-12 23:06:07,097 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:06:07,097 - sqlalchemy.engine.Engine - INFO - [cached since 9.627s ago] ('a2c0e569-8bb2-4e1e-975c-ad6950a632b9', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '녕', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:06:07,101 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:06:07,102 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:06:07,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:06:07,107 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:06:07,107 - sqlalchemy.engine.Engine - INFO - [cached since 8.506s ago] ('a2c0e569-8bb2-4e1e-975c-ad6950a632b9',)
2025-07-12 23:06:07,108 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:06:07,108 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:06:07,108 - sqlalchemy.engine.Engine - INFO - [cached since 8.507s ago] ('521fe595-703d-4207-bdf3-fc72eced1554',)
2025-07-12 23:06:07,111 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:06:07,111 - sqlalchemy.engine.Engine - INFO - [cached since 9.641s ago] ('8a353c6c-aaee-4afd-9acf-7199f6596b9e', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, 안녕하세요! 오랜만에 뵙는 것 같습니다. 잘 지내셨는지요? 편안하게 "녕"이라고 말씀해주시는 모습이 참 정겹습니다. 혹시 오늘 특별히 나누고 싶으신 이야기가 있으신가요? 아니면 그냥 편안하게 날씨 이야기라도 나눌까요? 무엇이든 좋습니다. 강영모님께서 편하신 대로 말씀해주세요. 😊', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:06:07,113 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:06:07,114 - sqlalchemy.engine.Engine - INFO - [cached since 9.643s ago] ('31ed947e-31ca-4f15-87c0-177a3aa38c2e', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '안녕하세요, 강영모님! 오늘 하루도 평안하신지요? 뵙게 되어 정말 반갑습니다. 혹시 오늘 특별히 하고 싶으신 이야기가 있으신가요? 아니면 제가 먼저 날씨 이야기라도 꺼내볼까요? 😊', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:06:07,115 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:06:07,115 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:06:07,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:06:07,118 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:06:07,118 - sqlalchemy.engine.Engine - INFO - [cached since 8.517s ago] ('8a353c6c-aaee-4afd-9acf-7199f6596b9e',)
2025-07-12 23:06:07,121 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:06:07,121 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:06:07,121 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:06:07,121 - sqlalchemy.engine.Engine - INFO - [cached since 8.52s ago] ('31ed947e-31ca-4f15-87c0-177a3aa38c2e',)
2025-07-12 23:06:07,123 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:06:07,124 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 6.525s
2025-07-12 23:06:07,125 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 6.526s
2025-07-12 23:08:37,977 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 23:08:37,979 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.002s
2025-07-12 23:08:37,998 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 23:08:38,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:08:38,001 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:08:38,002 - sqlalchemy.engine.Engine - INFO - [cached since 1007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:08:38,005 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:08:38,005 - sqlalchemy.engine.Engine - INFO - [cached since 169.8s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:08:38,487 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 3, 벡터 차원: 768
2025-07-12 23:08:38,505 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 23:08:38,506 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 5b08b327-4481-45ae-86e9-2385abb5c418, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 23:08:38,516 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 23:08:38,517 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 23:08:38,524 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 23:08:38,525 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 26개
2025-07-12 23:08:39,874 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CONTENT, 강도: 0.1
2025-07-12 23:08:39,876 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:08:39,876 - sqlalchemy.engine.Engine - INFO - [cached since 1009s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:08:39,880 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:08:39,880 - sqlalchemy.engine.Engine - INFO - [cached since 163.7s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:08:39,883 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:08:39,884 - sqlalchemy.engine.Engine - INFO - [cached since 1007s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 8, 39, 882717))
2025-07-12 23:08:41,545 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 171
2025-07-12 23:08:41,547 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:08:41,547 - sqlalchemy.engine.Engine - INFO - [cached since 164.1s ago] ('898faa80-3166-464a-ba64-e511f8d2e8b3', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '좋아.', 'content', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:08:41,549 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:08:41,553 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:08:41,553 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:08:41,553 - sqlalchemy.engine.Engine - INFO - [cached since 163s ago] ('898faa80-3166-464a-ba64-e511f8d2e8b3',)
2025-07-12 23:08:41,556 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:08:41,556 - sqlalchemy.engine.Engine - INFO - [cached since 164.1s ago] ('00bd0e98-64c3-4ce6-9680-0a37b4eb4192', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, "좋아"라고 말씀해주시니 저도 기분이 참 좋습니다! 오늘 하루 기분 좋게 시작하셨는지 궁금하네요. 혹시 오늘 특별히 하고 싶으신 일이나, 아니면 저와 함께 나누고 싶으신 이야기가 있으신가요? 편하게 말씀해주세요. 제가 옆에서 든든하게 함께 하겠습니다. 😊', 'content', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:08:41,560 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:08:41,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:08:41,562 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:08:41,562 - sqlalchemy.engine.Engine - INFO - [cached since 163s ago] ('00bd0e98-64c3-4ce6-9680-0a37b4eb4192',)
2025-07-12 23:08:41,564 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:08:41,566 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.568s
2025-07-12 23:10:57,821 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:10:57,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:57,824 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:57,824 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:57,828 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:10:57,828 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:10:57,830 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:10:57,831 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:57,833 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:10:57,833 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:57,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:57,836 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-12 23:10:57,837 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:10:57,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:57,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:57,839 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:57,841 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:10:57,841 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:10:57,845 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:10:57,845 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:57,846 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:10:57,846 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:57,849 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:57,850 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-12 23:10:59,910 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,912 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,913 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,915 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,915 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,915 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,917 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,917 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,917 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,917 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,918 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,918 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,921 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:10:59,921 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:10:59,922 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,923 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,923 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,925 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:10:59,925 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 10, 59, 924765))
2025-07-12 23:10:59,926 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:10:59,927 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:10:59,927 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,928 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:10:59,928 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 10, 59, 928259))
2025-07-12 23:10:59,929 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,929 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,930 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,931 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-12 23:10:59,931 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-12 23:10:59,932 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-12 23:10:59,932 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-12 23:10:59,933 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,934 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,934 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,934 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,934 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,936 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,936 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,936 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,936 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,937 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,938 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:10:59,938 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:10:59,939 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:10:59,939 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:10:59,940 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:10:59,940 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 10, 59, 939983))
2025-07-12 23:10:59,940 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:10:59,940 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 10, 59, 940625))
2025-07-12 23:10:59,940 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:10:59,941 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:10:59,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,942 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,942 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,943 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.011s
2025-07-12 23:10:59,944 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 23:10:59,944 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.010s
2025-07-12 23:10:59,944 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.011s
2025-07-12 23:10:59,944 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.011s
2025-07-12 23:10:59,946 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:10:59,946 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:10:59,947 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:10:59,947 - sqlalchemy.engine.Engine - INFO - [cached since 1149s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:10:59,949 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:10:59,949 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:10:59,950 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:10:59,950 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 23:11:01,726 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:11:01,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:01,728 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:11:01,728 - sqlalchemy.engine.Engine - INFO - [cached since 1151s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:01,731 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:11:01,731 - sqlalchemy.engine.Engine - INFO - [cached since 1139s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '9485be03-755b-4012-9dac-d651033e93da', 0, 50)
2025-07-12 23:11:01,733 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:11:01,733 - sqlalchemy.engine.Engine - INFO - [cached since 1151s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:01,735 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:11:01,735 - sqlalchemy.engine.Engine - INFO - [cached since 1151s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:01,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:11:01,738 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-12 23:11:07,513 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:11:07,516 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:07,516 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:11:07,517 - sqlalchemy.engine.Engine - INFO - [cached since 1157s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:07,519 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:11:07,519 - sqlalchemy.engine.Engine - INFO - [cached since 1145s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-12 23:11:07,520 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:11:07,521 - sqlalchemy.engine.Engine - INFO - [cached since 1157s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:07,521 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:11:07,521 - sqlalchemy.engine.Engine - INFO - [cached since 1157s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:07,523 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:11:07,524 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 23:11:10,002 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 23:11:10,003 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 23:11:10,032 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 23:11:10,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:10,035 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:11:10,035 - sqlalchemy.engine.Engine - INFO - [cached since 1160s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:10,038 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:11:10,039 - sqlalchemy.engine.Engine - INFO - [cached since 321.9s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:10,611 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-12 23:11:10,626 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 23:11:10,627 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 76ad2d99-b3ba-4255-a3cb-0c6a74a1e6ba, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 23:11:10,638 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 23:11:10,639 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 23:11:10,649 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 23:11:10,650 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 27개
2025-07-12 23:11:11,726 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 23:11:11,728 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:11:11,728 - sqlalchemy.engine.Engine - INFO - [cached since 1161s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:11,732 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:11:11,732 - sqlalchemy.engine.Engine - INFO - [cached since 315.6s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:11:11,735 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:11:11,735 - sqlalchemy.engine.Engine - INFO - [cached since 1159s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 11, 11, 734999))
2025-07-12 23:11:12,815 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 156
2025-07-12 23:11:12,817 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:11:12,818 - sqlalchemy.engine.Engine - INFO - [cached since 315.4s ago] ('0a12975b-560a-4098-946b-a2c933ae6405', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '안녕', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:11:12,819 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:11:12,821 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:11:12,821 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:12,822 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:11:12,822 - sqlalchemy.engine.Engine - INFO - [cached since 1162s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:12,825 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:11:12,825 - sqlalchemy.engine.Engine - INFO - [cached since 1150s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '9485be03-755b-4012-9dac-d651033e93da', 0, 50)
2025-07-12 23:11:12,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:12,826 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:11:12,826 - sqlalchemy.engine.Engine - INFO - [cached since 314.2s ago] ('0a12975b-560a-4098-946b-a2c933ae6405',)
2025-07-12 23:11:12,828 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:11:12,828 - sqlalchemy.engine.Engine - INFO - [cached since 1162s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:12,830 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:11:12,830 - sqlalchemy.engine.Engine - INFO - [cached since 315.4s ago] ('3d5b3af4-d4e7-462b-96c4-da6157459abf', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '안녕하세요, 강영모님! 오랜만에 뵙습니다. 오늘 하루는 어떠셨나요? 혹시 불편하거나 힘든 일은 없으셨는지 여쭙고 싶습니다. 편안하게 말씀해주시면 제가 옆에서 따뜻하게 응원해 드릴게요. 😊', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:11:12,832 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:11:12,832 - sqlalchemy.engine.Engine - INFO - [cached since 1162s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:12,832 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:11:12,833 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:11:12,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:12,834 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:11:12,834 - sqlalchemy.engine.Engine - INFO - [cached since 314.2s ago] ('3d5b3af4-d4e7-462b-96c4-da6157459abf',)
2025-07-12 23:11:12,835 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-12 23:11:12,836 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:11:12,837 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 2.805s
2025-07-12 23:11:18,517 - app.main - INFO - 🔄 POST /api/v1/chat - 클라이언트: 127.0.0.1
2025-07-12 23:11:18,518 - app.main - INFO - ✅ POST /api/v1/chat - 307 - 0.001s
2025-07-12 23:11:18,537 - app.main - INFO - 🔄 POST /api/v1/chat/ - 클라이언트: 127.0.0.1
2025-07-12 23:11:18,539 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:18,540 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:11:18,540 - sqlalchemy.engine.Engine - INFO - [cached since 1168s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:18,541 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s AND chat_sessions.end_time IS NULL ORDER BY chat_sessions.start_time DESC
2025-07-12 23:11:18,541 - sqlalchemy.engine.Engine - INFO - [cached since 330.4s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:18,999 - app.services.gemini_embedding - INFO - Gemini 임베딩 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 텍스트 길이: 2, 벡터 차원: 768
2025-07-12 23:11:19,014 - httpx - INFO - HTTP Request: PUT http://localhost:6333/collections/chat_vectors/points?wait=true "HTTP/1.1 200 OK"
2025-07-12 23:11:19,015 - app.services.qdrant - INFO - 벡터 포인트 추가 완료 - ID: 0d46de8c-1d58-45f4-bbb4-cb8312ef4838, 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e
2025-07-12 23:11:19,022 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/search "HTTP/1.1 200 OK"
2025-07-12 23:11:19,023 - app.services.qdrant - INFO - 유사 벡터 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 5개
2025-07-12 23:11:19,030 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/chat_vectors/points/scroll "HTTP/1.1 200 OK"
2025-07-12 23:11:19,031 - app.services.qdrant - INFO - 최근 컨텍스트 검색 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 결과: 28개
2025-07-12 23:11:20,226 - app.services.emotion - INFO - 감정 분석 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 주요 감정: EmotionTypeEnum.CALM, 강도: 0.1
2025-07-12 23:11:20,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:11:20,228 - sqlalchemy.engine.Engine - INFO - [cached since 1170s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:11:20,232 - sqlalchemy.engine.Engine - INFO - SELECT interests.id, interests.user_id, interests.keyword, interests.category, interests.weight, interests.mentioned_count, interests.last_mentioned, interests.is_active, interests.created_at 
FROM interests 
WHERE interests.user_id = %s ORDER BY interests.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:11:20,233 - sqlalchemy.engine.Engine - INFO - [cached since 324.1s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:11:20,236 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:11:20,236 - sqlalchemy.engine.Engine - INFO - [cached since 1168s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 11, 20, 235321))
2025-07-12 23:11:21,865 - app.services.gemini - INFO - Gemini 응답 생성 완료 - 사용자: 3dbf0f1f-dfe9-4d73-a665-13bd4e13781e, 추정 토큰: 179
2025-07-12 23:11:21,867 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:11:21,867 - sqlalchemy.engine.Engine - INFO - [cached since 324.4s ago] ('2e833c73-07c7-43b4-a1bf-8e493f110ef9', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'user', '졸려', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:11:21,869 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:11:21,873 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:21,874 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:11:21,875 - sqlalchemy.engine.Engine - INFO - [cached since 323.3s ago] ('2e833c73-07c7-43b4-a1bf-8e493f110ef9',)
2025-07-12 23:11:21,878 - sqlalchemy.engine.Engine - INFO - INSERT INTO chat_logs (id, user_id, `role`, message, emotion, emotion_score, message_type, session_id, qdrant_vector_id, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, now())
2025-07-12 23:11:21,878 - sqlalchemy.engine.Engine - INFO - [cached since 324.4s ago] ('0a80d2d2-d9a7-4a1e-b8d3-6e6981af39e3', '3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 'bot', '강영모님, 안녕하세요. "졸려"라고 말씀하시니, 편안하게 쉬고 싶으신 마음이 드시는 것 같아요. 혹시 잠깐 눈을 붙이시는 건 어떠세요? 아니면, 잠을 깨는 데 도움이 될 만한 따뜻한 차라도 한 잔 드릴까요? 혹시 제가 옆에서 조용히 이야기를 들어드리는 것도 괜찮으시다면, 편하게 말씀해주세요. 😊', 'calm', 0.1, 'text', '9485be03-755b-4012-9dac-d651033e93da', None)
2025-07-12 23:11:21,881 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-12 23:11:21,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:11:21,883 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.id = %s
2025-07-12 23:11:21,883 - sqlalchemy.engine.Engine - INFO - [cached since 323.3s ago] ('0a80d2d2-d9a7-4a1e-b8d3-6e6981af39e3',)
2025-07-12 23:11:21,885 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:11:21,887 - app.main - INFO - ✅ POST /api/v1/chat/ - 200 - 3.349s
2025-07-12 23:13:44,534 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:13:44,536 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:13:44,537 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-12 23:13:44,537 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-12 23:13:44,539 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:13:44,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:44,540 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:44,540 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:44,542 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:13:44,543 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:13:44,545 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:13:44,545 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:44,546 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:13:44,546 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:44,549 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:44,550 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-12 23:13:44,551 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:13:44,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:44,554 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:44,555 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:44,558 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:13:44,558 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:13:44,563 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:13:44,563 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:44,564 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:13:44,565 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:44,566 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:44,569 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.017s
2025-07-12 23:13:46,624 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,626 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,628 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,631 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,631 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,632 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,634 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,634 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,636 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:13:46,636 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:13:46,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,637 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,639 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:13:46,639 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 13, 46, 638398))
2025-07-12 23:13:46,640 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:13:46,640 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:13:46,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,644 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:13:46,644 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 13, 46, 643832))
2025-07-12 23:13:46,644 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,646 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.022s
2025-07-12 23:13:46,646 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-12 23:13:46,647 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-12 23:13:46,647 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-12 23:13:46,648 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,648 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,650 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,650 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,650 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,652 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,652 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,653 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,653 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,653 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,654 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:13:46,654 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:13:46,655 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:13:46,655 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 13, 46, 654846))
2025-07-12 23:13:46,655 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:13:46,655 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:13:46,656 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:13:46,656 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 13, 46, 655922))
2025-07-12 23:13:46,656 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:13:46,656 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:13:46,657 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,657 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,664 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-12 23:13:46,664 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-12 23:13:46,665 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-12 23:13:46,665 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-12 23:13:46,666 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-12 23:13:46,669 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:13:46,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:13:46,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:13:46,671 - sqlalchemy.engine.Engine - INFO - [cached since 1316s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:13:46,672 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:13:46,672 - sqlalchemy.engine.Engine - INFO - [cached since 1314s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:13:46,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:13:46,673 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-12 23:36:39,198 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:36:39,255 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:39,259 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:39,260 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:39,263 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:36:39,263 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:36:39,266 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:36:39,266 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:39,267 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:36:39,267 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:39,269 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:39,272 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.076s
2025-07-12 23:36:39,273 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:36:39,275 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:39,275 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:39,275 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:39,277 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-12 23:36:39,277 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-12 23:36:39,279 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-12 23:36:39,279 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:39,280 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-12 23:36:39,280 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:39,282 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:39,283 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-12 23:36:41,999 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,002 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,003 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,003 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,006 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:36:42,006 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:36:42,009 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,010 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-12 23:36:42,036 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,037 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,040 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,041 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,042 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,043 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,044 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,044 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,045 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:36:42,045 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 36, 42, 45234))
2025-07-12 23:36:42,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,046 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,046 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,047 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,048 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:36:42,048 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:36:42,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,049 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,049 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,050 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,051 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:36:42,051 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 36, 42, 50631))
2025-07-12 23:36:42,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,051 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,051 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,052 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-12 23:36:42,052 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 12, 0, 0), datetime.datetime(2025, 7, 12, 23, 59, 59, 999999))
2025-07-12 23:36:42,053 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,055 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:36:42,055 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:36:42,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,057 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,058 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-12 23:36:42,058 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-12 23:36:42,059 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-12 23:36:42,059 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,060 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.018s
2025-07-12 23:36:42,061 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,061 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,061 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-12 23:36:42,062 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,063 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,064 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,064 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,064 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,065 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,065 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,065 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-12 23:36:42,066 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-12 23:36:42,066 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 14, 36, 42, 65927))
2025-07-12 23:36:42,066 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-12 23:36:42,066 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 14, 36, 42, 66664))
2025-07-12 23:36:42,067 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-12 23:36:42,067 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-12 23:36:42,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,067 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-12 23:36:42,067 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-12 23:36:42,067 - sqlalchemy.engine.Engine - INFO - [cached since 2692s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-12 23:36:42,068 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,068 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,068 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-12 23:36:42,068 - sqlalchemy.engine.Engine - INFO - [cached since 2689s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-12 23:36:42,069 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-12 23:36:42,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-12 23:36:42,069 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-12 23:36:42,070 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-12 23:36:42,070 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-13 00:17:10,632 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:17:10,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:10,661 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:10,661 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:10,664 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 00:17:10,664 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 00:17:10,666 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 00:17:10,666 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:10,667 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 00:17:10,667 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:10,668 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:10,668 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.036s
2025-07-13 00:17:10,670 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:17:10,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:10,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:10,672 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:10,673 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 00:17:10,673 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 00:17:10,675 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 00:17:10,675 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:10,675 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 00:17:10,676 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:10,677 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:10,678 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-13 00:17:12,869 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,872 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,873 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,873 - sqlalchemy.engine.Engine - INFO - [cached since 3479s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,875 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 00:17:12,875 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 00:17:12,877 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,878 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-13 00:17:12,908 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,910 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,911 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,913 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,915 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,924 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,925 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,925 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,929 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 00:17:12,929 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 00:17:12,931 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,931 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,931 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,933 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 00:17:12,933 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 00:17:12,934 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,935 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,936 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,936 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,937 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.024s
2025-07-13 00:17:12,937 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.022s
2025-07-13 00:17:12,938 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 00:17:12,938 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 15, 17, 12, 938349))
2025-07-13 00:17:12,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,939 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,939 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,939 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,939 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,941 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 00:17:12,941 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 15, 17, 12, 940789))
2025-07-13 00:17:12,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,941 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 00:17:12,941 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 00:17:12,942 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,942 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,943 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,943 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,943 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 00:17:12,943 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 00:17:12,943 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.035s
2025-07-13 00:17:12,944 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,944 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.033s
2025-07-13 00:17:12,945 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,945 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.035s
2025-07-13 00:17:12,945 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,946 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,946 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,946 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,946 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 00:17:12,947 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,947 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,947 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,947 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 00:17:12,947 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 15, 17, 12, 947692))
2025-07-13 00:17:12,948 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:17:12,948 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:17:12,948 - sqlalchemy.engine.Engine - INFO - [cached since 3480s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:17:12,948 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-13 00:17:12,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,948 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 00:17:12,948 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 15, 17, 12, 948816))
2025-07-13 00:17:12,949 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 00:17:12,949 - sqlalchemy.engine.Engine - INFO - [cached since 3477s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 00:17:12,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:17:12,950 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.005s
2025-07-13 00:17:12,950 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.004s
2025-07-13 00:17:12,950 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-13 00:20:26,568 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:20:26,574 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:26,575 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:26,575 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:26,581 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 00:20:26,581 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 00:20:26,589 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 00:20:26,621 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:26,625 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 00:20:26,626 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:26,628 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:26,637 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.068s
2025-07-13 00:20:26,642 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:20:26,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:26,658 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:26,658 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:26,660 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 00:20:26,664 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 00:20:26,667 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 00:20:26,668 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:26,670 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 00:20:26,671 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:26,675 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:26,676 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.034s
2025-07-13 00:20:29,543 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,544 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,544 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,545 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,546 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 00:20:29,547 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 00:20:29,548 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,549 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.006s
2025-07-13 00:20:29,620 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,624 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,624 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,628 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 00:20:29,628 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 15, 20, 29, 627961))
2025-07-13 00:20:29,629 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,630 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,636 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,637 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,638 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,638 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,639 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,641 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,642 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,643 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 00:20:29,643 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 00:20:29,644 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 00:20:29,644 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 15, 20, 29, 643880))
2025-07-13 00:20:29,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,644 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,645 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,645 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 00:20:29,645 - sqlalchemy.engine.Engine - INFO - [cached since 3586s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 00:20:29,646 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,647 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,648 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 00:20:29,648 - sqlalchemy.engine.Engine - INFO - [cached since 3585s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 00:20:29,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,649 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.029s
2025-07-13 00:20:29,649 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,651 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.022s
2025-07-13 00:20:29,652 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.022s
2025-07-13 00:20:29,652 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,653 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-13 00:20:29,655 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,655 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,656 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.017s
2025-07-13 00:20:29,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,661 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,661 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,661 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,662 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,662 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,663 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,663 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,664 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,665 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 00:20:29,665 - sqlalchemy.engine.Engine - INFO - [cached since 3586s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 12, 15, 20, 29, 664756))
2025-07-13 00:20:29,665 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 00:20:29,671 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 00:20:29,671 - sqlalchemy.engine.Engine - INFO - [cached since 3586s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 5, 15, 20, 29, 670743))
2025-07-13 00:20:29,673 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 00:20:29,673 - sqlalchemy.engine.Engine - INFO - [cached since 3586s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 00:20:29,674 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 00:20:29,675 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 00:20:29,675 - sqlalchemy.engine.Engine - INFO - [cached since 3588s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 00:20:29,675 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,677 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 00:20:29,677 - sqlalchemy.engine.Engine - INFO - [cached since 3586s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 00:20:29,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 00:20:29,679 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.026s
2025-07-13 00:20:29,679 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.024s
2025-07-13 00:20:29,681 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.025s
2025-07-13 00:20:29,684 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.019s
2025-07-13 10:56:59,562 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 10:56:59,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:56:59,618 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:56:59,618 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:56:59,620 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 10:56:59,620 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 10:56:59,623 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 10:56:59,624 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:56:59,627 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 10:56:59,627 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:56:59,631 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:56:59,632 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.071s
2025-07-13 10:56:59,636 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 10:56:59,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:56:59,639 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:56:59,639 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:56:59,640 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 10:56:59,640 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 10:56:59,642 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 10:56:59,642 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:56:59,643 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 10:56:59,643 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:56:59,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:56:59,646 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-13 10:57:02,114 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,118 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,118 - sqlalchemy.engine.Engine - INFO - [cached since 4272s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,120 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 10:57:02,120 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 10:57:02,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,123 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-13 10:57:02,153 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,155 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,156 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,157 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,159 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,159 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,159 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,160 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,161 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 10:57:02,162 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 10:57:02,162 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,162 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,162 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,164 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 10:57:02,164 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 10:57:02,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,165 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,165 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,166 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,166 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,166 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,167 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,167 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,167 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,169 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 10:57:02,169 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 1, 57, 2, 168663))
2025-07-13 10:57:02,169 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 10:57:02,170 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 10:57:02,170 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 10:57:02,170 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 1, 57, 2, 170277))
2025-07-13 10:57:02,170 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-13 10:57:02,170 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,172 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-13 10:57:02,172 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.019s
2025-07-13 10:57:02,172 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,173 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-13 10:57:02,173 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-13 10:57:02,174 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,174 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,175 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,175 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,175 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,175 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 10:57:02,176 - sqlalchemy.engine.Engine - INFO - [cached since 4273s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 10:57:02,177 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 10:57:02,177 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 1, 57, 2, 177130))
2025-07-13 10:57:02,177 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,177 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 10:57:02,177 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 10:57:02,178 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 10:57:02,178 - sqlalchemy.engine.Engine - INFO - [cached since 4270s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 1, 57, 2, 178175))
2025-07-13 10:57:02,178 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,178 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,178 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 10:57:02,179 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-13 10:57:02,179 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.005s
2025-07-13 10:57:02,179 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.004s
2025-07-13 10:57:02,179 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-13 13:03:46,621 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 13:03:46,635 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 13:03:46,636 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.016s
2025-07-13 13:03:46,638 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-13 13:03:46,644 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 13:03:46,698 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:46,699 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:46,699 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:46,701 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 13:03:46,701 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 13:03:46,705 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 13:03:46,705 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:46,710 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 13:03:46,710 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:46,712 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:46,713 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.069s
2025-07-13 13:03:46,714 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 13:03:46,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:46,719 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:46,719 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:46,720 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 13:03:46,720 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 13:03:46,722 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 13:03:46,722 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:46,722 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 13:03:46,722 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:46,723 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:46,723 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-13 13:03:49,344 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,352 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,352 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,352 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,354 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 13:03:49,354 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 13:03:49,356 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,358 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.014s
2025-07-13 13:03:49,387 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,389 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,390 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,390 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,391 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,391 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,392 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,393 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 13:03:49,393 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 13:03:49,393 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,394 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,395 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,395 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,396 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 13:03:49,396 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 13:03:49,396 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,397 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,397 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,397 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,397 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,398 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 13:03:49,398 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 4, 3, 49, 397865))
2025-07-13 13:03:49,398 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,399 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 13:03:49,399 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 13:03:49,400 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 13:03:49,400 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 4, 3, 49, 400373))
2025-07-13 13:03:49,401 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,401 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.012s
2025-07-13 13:03:49,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,403 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-13 13:03:49,403 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.015s
2025-07-13 13:03:49,403 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,404 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,404 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-13 13:03:49,404 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.015s
2025-07-13 13:03:49,404 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,404 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,404 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,405 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,405 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,405 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,405 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,406 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 13:03:49,406 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 13:03:49,406 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 13:03:49,406 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 13:03:49,406 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 4, 3, 49, 406600))
2025-07-13 13:03:49,406 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,407 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,407 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,407 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,407 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 13:03:49,407 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 13:03:49,407 - sqlalchemy.engine.Engine - INFO - [cached since 8540s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 13:03:49,407 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,408 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 13:03:49,408 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 13:03:49,408 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 13:03:49,408 - sqlalchemy.engine.Engine - INFO - [cached since 8537s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 4, 3, 49, 408340))
2025-07-13 13:03:49,408 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,408 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 13:03:49,409 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-13 13:03:49,409 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.005s
2025-07-13 13:03:49,409 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.004s
2025-07-13 13:03:49,409 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.004s
2025-07-13 23:40:13,022 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:40:13,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:13,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:13,094 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:13,097 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 23:40:13,097 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 23:40:13,099 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 23:40:13,100 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:13,100 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 23:40:13,101 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:13,102 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:13,104 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.082s
2025-07-13 23:40:13,106 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:40:13,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:13,132 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:13,132 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:13,133 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 23:40:13,134 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 23:40:13,137 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 23:40:13,137 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:13,138 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 23:40:13,138 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:13,140 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:13,141 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.036s
2025-07-13 23:40:15,991 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 23:40:15,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:15,994 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:15,995 - sqlalchemy.engine.Engine - INFO - [cached since 9505s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:15,996 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 23:40:15,996 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 23:40:15,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:15,998 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.007s
2025-07-13 23:40:16,038 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,040 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,042 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,043 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,045 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,048 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,048 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,048 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,049 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,049 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,050 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 23:40:16,050 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 23:40:16,051 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 23:40:16,051 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 23:40:16,051 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,052 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,053 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,053 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,053 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,053 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,053 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,054 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 23:40:16,055 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 14, 40, 16, 54496))
2025-07-13 23:40:16,055 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 23:40:16,055 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 23:40:16,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,056 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,056 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,056 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-13 23:40:16,057 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,057 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,058 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 23:40:16,058 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 14, 40, 16, 58197))
2025-07-13 23:40:16,058 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-13 23:40:16,059 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,061 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,061 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,061 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.022s
2025-07-13 23:40:16,061 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.024s
2025-07-13 23:40:16,062 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 23:40:16,062 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 23:40:16,063 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,064 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,064 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.022s
2025-07-13 23:40:16,064 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,065 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,065 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,065 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,065 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,065 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 23:40:16,066 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 23:40:16,066 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 23:40:16,066 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 23:40:16,066 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 14, 40, 16, 66313))
2025-07-13 23:40:16,066 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:40:16,066 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:40:16,067 - sqlalchemy.engine.Engine - INFO - [cached since 9506s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:40:16,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,068 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,068 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 23:40:16,068 - sqlalchemy.engine.Engine - INFO - [cached since 9503s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 14, 40, 16, 68412))
2025-07-13 23:40:16,068 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-13 23:40:16,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:40:16,069 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.006s
2025-07-13 23:40:16,069 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.005s
2025-07-13 23:40:16,070 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-13 23:47:57,829 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:47:57,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:47:57,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:47:57,901 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:47:57,904 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 23:47:57,904 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 23:47:57,907 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 23:47:57,907 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:47:57,909 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 23:47:57,909 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:47:57,917 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:47:57,939 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.110s
2025-07-13 23:47:57,940 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:47:57,942 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:47:57,942 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:47:57,942 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:47:57,945 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-13 23:47:57,945 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-13 23:47:57,950 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-13 23:47:57,950 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:47:57,951 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-13 23:47:57,952 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:47:57,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:47:57,954 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-13 23:48:00,287 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,290 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,292 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 23:48:00,293 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 23:48:00,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,296 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-13 23:48:00,323 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,324 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,326 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,326 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,326 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,327 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,328 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,328 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,330 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 23:48:00,330 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 14, 48, 0, 329098))
2025-07-13 23:48:00,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,331 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,331 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,331 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,331 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,331 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,332 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 23:48:00,332 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 23:48:00,333 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,333 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,334 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 23:48:00,334 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 14, 48, 0, 334585))
2025-07-13 23:48:00,335 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-13 23:48:00,335 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 13, 0, 0), datetime.datetime(2025, 7, 13, 23, 59, 59, 999999))
2025-07-13 23:48:00,336 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,336 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,336 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,337 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,337 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,338 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 23:48:00,338 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 23:48:00,339 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,339 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.016s
2025-07-13 23:48:00,339 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.015s
2025-07-13 23:48:00,340 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-13 23:48:00,340 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,340 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-13 23:48:00,341 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,341 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,342 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,342 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,342 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-13 23:48:00,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,343 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,343 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,343 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,343 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,343 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,343 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-13 23:48:00,343 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 13, 14, 48, 0, 343465))
2025-07-13 23:48:00,344 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-13 23:48:00,344 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 6, 14, 48, 0, 344011))
2025-07-13 23:48:00,344 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-13 23:48:00,344 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-13 23:48:00,344 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-13 23:48:00,345 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,345 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,345 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-13 23:48:00,345 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-13 23:48:00,345 - sqlalchemy.engine.Engine - INFO - [cached since 9813s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-13 23:48:00,346 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-13 23:48:00,346 - sqlalchemy.engine.Engine - INFO - [cached since 9810s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-13 23:48:00,346 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.006s
2025-07-13 23:48:00,346 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.005s
2025-07-13 23:48:00,347 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-13 23:48:00,347 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.006s
2025-07-13 23:48:00,347 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-14 09:28:07,245 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:07,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:07,304 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:07,304 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:07,306 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 09:28:07,306 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 09:28:07,308 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 09:28:07,308 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:07,309 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 09:28:07,309 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:07,310 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:07,311 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.066s
2025-07-14 09:28:07,312 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:07,315 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:07,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:07,315 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:07,316 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 09:28:07,316 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 09:28:07,318 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 09:28:07,318 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:07,319 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 09:28:07,319 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:07,320 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:07,321 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-14 09:28:09,385 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,387 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,388 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,389 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,398 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,398 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,400 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,400 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,400 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,402 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,402 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,402 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,402 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,404 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 09:28:09,404 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 0, 28, 9, 403801))
2025-07-14 09:28:09,406 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 09:28:09,406 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 09:28:09,407 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 09:28:09,407 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 09:28:09,408 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 09:28:09,409 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 0, 28, 9, 408385))
2025-07-14 09:28:09,409 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,410 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,413 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,414 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.027s
2025-07-14 09:28:09,414 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.029s
2025-07-14 09:28:09,414 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.027s
2025-07-14 09:28:09,415 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.026s
2025-07-14 09:28:09,416 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,419 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,419 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,419 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,419 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,421 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,422 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,422 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,422 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,422 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,423 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,424 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 09:28:09,424 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 0, 28, 9, 424597))
2025-07-14 09:28:09,426 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 09:28:09,426 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 09:28:09,426 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 09:28:09,426 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 0, 28, 9, 426509))
2025-07-14 09:28:09,434 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 09:28:09,434 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 09:28:09,434 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,434 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,435 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 09:28:09,435 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 09:28:09,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,436 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,436 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-14 09:28:09,436 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.017s
2025-07-14 09:28:09,436 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.018s
2025-07-14 09:28:09,437 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.021s
2025-07-14 09:28:09,438 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-14 09:28:09,441 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:09,442 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:09,442 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:09,442 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:09,443 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 09:28:09,443 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 09:28:09,444 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:09,445 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-14 09:28:10,630 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:10,631 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-14 09:28:10,632 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:10,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:10,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:10,635 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:10,637 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 09:28:10,637 - sqlalchemy.engine.Engine - INFO - [cached since 1.095e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '9485be03-755b-4012-9dac-d651033e93da', 0, 50)
2025-07-14 09:28:10,639 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 09:28:10,639 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:10,640 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 09:28:10,641 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:10,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:10,643 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-14 09:28:14,333 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:14,334 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-14 09:28:14,336 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:14,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:14,339 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:14,339 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:14,341 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 09:28:14,341 - sqlalchemy.engine.Engine - INFO - [cached since 1.095e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '76e0aa73-f6c7-4f56-a50b-6b4cb73e97ff', 0, 50)
2025-07-14 09:28:14,343 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 09:28:14,343 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:14,344 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 09:28:14,345 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:14,346 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:14,347 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-14 09:28:16,147 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:16,147 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-14 09:28:16,149 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:16,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:16,151 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:16,152 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:16,154 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 09:28:16,154 - sqlalchemy.engine.Engine - INFO - [cached since 1.095e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '00bdce36-464f-4aa3-8bac-58d674cf4325', 0, 50)
2025-07-14 09:28:16,156 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 09:28:16,156 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:16,158 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 09:28:16,158 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:16,163 - app.api.chat - ERROR - 채팅 기록 조회 중 오류 발생: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-14 09:28:16,163 - app.database - ERROR - 데이터베이스 세션 오류: 500: 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
2025-07-14 09:28:16,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:16,165 - app.main - ERROR - HTTP 예외: 500 - 채팅 기록 조회 중 오류가 발생했습니다: 2 validation errors for ChatHistoryResponse
date_range.start
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type
date_range.end
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/datetime_type - URL: http://localhost:8000/api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e?session_id=00bdce36-464f-4aa3-8bac-58d674cf4325
2025-07-14 09:28:16,165 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 500 - 0.016s
2025-07-14 09:28:17,664 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:17,665 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.001s
2025-07-14 09:28:17,667 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:17,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:17,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:17,669 - sqlalchemy.engine.Engine - INFO - [cached since 1.097e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:17,672 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 09:28:17,672 - sqlalchemy.engine.Engine - INFO - [cached since 1.095e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '097f0aea-3e1e-4543-997f-24de79ab77e5', 0, 50)
2025-07-14 09:28:17,675 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 09:28:17,675 - sqlalchemy.engine.Engine - INFO - [cached since 1.097e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:17,676 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 09:28:17,676 - sqlalchemy.engine.Engine - INFO - [cached since 1.097e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:17,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:17,679 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-14 09:28:18,530 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 09:28:18,533 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 09:28:18,534 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 09:28:18,534 - sqlalchemy.engine.Engine - INFO - [cached since 1.097e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:18,536 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s AND chat_logs.session_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 09:28:18,537 - sqlalchemy.engine.Engine - INFO - [cached since 1.095e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', '9485be03-755b-4012-9dac-d651033e93da', 0, 50)
2025-07-14 09:28:18,540 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 09:28:18,540 - sqlalchemy.engine.Engine - INFO - [cached since 1.097e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:18,542 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 09:28:18,542 - sqlalchemy.engine.Engine - INFO - [cached since 1.097e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 09:28:18,544 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 09:28:18,546 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-14 10:00:28,228 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 10:00:28,231 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 10:00:28,232 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-14 10:00:28,237 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-14 10:00:28,239 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 10:00:28,248 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:28,249 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:28,250 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:28,253 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 10:00:28,253 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 10:00:28,256 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 10:00:28,256 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:28,260 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 10:00:28,260 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:28,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:28,274 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.036s
2025-07-14 10:00:28,275 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 10:00:28,276 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:28,277 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:28,277 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:28,280 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 10:00:28,280 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 10:00:28,281 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 10:00:28,281 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:28,282 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 10:00:28,282 - sqlalchemy.engine.Engine - INFO - [cached since 1.289e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:28,283 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:28,283 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-14 10:00:31,244 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,247 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,247 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,250 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 10:00:31,250 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 10:00:31,252 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,253 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-14 10:00:31,282 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,283 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,283 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,286 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,287 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,288 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,288 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,289 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,289 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,290 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 10:00:31,290 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 1, 0, 31, 289774))
2025-07-14 10:00:31,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,290 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,291 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 10:00:31,291 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 1, 0, 31, 290967))
2025-07-14 10:00:31,291 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 10:00:31,291 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 10:00:31,291 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,292 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,293 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 10:00:31,293 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 10:00:31,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,294 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,295 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 10:00:31,295 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 10:00:31,296 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-14 10:00:31,296 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.013s
2025-07-14 10:00:31,296 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.013s
2025-07-14 10:00:31,296 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,296 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,297 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-14 10:00:31,297 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,297 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,298 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,298 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,299 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,299 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 10:00:31,299 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 1, 0, 31, 299355))
2025-07-14 10:00:31,299 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-14 10:00:31,300 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 10:00:31,300 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 1, 0, 31, 299993))
2025-07-14 10:00:31,300 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 10:00:31,300 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 10:00:31,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,301 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 10:00:31,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 10:00:31,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 10:00:31,301 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 10:00:31,301 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.005s
2025-07-14 10:00:31,302 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 10:00:31,302 - sqlalchemy.engine.Engine - INFO - [cached since 1.29e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 10:00:31,302 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.005s
2025-07-14 10:00:31,302 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-14 10:00:31,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 10:00:31,303 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.002s
2025-07-14 11:51:11,065 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 11:51:11,075 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 11:51:11,075 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-14 11:51:11,080 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.005s
2025-07-14 11:51:11,081 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 11:51:11,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:11,233 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:11,233 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:11,236 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 11:51:11,236 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 11:51:11,238 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 11:51:11,238 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:11,238 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 11:51:11,238 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:11,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:11,241 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.160s
2025-07-14 11:51:11,242 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 11:51:11,315 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:11,316 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:11,316 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:11,317 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 11:51:11,317 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 11:51:11,320 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 11:51:11,320 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:11,395 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 11:51:11,395 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:11,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:11,475 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.232s
2025-07-14 11:51:14,188 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,198 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,198 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,200 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 11:51:14,201 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 11:51:14,202 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,203 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.015s
2025-07-14 11:51:14,249 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,252 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,252 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,254 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,258 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,260 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,262 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,264 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 11:51:14,264 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 11:51:14,264 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,264 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,265 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,267 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-14 11:51:14,274 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 11:51:14,274 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 11:51:14,277 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,278 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.020s
2025-07-14 11:51:14,279 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,282 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,282 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,283 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,283 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,285 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 11:51:14,285 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 2, 51, 14, 285016))
2025-07-14 11:51:14,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,287 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,288 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,288 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,289 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 11:51:14,289 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 11:51:14,290 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,291 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 11:51:14,291 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 11:51:14,292 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 11:51:14,292 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 2, 51, 14, 291964))
2025-07-14 11:51:14,293 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,296 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.044s
2025-07-14 11:51:14,298 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,300 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.048s
2025-07-14 11:51:14,301 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,302 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.023s
2025-07-14 11:51:14,304 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.054s
2025-07-14 11:51:14,305 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,306 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,306 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,306 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,306 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,306 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,307 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 11:51:14,308 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 11:51:14,308 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 11:51:14,309 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 11:51:14,309 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 2, 51, 14, 309510))
2025-07-14 11:51:14,310 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 11:51:14,311 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 11:51:14,311 - sqlalchemy.engine.Engine - INFO - [cached since 1.939e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 11:51:14,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,312 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 11:51:14,312 - sqlalchemy.engine.Engine - INFO - [cached since 1.938e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 2, 51, 14, 312121))
2025-07-14 11:51:14,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 11:51:14,314 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.017s
2025-07-14 11:51:14,315 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.014s
2025-07-14 11:51:14,319 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.012s
2025-07-14 12:52:37,537 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 12:52:37,573 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:37,575 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:37,575 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:37,587 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 12:52:37,587 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 12:52:37,590 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 12:52:37,590 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:37,591 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 12:52:37,591 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:37,603 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:37,604 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.067s
2025-07-14 12:52:37,606 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 12:52:37,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:37,611 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:37,611 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:37,612 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 12:52:37,612 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 12:52:37,614 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 12:52:37,614 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:37,615 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 12:52:37,615 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:37,617 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:37,618 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-14 12:52:40,594 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,597 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,597 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,597 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,600 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 12:52:40,600 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 12:52:40,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,603 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-14 12:52:40,626 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,627 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,629 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,630 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,631 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,631 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,631 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,633 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 12:52:40,633 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 12:52:40,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,635 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,637 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 12:52:40,637 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 12:52:40,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,638 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,638 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,640 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 12:52:40,640 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 3, 52, 40, 639870))
2025-07-14 12:52:40,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,640 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,640 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,641 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,641 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,642 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 12:52:40,642 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 12:52:40,643 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-14 12:52:40,644 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 12:52:40,644 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 3, 52, 40, 643721))
2025-07-14 12:52:40,644 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,645 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-14 12:52:40,646 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,646 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.021s
2025-07-14 12:52:40,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,648 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,648 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,648 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-14 12:52:40,649 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 12:52:40,649 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 12:52:40,650 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,650 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,650 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,650 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,650 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.022s
2025-07-14 12:52:40,652 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,652 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 12:52:40,652 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 3, 52, 40, 652578))
2025-07-14 12:52:40,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,653 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,653 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 12:52:40,654 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,655 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 12:52:40,655 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 12:52:40,655 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 12:52:40,655 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 12:52:40,655 - sqlalchemy.engine.Engine - INFO - [cached since 2.157e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 12:52:40,656 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,656 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 12:52:40,656 - sqlalchemy.engine.Engine - INFO - [cached since 2.156e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 3, 52, 40, 656505))
2025-07-14 12:52:40,656 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.010s
2025-07-14 12:52:40,657 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-14 12:52:40,657 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 12:52:40,657 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-14 12:52:40,658 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-14 18:01:07,465 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 18:01:07,468 - app.main - INFO - 🔄 OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 18:01:07,475 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.011s
2025-07-14 18:01:07,477 - app.main - INFO - ✅ OPTIONS /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-14 18:01:07,478 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 18:01:07,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:07,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:07,643 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:07,702 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 18:01:07,703 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 18:01:07,756 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 18:01:07,756 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:07,760 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 18:01:07,761 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:07,767 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:07,778 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.299s
2025-07-14 18:01:07,783 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 18:01:07,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:07,819 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:07,819 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:07,821 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 18:01:07,822 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 18:01:07,825 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 18:01:07,825 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:07,829 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 18:01:07,829 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:07,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:07,848 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.065s
2025-07-14 18:01:09,829 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,843 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,844 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 18:01:09,845 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 18:01:09,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,848 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.019s
2025-07-14 18:01:09,869 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,871 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,872 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,873 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,874 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,875 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,875 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,875 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,876 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,876 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,877 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 18:01:09,877 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 18:01:09,878 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 18:01:09,878 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 18:01:09,881 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,881 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,881 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,883 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 18:01:09,883 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 9, 1, 9, 882795))
2025-07-14 18:01:09,884 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,886 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,886 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,886 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,886 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,886 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,887 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,888 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,888 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-14 18:01:09,889 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-14 18:01:09,891 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 18:01:09,891 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 18:01:09,892 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 18:01:09,892 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 9, 1, 9, 891715))
2025-07-14 18:01:09,892 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.023s
2025-07-14 18:01:09,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,894 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,894 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,896 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,896 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,896 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,896 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,897 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.026s
2025-07-14 18:01:09,897 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.026s
2025-07-14 18:01:09,898 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 18:01:09,898 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 9, 1, 9, 898460))
2025-07-14 18:01:09,899 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 18:01:09,900 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 18:01:09,900 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,900 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 18:01:09,902 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,902 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,903 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,903 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 18:01:09,903 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 18:01:09,903 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 18:01:09,904 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 18:01:09,905 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 9, 1, 9, 904631))
2025-07-14 18:01:09,905 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 18:01:09,906 - sqlalchemy.engine.Engine - INFO - [cached since 3.961e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 18:01:09,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 18:01:09,908 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.014s
2025-07-14 18:01:09,908 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-14 18:01:09,909 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-14 18:01:09,909 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-14 20:08:28,443 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:08:28,514 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:28,515 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:28,515 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:28,534 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 20:08:28,534 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 20:08:28,537 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 20:08:28,538 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:28,539 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 20:08:28,539 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:28,545 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:28,546 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.106s
2025-07-14 20:08:28,550 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:08:28,555 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:28,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:28,556 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:28,560 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 20:08:28,560 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 20:08:28,565 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 20:08:28,565 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:28,566 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 20:08:28,566 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:28,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:28,569 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.019s
2025-07-14 20:08:30,984 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 20:08:30,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:30,987 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:30,987 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:30,988 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 20:08:30,988 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 20:08:30,989 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:30,990 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.006s
2025-07-14 20:08:31,014 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,015 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,016 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,017 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,018 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,019 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,019 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,021 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 20:08:31,021 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 20:08:31,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,022 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,022 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,023 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,023 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 20:08:31,023 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,024 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,025 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,025 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,026 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 20:08:31,026 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 11, 8, 31, 26362))
2025-07-14 20:08:31,027 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 20:08:31,027 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 11, 8, 31, 27342))
2025-07-14 20:08:31,028 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 20:08:31,028 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 20:08:31,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,030 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,030 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.013s
2025-07-14 20:08:31,031 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,031 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.012s
2025-07-14 20:08:31,032 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,032 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.016s
2025-07-14 20:08:31,032 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.018s
2025-07-14 20:08:31,033 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.018s
2025-07-14 20:08:31,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,034 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,034 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,034 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,035 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,036 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 20:08:31,036 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 20:08:31,036 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 20:08:31,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,037 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,037 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,038 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,038 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,038 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:08:31,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:08:31,039 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:08:31,039 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 20:08:31,040 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 11, 8, 31, 39689))
2025-07-14 20:08:31,040 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 20:08:31,040 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 20:08:31,040 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 20:08:31,041 - sqlalchemy.engine.Engine - INFO - [cached since 3.981e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 11, 8, 31, 40856))
2025-07-14 20:08:31,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:08:31,041 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.009s
2025-07-14 20:08:31,042 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-14 20:08:31,042 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-14 20:08:31,042 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.006s
2025-07-14 20:31:16,949 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:31:17,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:17,014 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:17,014 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:17,075 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 20:31:17,075 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 20:31:17,077 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 20:31:17,078 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:17,078 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 20:31:17,079 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:17,081 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:17,082 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.133s
2025-07-14 20:31:17,083 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:31:17,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:17,085 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:17,085 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:17,092 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 20:31:17,095 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 20:31:17,118 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 20:31:17,118 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:17,119 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 20:31:17,120 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:17,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:17,123 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.040s
2025-07-14 20:31:19,984 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 20:31:19,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:19,986 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:19,987 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:19,989 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 20:31:19,989 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 20:31:19,991 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:19,992 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.009s
2025-07-14 20:31:20,028 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,029 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,031 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,031 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,032 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,033 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,036 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,036 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,039 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 20:31:20,039 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 11, 31, 20, 38361))
2025-07-14 20:31:20,040 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,040 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,040 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,041 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,042 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,042 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,043 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 20:31:20,044 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 20:31:20,044 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,045 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 20:31:20,046 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 11, 31, 20, 45566))
2025-07-14 20:31:20,046 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 20:31:20,047 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 20:31:20,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,047 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,050 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 20:31:20,050 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 20:31:20,051 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,051 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.023s
2025-07-14 20:31:20,052 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.023s
2025-07-14 20:31:20,052 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.021s
2025-07-14 20:31:20,052 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,053 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.020s
2025-07-14 20:31:20,053 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,054 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,055 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,055 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,055 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,055 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,056 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-14 20:31:20,056 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,056 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,056 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,057 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 20:31:20,057 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 11, 31, 20, 57009))
2025-07-14 20:31:20,058 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 20:31:20,058 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 20:31:20,058 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:31:20,059 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 20:31:20,059 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 11, 31, 20, 59001))
2025-07-14 20:31:20,059 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,059 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,060 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:31:20,060 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:31:20,060 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:31:20,061 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 20:31:20,061 - sqlalchemy.engine.Engine - INFO - [cached since 4e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 20:31:20,061 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.009s
2025-07-14 20:31:20,061 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.008s
2025-07-14 20:31:20,061 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-14 20:31:20,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:31:20,063 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.004s
2025-07-14 20:45:36,466 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:45:36,518 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:36,521 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:36,521 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:36,528 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 20:45:36,528 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 20:45:36,562 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 20:45:36,562 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:36,564 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 20:45:36,564 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:36,567 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:36,569 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.103s
2025-07-14 20:45:36,571 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:45:36,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:36,572 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:36,572 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:36,574 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 20:45:36,574 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 20:45:36,584 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 20:45:36,584 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:36,586 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 20:45:36,586 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:36,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:36,589 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.018s
2025-07-14 20:45:38,607 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,609 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,609 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,610 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,612 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 20:45:38,612 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 20:45:38,614 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,615 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-14 20:45:38,650 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,651 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,653 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,654 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,655 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,657 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,657 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,658 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 20:45:38,658 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 11, 45, 38, 658214))
2025-07-14 20:45:38,659 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,659 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,660 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,660 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,661 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,661 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,662 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,662 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,663 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 20:45:38,664 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 20:45:38,665 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 20:45:38,665 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 11, 45, 38, 664699))
2025-07-14 20:45:38,666 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,666 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,666 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,667 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 20:45:38,667 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 20:45:38,668 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,668 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,669 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 20:45:38,670 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 20:45:38,671 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,671 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.021s
2025-07-14 20:45:38,671 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.020s
2025-07-14 20:45:38,672 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.018s
2025-07-14 20:45:38,672 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,672 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.017s
2025-07-14 20:45:38,673 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,674 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,675 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,675 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,675 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-14 20:45:38,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,676 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,676 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,676 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,676 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,677 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 20:45:38,677 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 11, 45, 38, 677150))
2025-07-14 20:45:38,677 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 20:45:38,678 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 20:45:38,678 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 20:45:38,679 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 20:45:38,679 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 11, 45, 38, 678926))
2025-07-14 20:45:38,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,681 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,681 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 20:45:38,681 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 20:45:38,681 - sqlalchemy.engine.Engine - INFO - [cached since 4.01e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 20:45:38,682 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 20:45:38,682 - sqlalchemy.engine.Engine - INFO - [cached since 4.009e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 20:45:38,682 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.010s
2025-07-14 20:45:38,682 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 20:45:38,683 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.009s
2025-07-14 20:45:38,683 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.009s
2025-07-14 20:45:38,683 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.006s
2025-07-14 21:06:15,308 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 21:06:15,359 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:15,361 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:15,362 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:15,370 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 21:06:15,370 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 21:06:15,373 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 21:06:15,373 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:15,374 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 21:06:15,374 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:15,376 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:15,379 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.071s
2025-07-14 21:06:15,380 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 21:06:15,381 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:15,382 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:15,383 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:15,391 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 21:06:15,391 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 21:06:15,399 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 21:06:15,399 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:15,403 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 21:06:15,403 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:15,409 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:15,410 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.030s
2025-07-14 21:06:18,206 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,209 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,210 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,212 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 21:06:18,212 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 21:06:18,214 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,216 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.010s
2025-07-14 21:06:18,248 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,249 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,251 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,252 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,253 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,255 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,255 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,256 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 21:06:18,256 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 12, 6, 18, 256185))
2025-07-14 21:06:18,257 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,257 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,258 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,258 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,260 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,260 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,260 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,261 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 21:06:18,261 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 21:06:18,262 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,263 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 21:06:18,263 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 12, 6, 18, 262968))
2025-07-14 21:06:18,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,263 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,263 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,264 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 21:06:18,264 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 21:06:18,265 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,265 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,266 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 21:06:18,266 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 21:06:18,267 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,268 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.020s
2025-07-14 21:06:18,268 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.019s
2025-07-14 21:06:18,269 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.017s
2025-07-14 21:06:18,269 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,269 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-14 21:06:18,270 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,271 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,271 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,271 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,271 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,272 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,272 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,272 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,272 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.014s
2025-07-14 21:06:18,272 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,272 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,272 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,273 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 21:06:18,273 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 12, 6, 18, 273261))
2025-07-14 21:06:18,274 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 21:06:18,274 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 21:06:18,275 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 21:06:18,275 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 12, 6, 18, 274774))
2025-07-14 21:06:18,275 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,275 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 21:06:18,276 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,276 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,276 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 21:06:18,276 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 21:06:18,276 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 21:06:18,277 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 21:06:18,277 - sqlalchemy.engine.Engine - INFO - [cached since 4.025e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 21:06:18,277 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.008s
2025-07-14 21:06:18,277 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.007s
2025-07-14 21:06:18,277 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 21:06:18,278 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.007s
2025-07-14 21:06:18,278 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.003s
2025-07-14 22:00:00,376 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 22:00:00,393 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:00,393 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:00,393 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:00,396 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 22:00:00,397 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 22:00:00,400 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 22:00:00,400 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:00,401 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 22:00:00,401 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:00,403 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:00,404 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.028s
2025-07-14 22:00:00,405 - app.main - INFO - 🔄 GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 22:00:00,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:00,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:00,409 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:00,411 - sqlalchemy.engine.Engine - INFO - SELECT chat_logs.id, chat_logs.user_id, chat_logs.`role`, chat_logs.message, chat_logs.emotion, chat_logs.emotion_score, chat_logs.message_type, chat_logs.session_id, chat_logs.qdrant_vector_id, chat_logs.created_at 
FROM chat_logs 
WHERE chat_logs.user_id = %s ORDER BY chat_logs.created_at DESC 
 LIMIT %s, %s
2025-07-14 22:00:00,411 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 50)
2025-07-14 22:00:00,414 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_logs 
WHERE chat_logs.user_id = %s
2025-07-14 22:00:00,414 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:00,415 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s
2025-07-14 22:00:00,415 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:00,417 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:00,418 - app.main - INFO - ✅ GET /api/v1/chat/history/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.013s
2025-07-14 22:00:02,623 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,626 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,627 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,627 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,629 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 22:00:02,629 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 22:00:02,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,631 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.008s
2025-07-14 22:00:02,656 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,657 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,659 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,661 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,662 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,662 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,663 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,666 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s AND emotions.detected_at <= %s
2025-07-14 22:00:02,666 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 14, 0, 0), datetime.datetime(2025, 7, 14, 23, 59, 59, 999999))
2025-07-14 22:00:02,666 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,667 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,667 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,668 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,669 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 22:00:02,669 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 22:00:02,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,670 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,670 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,671 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,671 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,672 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,673 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 22:00:02,673 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 13, 0, 2, 672814))
2025-07-14 22:00:02,674 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 22:00:02,674 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 22:00:02,674 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 22:00:02,674 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 13, 0, 2, 674541))
2025-07-14 22:00:02,675 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,677 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/summary - 200 - 0.016s
2025-07-14 22:00:02,677 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.015s
2025-07-14 22:00:02,678 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.022s
2025-07-14 22:00:02,678 - app.main - INFO - 🔄 GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,678 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.021s
2025-07-14 22:00:02,679 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.019s
2025-07-14 22:00:02,680 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,680 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,681 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,681 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,681 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,681 - app.main - INFO - 🔄 GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 클라이언트: 127.0.0.1
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - SELECT chat_sessions.id, chat_sessions.user_id, chat_sessions.session_id, chat_sessions.start_time, chat_sessions.end_time, chat_sessions.message_count, chat_sessions.avg_emotion_score, chat_sessions.session_summary 
FROM chat_sessions 
WHERE chat_sessions.user_id = %s ORDER BY chat_sessions.start_time DESC 
 LIMIT %s, %s
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 20)
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,682 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-14 22:00:02,683 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.age, users.gender, users.speech_style, users.phone, users.profile_image, users.is_active, users.last_login, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2025-07-14 22:00:02,683 - sqlalchemy.engine.Engine - INFO - [cached since 4.05e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e',)
2025-07-14 22:00:02,683 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s
2025-07-14 22:00:02,683 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 6, 14, 13, 0, 2, 683508))
2025-07-14 22:00:02,684 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s AND emotions.detected_at >= %s ORDER BY emotions.detected_at DESC
2025-07-14 22:00:02,684 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', datetime.datetime(2025, 7, 7, 13, 0, 2, 683934))
2025-07-14 22:00:02,684 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,684 - sqlalchemy.engine.Engine - INFO - SELECT emotions.id, emotions.user_id, emotions.emotion, emotions.intensity, emotions.context, emotions.trigger_message_id, emotions.detected_method, emotions.detected_at 
FROM emotions 
WHERE emotions.user_id = %s ORDER BY emotions.detected_at ASC 
 LIMIT %s, %s
2025-07-14 22:00:02,684 - sqlalchemy.engine.Engine - INFO - [cached since 4.049e+04s ago] ('3dbf0f1f-dfe9-4d73-a665-13bd4e13781e', 0, 1000)
2025-07-14 22:00:02,684 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-14 22:00:02,686 - app.main - INFO - ✅ GET /api/v1/chat/sessions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e - 200 - 0.008s
2025-07-14 22:00:02,686 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/stats - 200 - 0.006s
2025-07-14 22:00:02,686 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/recent - 200 - 0.005s
2025-07-14 22:00:02,687 - app.main - INFO - ✅ GET /api/v1/emotions/3dbf0f1f-dfe9-4d73-a665-13bd4e13781e/daily - 200 - 0.005s
